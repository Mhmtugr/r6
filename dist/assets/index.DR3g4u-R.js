const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./NotFound.D0wM8JJ_.js","./vendor-vue.Cn8zEwKq.js","./vendor-firebase.4azA1Kf8.js","./vendor-chart.By1hop_s.js","./NotFound.DMfPKb9P.css","./DashboardView.k2YoRmP8.js","./DashboardView.X-TQYE-b.css","./Login.BTrwCjs2.js","./Login.DqrRgTGc.css","./OrderListView.DDWP8tlK.js","./OrderListView.MrrG246d.css","./OrderDetailView.TvuJ07ZK.js","./OrderDetailView.CMZSOURS.css"])))=>i.map(i=>d[i]);
var e,t,n,i,a,r,s,o,l,c,d=Object.defineProperty,u=(e,t)=>d(e,"name",{value:t,configurable:!0}),m=(e,t,n)=>((e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);import{r as h,d as p,u as f,c as g,a as y,b as v,o as b,n as k,e as w,w as _,g as A,f as D,h as T,s as S,i as C,j as E,k as M,t as O,l as x,m as P,p as z,F as R,q as L,v as I,x as N,y as B,z as j,A as $,B as U,C as F,D as H,E as W,G as q,T as V,H as G,I as K,J as Y,K as Q,L as J,M as X,N as Z,O as ee,P as te,Q as ne}from"./vendor-vue.Cn8zEwKq.js";import{g as ie}from"./vendor-firebase.4azA1Kf8.js";import{C as ae,r as re}from"./vendor-chart.By1hop_s.js";function se(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function oe(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}u((function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)})).observe(document,{childList:!0,subtree:!0}),u(t,"getFetchOpts"),u(n,"processPreload")}function t(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}}),"polyfill")(),u(se,"toDate"),u(oe,"constructFrom");const le=6048e5,ce=43200;let de={};function ue(){return de}function me(e,t){var n,i,a,r;const s=ue(),o=(null==t?void 0:t.weekStartsOn)??(null==(i=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:i.weekStartsOn)??s.weekStartsOn??(null==(r=null==(a=s.locale)?void 0:a.options)?void 0:r.weekStartsOn)??0,l=se(e),c=l.getDay(),d=(c<o?7:0)+c-o;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function he(e){return me(e,{weekStartsOn:1})}function pe(e){const t=se(e),n=t.getFullYear(),i=oe(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=he(i),r=oe(e,0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);const s=he(r);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function fe(e){const t=se(e);return t.setHours(0,0,0,0),t}function ge(e){const t=se(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ye(e,t){const n=fe(e),i=fe(t),a=+n-ge(n),r=+i-ge(i);return Math.round((a-r)/864e5)}function ve(e){const t=pe(e),n=oe(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),he(n)}function be(e,t){const n=se(e),i=se(t),a=n.getTime()-i.getTime();return a<0?-1:a>0?1:a}function ke(e){return oe(e,Date.now())}function we(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function _e(e){if(!we(e)&&"number"!=typeof e)return!1;const t=se(e);return!isNaN(Number(t))}function Ae(e,t){const n=se(e),i=se(t);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}function De(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}function Te(e,t){return+se(e)-+se(t)}function Se(e){const t=se(e);return t.setHours(23,59,59,999),t}function Ce(e){const t=se(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ee(e){const t=se(e);return+Se(t)==+Ce(t)}function Me(e,t){const n=se(e),i=se(t),a=be(n,i),r=Math.abs(Ae(n,i));let s;if(r<1)s=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*r);let t=be(n,i)===-a;Ee(se(e))&&1===r&&1===be(e,i)&&(t=!1),s=a*(r-Number(t))}return 0===s?0:s}function Oe(e,t,n){const i=Te(e,t)/1e3;return De(null==n?void 0:n.roundingMethod)(i)}function xe(e){const t=se(e),n=oe(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}u(ue,"getDefaultOptions"),u(me,"startOfWeek"),u(he,"startOfISOWeek"),u(pe,"getISOWeekYear"),u(fe,"startOfDay"),u(ge,"getTimezoneOffsetInMilliseconds"),u(ye,"differenceInCalendarDays"),u(ve,"startOfISOWeekYear"),u(be,"compareAsc"),u(ke,"constructNow"),u(we,"isDate$1"),u(_e,"isValid"),u(Ae,"differenceInCalendarMonths"),u(De,"getRoundingMethod"),u(Te,"differenceInMilliseconds"),u(Se,"endOfDay"),u(Ce,"endOfMonth"),u(Ee,"isLastDayOfMonth"),u(Me,"differenceInMonths"),u(Oe,"differenceInSeconds"),u(xe,"startOfYear");const Pe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ze=u(((e,t,n)=>{let i;const a=Pe[e];return i="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?"in "+i:i+" ago":i}),"formatDistance$2");function Re(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}u(Re,"buildFormatLongFn");const Le={date:Re({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Re({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Re({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ne=u(((e,t,n,i)=>Ie[e]),"formatRelative$1");function Be(e){return(t,n)=>{let i;if("formatting"===((null==n?void 0:n.context)?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=(null==n?void 0:n.width)?String(n.width):t;i=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=(null==n?void 0:n.width)?String(n.width):e.defaultWidth;i=e.values[a]||e.values[t]}return i[e.argumentCallback?e.argumentCallback(t):t]}}u(Be,"buildLocalizeFn");const je={ordinalNumber:u(((e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"}),"ordinalNumber$1"),era:Be({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Be({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:u((e=>e-1),"argumentCallback")}),month:Be({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Be({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Be({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function $e(e){return(t,n={})=>{const i=n.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],r=t.match(a);if(!r)return null;const s=r[0],o=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Fe(o,(e=>e.test(s))):Ue(o,(e=>e.test(s)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}function Ue(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Fe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function He(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const a=i[0],r=t.match(e.parsePattern);if(!r)return null;let s=e.valueCallback?e.valueCallback(r[0]):r[0];s=n.valueCallback?n.valueCallback(s):s;return{value:s,rest:t.slice(a.length)}}}u($e,"buildMatchFn"),u(Ue,"findKey$1"),u(Fe,"findIndex"),u(He,"buildMatchPatternFn");const We={code:"en-US",formatDistance:ze,formatLong:Le,formatRelative:Ne,localize:je,match:{ordinalNumber:He({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:u((e=>parseInt(e,10)),"valueCallback")}),era:$e({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:$e({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:u((e=>e+1),"valueCallback")}),month:$e({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:$e({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:$e({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function qe(e){const t=se(e);return ye(t,xe(t))+1}function Ve(e){const t=se(e),n=+he(t)-+ve(t);return Math.round(n/le)+1}function Ge(e,t){var n,i,a,r;const s=se(e),o=s.getFullYear(),l=ue(),c=(null==t?void 0:t.firstWeekContainsDate)??(null==(i=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:i.firstWeekContainsDate)??l.firstWeekContainsDate??(null==(r=null==(a=l.locale)?void 0:a.options)?void 0:r.firstWeekContainsDate)??1,d=oe(e,0);d.setFullYear(o+1,0,c),d.setHours(0,0,0,0);const u=me(d,t),m=oe(e,0);m.setFullYear(o,0,c),m.setHours(0,0,0,0);const h=me(m,t);return s.getTime()>=u.getTime()?o+1:s.getTime()>=h.getTime()?o:o-1}function Ke(e,t){var n,i,a,r;const s=ue(),o=(null==t?void 0:t.firstWeekContainsDate)??(null==(i=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:i.firstWeekContainsDate)??s.firstWeekContainsDate??(null==(r=null==(a=s.locale)?void 0:a.options)?void 0:r.firstWeekContainsDate)??1,l=Ge(e,t),c=oe(e,0);c.setFullYear(l,0,o),c.setHours(0,0,0,0);return me(c,t)}function Ye(e,t){const n=se(e),i=+me(n,t)-+Ke(n,t);return Math.round(i/le)+1}function Qe(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}u(qe,"getDayOfYear"),u(Ve,"getISOWeek"),u(Ge,"getWeekYear"),u(Ke,"startOfWeekYear"),u(Ye,"getWeek"),u(Qe,"addLeadingZeros");const Je={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Qe("yy"===t?i%100:i,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Qe(n+1,2)},d:(e,t)=>Qe(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Qe(e.getHours()%12||12,t.length),H:(e,t)=>Qe(e.getHours(),t.length),m:(e,t)=>Qe(e.getMinutes(),t.length),s:(e,t)=>Qe(e.getSeconds(),t.length),S(e,t){const n=t.length,i=e.getMilliseconds();return Qe(Math.trunc(i*Math.pow(10,n-3)),t.length)}},Xe="midnight",Ze="noon",et="morning",tt="afternoon",nt="evening",it="night",at={G:u((function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}}),"G"),y:u((function(e,t,n){if("yo"===t){const t=e.getFullYear(),i=t>0?t:1-t;return n.ordinalNumber(i,{unit:"year"})}return Je.y(e,t)}),"y"),Y:u((function(e,t,n,i){const a=Ge(e,i),r=a>0?a:1-a;if("YY"===t){return Qe(r%100,2)}return"Yo"===t?n.ordinalNumber(r,{unit:"year"}):Qe(r,t.length)}),"Y"),R:u((function(e,t){return Qe(pe(e),t.length)}),"R"),u:u((function(e,t){return Qe(e.getFullYear(),t.length)}),"u"),Q:u((function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Qe(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}}),"Q"),q:u((function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Qe(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}}),"q"),M:u((function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return Je.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}}),"M"),L:u((function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Qe(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}}),"L"),w:u((function(e,t,n,i){const a=Ye(e,i);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Qe(a,t.length)}),"w"),I:u((function(e,t,n){const i=Ve(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):Qe(i,t.length)}),"I"),d:u((function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Je.d(e,t)}),"d"),D:u((function(e,t,n){const i=qe(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):Qe(i,t.length)}),"D"),E:u((function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}}),"E"),e:u((function(e,t,n,i){const a=e.getDay(),r=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Qe(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}}),"e"),c:u((function(e,t,n,i){const a=e.getDay(),r=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Qe(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}}),"c"),i:u((function(e,t,n){const i=e.getDay(),a=0===i?7:i;switch(t){case"i":return String(a);case"ii":return Qe(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}}),"i"),a:u((function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}}),"a"),b:u((function(e,t,n){const i=e.getHours();let a;switch(a=12===i?Ze:0===i?Xe:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}}),"b"),B:u((function(e,t,n){const i=e.getHours();let a;switch(a=i>=17?nt:i>=12?tt:i>=4?et:it,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}}),"B"),h:u((function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Je.h(e,t)}),"h"),H:u((function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Je.H(e,t)}),"H"),K:u((function(e,t,n){const i=e.getHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):Qe(i,t.length)}),"K"),k:u((function(e,t,n){let i=e.getHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):Qe(i,t.length)}),"k"),m:u((function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Je.m(e,t)}),"m"),s:u((function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Je.s(e,t)}),"s"),S:u((function(e,t){return Je.S(e,t)}),"S"),X:u((function(e,t,n){const i=e.getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return st(i);case"XXXX":case"XX":return ot(i);default:return ot(i,":")}}),"X"),x:u((function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return st(i);case"xxxx":case"xx":return ot(i);default:return ot(i,":")}}),"x"),O:u((function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rt(i,":");default:return"GMT"+ot(i,":")}}),"O"),z:u((function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rt(i,":");default:return"GMT"+ot(i,":")}}),"z"),t:u((function(e,t,n){return Qe(Math.trunc(e.getTime()/1e3),t.length)}),"t"),T:u((function(e,t,n){return Qe(e.getTime(),t.length)}),"T")};function rt(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),a=Math.trunc(i/60),r=i%60;return 0===r?n+String(a):n+String(a)+t+Qe(r,2)}function st(e,t){if(e%60==0){return(e>0?"-":"+")+Qe(Math.abs(e)/60,2)}return ot(e,t)}function ot(e,t=""){const n=e>0?"-":"+",i=Math.abs(e);return n+Qe(Math.trunc(i/60),2)+t+Qe(i%60,2)}u(rt,"formatTimezoneShort"),u(st,"formatTimezoneWithOptionalMinutes"),u(ot,"formatTimezone");const lt=u(((e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}),"dateLongFormatter"),ct=u(((e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}),"timeLongFormatter"),dt=u(((e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return lt(e,t);let r;switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",lt(i,t)).replace("{{time}}",ct(a,t))}),"dateTimeLongFormatter"),ut={p:ct,P:dt},mt=/^D+$/,ht=/^Y+$/,pt=["D","DD","YY","YYYY"];function ft(e){return mt.test(e)}function gt(e){return ht.test(e)}function yt(e,t,n){const i=vt(e,t,n);if(pt.includes(e))throw new RangeError(i)}function vt(e,t,n){const i="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}u(ft,"isProtectedDayOfYearToken"),u(gt,"isProtectedWeekYearToken"),u(yt,"warnOrThrowProtectedError"),u(vt,"message");const bt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wt=/^'([^]*?)'?$/,_t=/''/g,At=/[a-zA-Z]/;function Dt(e,t,n){var i,a,r,s,o,l,c,d;const u=ue(),m=(null==n?void 0:n.locale)??u.locale??We,h=(null==n?void 0:n.firstWeekContainsDate)??(null==(a=null==(i=null==n?void 0:n.locale)?void 0:i.options)?void 0:a.firstWeekContainsDate)??u.firstWeekContainsDate??(null==(s=null==(r=u.locale)?void 0:r.options)?void 0:s.firstWeekContainsDate)??1,p=(null==n?void 0:n.weekStartsOn)??(null==(l=null==(o=null==n?void 0:n.locale)?void 0:o.options)?void 0:l.weekStartsOn)??u.weekStartsOn??(null==(d=null==(c=u.locale)?void 0:c.options)?void 0:d.weekStartsOn)??0,f=se(e);if(!_e(f))throw new RangeError("Invalid time value");let g=t.match(kt).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,ut[t])(e,m.formatLong)}return e})).join("").match(bt).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Tt(e)};if(at[t])return{isToken:!0,value:e};if(t.match(At))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));m.localize.preprocessor&&(g=m.localize.preprocessor(f,g));const y={firstWeekContainsDate:h,weekStartsOn:p,locale:m};return g.map((i=>{if(!i.isToken)return i.value;const a=i.value;(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&gt(a)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&ft(a))&&yt(a,t,String(e));return(0,at[a[0]])(f,a,m.localize,y)})).join("")}function Tt(e){const t=e.match(wt);return t?t[1].replace(_t,"'"):e}function St(e,t,n){const i=ue(),a=(null==n?void 0:n.locale)??i.locale??We,r=be(e,t);if(isNaN(r))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:null==n?void 0:n.addSuffix,comparison:r});let o,l;r>0?(o=se(t),l=se(e)):(o=se(e),l=se(t));const c=Oe(l,o),d=(ge(l)-ge(o))/1e3,u=Math.round((c-d)/60);let m;if(u<2)return(null==n?void 0:n.includeSeconds)?c<5?a.formatDistance("lessThanXSeconds",5,s):c<10?a.formatDistance("lessThanXSeconds",10,s):c<20?a.formatDistance("lessThanXSeconds",20,s):c<40?a.formatDistance("halfAMinute",0,s):c<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):0===u?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",u,s);if(u<45)return a.formatDistance("xMinutes",u,s);if(u<90)return a.formatDistance("aboutXHours",1,s);if(u<1440){const e=Math.round(u/60);return a.formatDistance("aboutXHours",e,s)}if(u<2520)return a.formatDistance("xDays",1,s);if(u<ce){const e=Math.round(u/1440);return a.formatDistance("xDays",e,s)}if(u<86400)return m=Math.round(u/ce),a.formatDistance("aboutXMonths",m,s);if(m=Me(l,o),m<12){const e=Math.round(u/ce);return a.formatDistance("xMonths",e,s)}{const e=m%12,t=Math.trunc(m/12);return e<3?a.formatDistance("aboutXYears",t,s):e<9?a.formatDistance("overXYears",t,s):a.formatDistance("almostXYears",t+1,s)}}function Ct(e,t){return St(e,ke(e),t)}u(Dt,"format"),u(Tt,"cleanEscapedString"),u(St,"formatDistance$1"),u(Ct,"formatDistanceToNow");const Et={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarım dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklaşık 1 saat",other:"yaklaşık {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gün",other:"{{count}} gün"},aboutXWeeks:{one:"yaklaşık 1 hafta",other:"yaklaşık {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yaklaşık 1 ay",other:"yaklaşık {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklaşık 1 yıl",other:"yaklaşık {{count}} yıl"},xYears:{one:"1 yıl",other:"{{count}} yıl"},overXYears:{one:"1 yıldan fazla",other:"{{count}} yıldan fazla"},almostXYears:{one:"neredeyse 1 yıl",other:"neredeyse {{count}} yıl"}},Mt=u(((e,t,n)=>{let i;const a=Et[e];return i="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?i+" sonra":i+" önce":i}),"formatDistance"),Ot={date:Re({formats:{full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},defaultWidth:"full"}),time:Re({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Re({formats:{full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},xt={lastWeek:"'geçen hafta' eeee 'saat' p",yesterday:"'dün saat' p",today:"'bugün saat' p",tomorrow:"'yarın saat' p",nextWeek:"eeee 'saat' p",other:"P"},Pt=u(((e,t,n,i)=>xt[e]),"formatRelative"),zt={code:"tr",formatDistance:Mt,formatLong:Ot,formatRelative:Pt,localize:{ordinalNumber:u(((e,t)=>Number(e)+"."),"ordinalNumber"),era:Be({values:{narrow:["MÖ","MS"],abbreviated:["MÖ","MS"],wide:["Milattan Önce","Milattan Sonra"]},defaultWidth:"wide"}),quarter:Be({values:{narrow:["1","2","3","4"],abbreviated:["1Ç","2Ç","3Ç","4Ç"],wide:["İlk çeyrek","İkinci Çeyrek","Üçüncü çeyrek","Son çeyrek"]},defaultWidth:"wide",argumentCallback:u((e=>Number(e)-1),"argumentCallback")}),month:Be({values:{narrow:["O","Ş","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],wide:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},defaultWidth:"wide"}),day:Be({values:{narrow:["P","P","S","Ç","P","C","C"],short:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","Çar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},defaultWidth:"wide"}),dayPeriod:Be({values:{narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"},wide:{am:"Ö.Ö.",pm:"Ö.S.",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"}},defaultWidth:"wide",formattingValues:{narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"},wide:{am:"ö.ö.",pm:"ö.s.",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:He({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:u((function(e){return parseInt(e,10)}),"valueCallback")}),era:$e({matchPatterns:{narrow:/^(mö|ms)/i,abbreviated:/^(mö|ms)/i,wide:/^(milattan önce|milattan sonra)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(^mö|^milattan önce)/i,/(^ms|^milattan sonra)/i]},defaultParseWidth:"any"}),quarter:$e({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234]ç/i,wide:/^((i|İ)lk|(i|İ)kinci|üçüncü|son) çeyrek/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1ç/i,/2ç/i,/3ç/i,/4ç/i],wide:[/^(i|İ)lk çeyrek/i,/(i|İ)kinci çeyrek/i,/üçüncü çeyrek/i,/son çeyrek/i]},defaultParseWidth:"any",valueCallback:u((e=>e+1),"valueCallback")}),month:$e({matchPatterns:{narrow:/^[oşmnhtaek]/i,abbreviated:/^(oca|şub|mar|nis|may|haz|tem|ağu|eyl|eki|kas|ara)/i,wide:/^(ocak|şubat|mart|nisan|mayıs|haziran|temmuz|ağustos|eylül|ekim|kasım|aralık)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^o/i,/^ş/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^ş/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^ağ/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},defaultParseWidth:"any"}),day:$e({matchPatterns:{narrow:/^[psçc]/i,short:/^(pz|pt|sa|ça|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|çar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|salı|çarşamba|perşembe|cuma(?!rtesi)|cumartesi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^p/i,/^p/i,/^s/i,/^ç/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^ça/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^salı/i,/^çarşamba/i,/^perşembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},defaultParseWidth:"any"}),dayPeriod:$e({matchPatterns:{narrow:/^(öö|ös|gy|ö|sa|ös|ak|ge)/i,any:/^(ö\.?\s?[ös]\.?|öğleden sonra|gece yarısı|öğle|(sabah|öğ|akşam|gece)(leyin))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^ö\.?ö\.?/i,pm:/^ö\.?s\.?/i,midnight:/^(gy|gece yarısı)/i,noon:/^öğ/i,morning:/^sa/i,afternoon:/^öğleden sonra/i,evening:/^ak/i,night:/^ge/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function Rt(){const e=window.firebase,t=h({isProcessing:!1,lastError:null,currentProvider:null}),n=u((async n=>{try{t.value.isProcessing=!0,t.value.lastError=null;const{email:a,password:r}=n;if(!a||!r)return{success:!1,error:"E-posta ve şifre giriniz"};if("admin"===a&&"admin"===r){return{success:!0,user:{uid:"admin",email:"admin",displayName:"Admin",role:"admin",department:"IT"}}}if(void 0===e||!e.auth){return{success:!0,user:{uid:"demo-user",email:a||"demo@elektrotrack.com",displayName:(null==a?void 0:a.split("@")[0])||"Demo Kullanıcı",role:"admin",department:"Yönetim"},demo:!0}}try{const t=(await e.auth().signInWithEmailAndPassword(a,r)).user,n=await l(t);return{success:!0,user:{...t,...n}}}catch(i){let e="Giriş yapılırken bir hata oluştu.";if(i.code)switch(i.code){case"auth/invalid-credential":case"auth/user-not-found":case"auth/wrong-password":e="E-posta adresi veya şifre hatalı.";break;case"auth/user-disabled":e="Bu hesap devre dışı bırakıldı.";break;case"auth/too-many-requests":e="Çok fazla başarısız giriş denemesi. Lütfen daha sonra tekrar deneyin.";break;case"auth/network-request-failed":e="Ağ hatası. İnternet bağlantınızı kontrol edin."}return t.value.lastError=i,{success:!1,error:e,code:i.code}}}catch(a){return t.value.lastError=a,{success:!1,error:a.message}}finally{t.value.isProcessing=!1}}),"login"),i=u((async()=>{try{if(t.value.isProcessing=!0,t.value.lastError=null,t.value.currentProvider="google",void 0===e||!e.auth)return a();try{const t=new e.auth.GoogleAuthProvider,n=(await e.auth().signInWithPopup(t)).user;let i=await l(n);return i||(i={name:n.displayName,email:n.email,photoURL:n.photoURL,lastLogin:new Date,createdAt:new Date},await e.firestore().collection("users").doc(n.uid).set(i,{merge:!0})),{success:!0,user:{...n,...i}}}catch(n){let e="Google ile giriş yapılırken bir hata oluştu.";if(n.code)switch(n.code){case"auth/popup-closed-by-user":return{success:!1,error:null,code:n.code};case"auth/account-exists-with-different-credential":e="Bu e-posta başka bir giriş yöntemiyle ilişkilendirilmiş.";break;case"auth/cancelled-popup-request":e="Giriş işlemi iptal edildi.";break;case"auth/network-request-failed":e="Ağ hatası. İnternet bağlantınızı kontrol edin."}return t.value.lastError=n,{success:!1,error:e,code:n.code}}}catch(i){return t.value.lastError=i,{success:!1,error:i.message}}finally{t.value.isProcessing=!1,t.value.currentProvider=null}}),"loginWithGoogle"),a=u((async()=>{try{t.value.isProcessing=!0;return{success:!0,user:{uid:"demo-user-1",email:"demo@elektrotrack.com",displayName:"Demo Kullanıcı",role:"admin",department:"Yönetim",demo:!0},demo:!0}}catch(e){return{success:!1,error:e.message}}finally{t.value.isProcessing=!1}}),"demoLogin"),r=u((async n=>{try{if(t.value.isProcessing=!0,t.value.lastError=null,!n)return{success:!1,error:"E-posta adresinizi giriniz"};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return{success:!1,error:"Geçerli bir e-posta adresi giriniz"};if(void 0===e||!e.auth)return{success:!0,demo:!0};try{return await e.auth().sendPasswordResetEmail(n),{success:!0}}catch(i){let e="Şifre sıfırlama bağlantısı gönderilirken bir hata oluştu.";if(i.code)switch(i.code){case"auth/user-not-found":e="Bu e-posta adresi ile kayıtlı bir kullanıcı bulunamadı.";break;case"auth/invalid-email":e="Geçersiz e-posta adresi.";break;case"auth/network-request-failed":e="Ağ hatası. İnternet bağlantınızı kontrol edin."}return t.value.lastError=i,{success:!1,error:e,code:i.code}}}catch(a){return t.value.lastError=a,{success:!1,error:a.message}}finally{t.value.isProcessing=!1}}),"resetPassword"),s=u((async n=>{try{t.value.isProcessing=!0,t.value.lastError=null;const{name:a,email:r,username:s,department:o,password:l}=n;if(!(a&&r&&s&&o&&l))return{success:!1,error:"Tüm alanları doldurunuz"};if(l.length<6)return{success:!1,error:"Şifre en az 6 karakter olmalı"};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return{success:!1,error:"Geçerli bir e-posta adresi giriniz"};if(void 0===e||!e.auth||!e.firestore)return{success:!0,demo:!0};try{if(!(await e.firestore().collection("users").where("username","==",s).get()).empty)return{success:!1,error:"Bu kullanıcı adı zaten kullanımda"};const t=(await e.auth().createUserWithEmailAndPassword(r,l)).user;return await t.updateProfile({displayName:a}),await e.firestore().collection("users").doc(t.uid).set({name:a,email:r,username:s,department:o,role:"user",createdAt:new Date,lastLogin:new Date}),{success:!0,user:t}}catch(i){let e="Kayıt işlemi sırasında bir hata oluştu.";if(i.code)switch(i.code){case"auth/email-already-in-use":e="Bu e-posta adresi zaten kullanımda.";break;case"auth/invalid-email":e="Geçersiz e-posta adresi.";break;case"auth/weak-password":e="Şifre çok zayıf.";break;case"auth/network-request-failed":e="Ağ hatası. İnternet bağlantınızı kontrol edin."}return t.value.lastError=i,{success:!1,error:e,code:i.code}}}catch(a){return t.value.lastError=a,{success:!1,error:a.message}}finally{t.value.isProcessing=!1}}),"register"),o=u((async()=>{try{return t.value.isProcessing=!0,void 0!==e&&e.auth&&await e.auth().signOut(),{success:!0}}catch(n){return{success:!1,error:n.message}}finally{t.value.isProcessing=!1}}),"logout"),l=u((async t=>{if(!t||!t.uid)return null;if(void 0!==e&&e.firestore)try{const n=await e.firestore().collection("users").doc(t.uid).get();return n.exists?n.data():null}catch(n){return null}return null}),"loadUserData");return{authState:t,login:n,loginWithGoogle:i,demoLogin:a,register:s,resetPassword:r,logout:o,checkAuth:u((async()=>new Promise((t=>{if(void 0!==e&&e.auth){const n=e.auth().onAuthStateChanged((async e=>{if(e){const i=await l(e);n(),t({isAuthenticated:!0,user:{...e,...i}})}else n(),t({isAuthenticated:!1,user:null})}))}else{if(window.location.href.includes("demo=true")){t({isAuthenticated:!0,user:{uid:"demo-user",email:"demo@elektrotrack.com",displayName:"Demo Kullanıcı",role:"admin",department:"Yönetim",demo:!0},demo:!0})}else t({isAuthenticated:!1,user:null})}}))),"checkAuth")}}u(Rt,"useAuthService");const Lt=p("auth",(()=>{const e=Rt(),t=f(),n=h(null),i=h(!1),a=h(!0),r=h(null),s=h(!1),o=g((()=>n.value)),l=g((()=>{var e;return(null==(e=n.value)?void 0:e.role)||"user"})),c=g((()=>{var e,t;return(null==(e=n.value)?void 0:e.displayName)||(null==(t=n.value)?void 0:t.name)||"Kullanıcı"}));async function d(){try{a.value=!0,r.value=null;const{isAuthenticated:t,user:o,demo:l}=await e.checkAuth();return i.value=t,n.value=o,s.value=!!l,{success:!0,isAuthenticated:t}}catch(t){return r.value=t.message,{success:!1,error:t.message}}finally{a.value=!1}}async function m(o){try{a.value=!0,r.value=null;const l=await e.login(o);return l.success?(n.value=l.user,i.value=!0,s.value=!!l.demo,t.push("/"),{success:!0,user:l.user}):(r.value=l.error,{success:!1,error:l.error})}catch(l){return r.value=l.message,{success:!1,error:l.message}}finally{a.value=!1}}async function p(){try{a.value=!0,r.value=null;const o=await e.loginWithGoogle();return o.success?(n.value=o.user,i.value=!0,s.value=!!o.demo,t.push("/"),{success:!0}):"auth/popup-closed-by-user"===o.code?{success:!1,silent:!0}:(r.value=o.error,{success:!1,error:o.error})}catch(o){return r.value=o.message,{success:!1,error:o.message}}finally{a.value=!1}}async function y(){try{a.value=!0,r.value=null;const o=await e.demoLogin();return o.success?(n.value=o.user,i.value=!0,s.value=!0,t.push("/"),{success:!0,user:o.user}):(r.value=o.error,{success:!1,error:o.error})}catch(o){return r.value=o.message,{success:!1,error:o.message}}finally{a.value=!1}}async function v(o){try{a.value=!0,r.value=null;const l=await e.register(o);return l.success?(n.value=l.user,i.value=!0,s.value=!!l.demo,t.push("/"),{success:!0}):(r.value=l.error,{success:!1,error:l.error})}catch(l){return r.value=l.message,{success:!1,error:l.message}}finally{a.value=!1}}async function b(t){try{a.value=!0,r.value=null;const n=await e.resetPassword(t);return n.success?{success:!0}:(r.value=n.error,{success:!1,error:n.error})}catch(n){return r.value=n.message,{success:!1,error:n.message}}finally{a.value=!1}}async function k(){try{return a.value=!0,await e.logout(),n.value=null,i.value=!1,s.value=!1,t.push("/login"),{success:!0}}catch(o){return r.value=o.message,{success:!1,error:o.message}}finally{a.value=!1}}return u(d,"initialize"),u(m,"login"),u(p,"loginWithGoogle"),u(y,"demoLogin"),u(v,"register"),u(b,"resetPassword"),u(k,"logout"),{user:n,isAuthenticated:i,loading:a,error:r,isDemoMode:s,currentUser:o,userRole:l,userName:c,initialize:d,login:m,loginWithGoogle:p,register:v,resetPassword:b,logout:k,demoLogin:y}})),It={appName:"MehmetEndüstriyelTakip",version:"2.0.0",apiUrl:"/api",useLocalStorage:!0,debugMode:!1,ai:{enabled:!0,geminiApiKey:null,modelName:"gemini-1.5-pro-latest",temperature:.7,maxTokens:1500,systemPrompt:"\n      Sen MehmetEndüstriyelTakip sisteminin yapay zeka asistanısın.\n      Orta Gerilim Hücre Üretim Takip Sistemi hakkında uzman bir asistan olarak görev yapıyorsun.\n      Her zaman doğru, net ve teknik bilgileri içeren yanıtlar vermelisin.\n      Sistemdeki sipariş durumları, malzeme stokları ve teknik dokümantasyon hakkında detaylı bilgi sahibisin.\n      Eğer sorular net değilse, daha net bilgi iste ve kullanıcıyı yönlendir.\n    "},firebase:{apiKey:null,authDomain:null,projectId:null,storageBucket:null,messagingSenderId:null,appId:null,measurementId:null},log:{level:"WARN",enableConsole:!0,enableMemory:!1,maxMemoryEntries:500,remote:{enabled:!1,url:null,level:"WARN"}},useDemoMode:!1},Nt={...It,environment:"production",apiUrl:"/api",debugMode:!0,useDemoMode:It.useDemoMode,ai:{...It.ai,geminiApiKey:"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",modelName:"gemini-1.5-pro-latest"},firebase:{...It.firebase,apiKey:"AIzaSyCUjPf-XtmbcmFmy3m-HWjJoilDNQbt3GE",authDomain:"mehmetendustriyeltakip-1d917.firebaseapp.com",projectId:"mehmetendustriyeltakip-1d917",storageBucket:"mehmetendustriyeltakip-1d917.appspot.com",messagingSenderId:"278521463542",appId:"1:278521463542:web:ee3f34dd1c8830f664e2d7",measurementId:It.firebase.measurementId},log:{...It.log,level:"DEBUG",remote:{...It.log.remote,enabled:It.log.remote.enabled,url:It.log.remote.url,level:"WARN"}}},Bt=class{constructor(){m(this,"_mockData",{orders:[{id:"ord-001",orderNumber:"SIP-2024001",customer:"AYEDAŞ",cellType:"RM 36 CB",quantity:1,deliveryDate:"2024-11-15",status:"Gecikiyor",progress:65,priority:"high"},{id:"ord-002",orderNumber:"SIP-2024002",customer:"TEİAŞ",cellType:"RM 36 CB",quantity:1,deliveryDate:"2024-11-20",status:"Devam Ediyor",progress:80,priority:"medium"},{id:"ord-003",orderNumber:"SIP-2024003",customer:"BEDAŞ",cellType:"RM 36 LB",quantity:2,deliveryDate:"2024-10-30",status:"Planlandı",progress:10,priority:"low"}],production:{progress:75,activeOrders:12,completedOrders:45,delayedOrders:3},inventory:[{id:"mat-001",code:"137998%",name:"Siemens 7SR1003-1JA20-2DA0+ZY20 24VDC",quantity:2,minStock:5,status:"Kritik"},{id:"mat-002",code:"144866%",name:"KAP-80/190-95 Akım Trafosu",quantity:3,minStock:5,status:"Düşük"},{id:"mat-003",code:"120170%",name:"M480TB/G-027-95.300UN5 Kablo Başlığı",quantity:12,minStock:10,status:"Yeterli"}],dashboardStats:{},dashboardOrderTrend:{}}),this.baseUrl=Nt.apiUrl,this.mockMode=Nt.useDemoMode}async get(e,t={}){if(this.mockMode)return this.getMockData(e,t);try{const n=new URL(e,this.baseUrl);Object.keys(t).forEach((e=>n.searchParams.append(e,t[e])));const i=await fetch(n.toString(),{method:"GET",headers:this._getHeaders()});return this._handleResponse(i)}catch(n){throw this._handleError(n)}}async post(e,t={}){if(this.mockMode)return this.postMockData(e,t);try{const n=new URL(e,this.baseUrl),i=await fetch(n.toString(),{method:"POST",headers:this._getHeaders(),body:JSON.stringify(t)});return this._handleResponse(i)}catch(n){throw this._handleError(n)}}async put(e,t={}){if(this.mockMode)return this.postMockData(e,t,"PUT");try{const n=new URL(e,this.baseUrl),i=await fetch(n.toString(),{method:"PUT",headers:this._getHeaders(),body:JSON.stringify(t)});return this._handleResponse(i)}catch(n){throw this._handleError(n)}}async delete(e){if(this.mockMode)return this.deleteMockData(e);try{const t=new URL(e,this.baseUrl),n=await fetch(t.toString(),{method:"DELETE",headers:this._getHeaders()});return this._handleResponse(n,!0)}catch(t){throw this._handleError(t)}}_getHeaders(){const e={"Content-Type":"application/json",Accept:"application/json"};try{const t=Lt().token;t&&(e.Authorization=`Bearer ${t}`)}catch(t){}return e}async _handleResponse(e,t=!1){if(!e.ok){const t=new Error(`HTTP error! Status: ${e.status}`);try{const n=await e.json();t.data=n,t.message=n.message||t.message}catch(n){t.message=`${t.message} - ${e.statusText}`}if(401===e.status)try{Lt().logout()}catch(n){}throw t}if(!t&&204!==e.status)try{return await e.json()}catch(n){throw new Error("Invalid JSON response from server")}}_handleError(e){return e.response||(e.message=`Network Error: ${e.message}`),e}async getOrders(e={}){return this.get("/orders",e)}async getOrderDetails(e){return this.get(`/orders/${e}`)}async createOrder(e){return this.post("/orders",e)}async updateOrder(e,t){return this.put(`/orders/${e}`,t)}async deleteOrder(e){return this.delete(`/orders/${e}`)}async getProductionData(){return this.get("/production")}async updateProductionStatus(e){return this.put("/production/status",e)}async getInventory(e={}){return this.get("/inventory",e)}async updateInventoryItem(e,t){return this.put(`/inventory/${e}`,t)}getMockData(e,t){const n=new URL(e,"http://mock.url").pathname;if("/orders"===n)return Promise.resolve(this._mockData.orders);if(n.startsWith("/orders/")){const e=n.split("/")[2],t=this._mockData.orders.find((t=>t.id===e));return t?Promise.resolve(t):Promise.reject(new Error("Mock Order Not Found"))}return"/production"===n?Promise.resolve(this._mockData.production):"/production/status"===n?Promise.resolve({success:!0}):"/inventory"===n?Promise.resolve(this._mockData.inventory):n.startsWith("/inventory/")?Promise.resolve({success:!0}):"/dashboard/stats"===n?Promise.resolve(this._mockData.dashboardStats):"/dashboard/order-trend"===n?Promise.resolve(this._mockData.dashboardOrderTrend):Promise.reject(new Error(`Mock data not found for GET ${e}`))}postMockData(e,t,n="POST"){const i=new URL(e,"http://mock.url").pathname;if("/orders"===i){const e={...t,id:`ord-${Date.now()}`,status:"Planlandı"};return this._mockData.orders.push(e),Promise.resolve(e)}if("/production/status"===i&&"PUT"===n)return Promise.resolve({success:!0});if(i.startsWith("/inventory/")&&"PUT"===n){i.split("/")[2];return Promise.resolve({success:!0})}return Promise.resolve({success:!0,message:`Mock ${n} successful`,data:t})}deleteMockData(e){const t=new URL(e,"http://mock.url").pathname;if(t.startsWith("/orders/")){const e=t.split("/")[2],n=this._mockData.orders.findIndex((t=>t.id===e));return n>-1?(this._mockData.orders.splice(n,1),Promise.resolve()):Promise.reject(new Error("Mock Order Not Found for DELETE"))}return Promise.resolve()}};u(Bt,"ApiService");const jt=new Bt;function $t(e){return{all:e=e||new Map,on:u((function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])}),"on"),off:u((function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))}),"off"),emit:u((function(t,n){var i=e.get(t);i&&i.slice().map((function(e){e(n)})),(i=e.get("*"))&&i.slice().map((function(e){e(t,n)}))}),"emit")}}u($t,"mitt");const Ut=$t(),Ft={APP_READY:"app:ready",APP_ERROR:"app:error",APP_CONFIG_LOADED:"app:config:loaded",USER_LOGIN:"user:login",USER_LOGOUT:"user:logout",USER_PROFILE_UPDATED:"user:profile:updated",UI_THEME_CHANGED:"ui:theme:changed",UI_LOCALE_CHANGED:"ui:locale:changed",UI_SIDEBAR_TOGGLE:"ui:sidebar:toggle",UI_FULLSCREEN_TOGGLE:"ui:fullscreen:toggle",MODULE_LOADED:"module:loaded",MODULE_ERROR:"module:error",DATA_REFRESHED:"data:refreshed",DATA_CHANGED:"data:changed",DATA_ERROR:"data:error",INTEGRATION_CONNECTED:"integration:connected",INTEGRATION_DISCONNECTED:"integration:disconnected",INTEGRATION_ERROR:"integration:error"},Ht=u(((e,t)=>(Ut.on(e,t),()=>Ut.off(e,t))),"on"),Wt=u(((e,t)=>{Ut.off(e,t)}),"off"),qt=u(((e,t)=>{Ut.emit(e,t)}),"emit"),Vt=u(((e,t)=>{const n=u((i=>{t(i),Wt(e,n)}),"wrappedHandler");Ht(e,n)}),"once"),Gt=u((()=>({on:Ht,off:Wt,emit:qt,once:Vt,Events:Ft})),"useEventBus"),Kt={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4},Yt=u((e=>{const t=String(e).toUpperCase();return Kt[t]??Kt.INFO}),"getLevelNumber");let Qt={level:"DEBUG",enableConsole:(null==(e=Nt.log)?void 0:e.enableConsole)??!0,enableRemote:(null==(n=null==(t=Nt.log)?void 0:t.remote)?void 0:n.enabled)||!1,remoteUrl:(null==(a=null==(i=Nt.log)?void 0:i.remote)?void 0:a.url)||null,remoteLevel:null==(s=null==(r=Nt.log)?void 0:r.remote)?void 0:s.level},Jt=Yt(Qt.level),Xt=Yt(Qt.remoteLevel);const Zt=class{constructor(e="App"){this.context=e}_log(e,t,...n){const i=Yt(e);if(i<Jt)return;const a={timestamp:(new Date).toISOString(),level:e.toUpperCase(),context:this.context,message:t,data:n.map((e=>{var t;if(e instanceof Error)return{name:e.name,message:e.message,stack:null==(t=e.stack)?void 0:t.split("\n").map((e=>e.trim()))};try{return e}catch(n){return`[Unserializable data: ${n.message}]`}}))};if(Qt.enableConsole){this._getLevelColor(e);e}Qt.enableRemote&&Qt.remoteUrl&&i>=Xt&&this._sendToRemote(a)}debug(e,...t){this._log("debug",e,...t)}info(e,...t){this._log("info",e,...t)}warn(e,...t){this._log("warn",e,...t)}error(e,...t){this._log("error",e,...t)}_getLevelColor(e){switch(e){case"debug":return"#909090";case"info":return"#20a0ff";case"warn":return"#ff9900";case"error":return"#ff3333";default:return"#333333"}}_sendToRemote(e){fetch(Qt.remoteUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch((e=>{}))}};u(Zt,"Logger");let en=Zt;const tn=new en("App"),nn=h("disconnected"),an=h(null),rn=y([]),sn=h(0),on=h([]),ln=h(0),cn=class{constructor(){this.initialized=!1,this.cachedStockData=null,this.socket=null,this.eventBus=Gt(),this.retryTimeout=null,this.authStore=null,this.syncInterval=null,this.publishQueueProcessor=null,this.offlineQueue=[],this.listeners={},this.topics={STOCK_UPDATED:"stock:updated",MATERIAL_UPDATED:"material:updated",ORDER_UPDATED:"order:updated",PRODUCTION_UPDATED:"production:updated",PLANNING_UPDATED:"planning:updated"},tn.info("ERP Servisi başlatılıyor...")}async init(){try{return this.initialized||(this.authStore=Lt(),await this.initOfflineStorage(),await this.setupWebSocketConnection(),this.startSyncInterval(),this.startPublishQueueProcessor(),this.initialized=!0,tn.info("ERP Servisi başarıyla başlatıldı"),this.syncOfflineChanges()),!0}catch(e){return tn.error("ERP Servisi başlatılamadı:",e),nn.value="error",!1}}async setupWebSocketConnection(){try{if(jt.mockMode)return tn.warn("Mock modda WebSocket bağlantısı kurulmayacak"),void(nn.value="connected");nn.value="connecting";const e=this.authStore.getToken();if(!e)throw new Error("Canias ERP bağlantısı için yetkilendirme token'ı bulunamadı");const t=`${"https:"===window.location.protocol?"wss:":"ws:"}//${Nt.ERP_API_HOST||window.location.host}/api/erp/ws`;this.socket&&this.socket.readyState!==WebSocket.CLOSED&&this.socket.close(),this.socket=new WebSocket(`${t}?token=${e}`),this.socket.addEventListener("open",this.handleSocketOpen.bind(this)),this.socket.addEventListener("message",this.handleSocketMessage.bind(this)),this.socket.addEventListener("close",this.handleSocketClose.bind(this)),this.socket.addEventListener("error",this.handleSocketError.bind(this))}catch(e){tn.error("WebSocket bağlantısı kurulamadı:",e),nn.value="error",this.scheduleReconnect()}}handleSocketOpen(e){nn.value="connected",ln.value=0,an.value=new Date,tn.info("WebSocket bağlantısı kuruldu"),this.registerTopics(),this.syncOfflineChanges(),this.eventBus.emit("erp:connected")}handleSocketMessage(e){try{const t=JSON.parse(e.data);switch(t.type){case"WELCOME":tn.info("ERP WebSocket hoşgeldin mesajı alındı:",t.data);break;case"UPDATE":this.handleUpdateMessage(t.topic,t.data);break;case"SYNC_RESPONSE":this.handleSyncResponse(t.data);break;case"ERROR":tn.error("ERP WebSocket hata mesajı:",t.data);break;default:tn.warn("Bilinmeyen ERP mesaj tipi:",t.type)}}catch(t){tn.error("WebSocket mesajı işlenirken hata:",t,e.data)}}handleUpdateMessage(e,t){switch(e){case this.topics.STOCK_UPDATED:this.cachedStockData=null,this.eventBus.emit("erp:stock-updated",t);break;case this.topics.MATERIAL_UPDATED:this.eventBus.emit("erp:material-updated",t);break;case this.topics.ORDER_UPDATED:this.eventBus.emit("erp:order-updated",t);break;case this.topics.PRODUCTION_UPDATED:this.eventBus.emit("erp:production-updated",t);break;case this.topics.PLANNING_UPDATED:this.eventBus.emit("erp:planning-updated",t);break;default:tn.warn("Bilinmeyen update topic'i:",e)}an.value=new Date,sn.value++}handleSyncResponse(e){if(e.success){const t=e.syncedItems||[];t.length>0&&rn.splice(0,rn.findIndex((e=>t.some((t=>t.id===e.id))))+1),tn.info(`${t.length} öğe başarıyla senkronize edildi`),an.value=new Date}else tn.error("Senkronizasyon hatası:",e.error),on.value.push({timestamp:new Date,message:e.error||"Bilinmeyen senkronizasyon hatası",data:e})}handleSocketClose(e){"connected"===nn.value&&(nn.value="reconnecting",tn.warn("WebSocket bağlantısı kapandı, yeniden bağlanılacak:",e.code,e.reason),this.scheduleReconnect())}handleSocketError(e){tn.error("WebSocket bağlantısı hata verdi:",e),nn.value="error",this.scheduleReconnect()}scheduleReconnect(){this.retryTimeout&&clearTimeout(this.retryTimeout);const e=.5*Math.random()+.75;ln.value++;const t=Math.min(1e3*Math.pow(1.5,ln.value)*e,3e4);tn.info(`Yeniden bağlanma denemesi ${ln.value} - ${Math.round(t/1e3)} saniye sonra`),this.retryTimeout=setTimeout((()=>{"connected"!==nn.value&&this.setupWebSocketConnection()}),t)}registerTopics(){this.socket&&this.socket.readyState===WebSocket.OPEN&&(Object.values(this.topics).forEach((e=>{this.socket.send(JSON.stringify({action:"SUBSCRIBE",topic:e}))})),tn.info("ERP konularına abone olundu"))}async initOfflineStorage(){try{const t=localStorage.getItem("erp_pending_changes");if(t)try{const e=JSON.parse(t);Array.isArray(e)&&(rn.push(...e),tn.info(`${e.length} bekleyen değişiklik yüklendi`))}catch(e){tn.error("Bekleyen değişiklikler yüklenemedi:",e)}return!0}catch(t){return tn.error("Offline depolama başlatılamadı:",t),!1}}savePendingChanges(){try{localStorage.setItem("erp_pending_changes",JSON.stringify(rn))}catch(e){tn.error("Bekleyen değişiklikler kaydedilemedi:",e)}}async syncOfflineChanges(){if(0!==rn.length)if("connected"!==nn.value||jt.mockMode)tn.info("Çevrimiçi olmadığı için çevrimdışı değişiklikler senkronize edilemiyor");else{tn.info(`${rn.length} çevrimdışı değişiklik senkronize ediliyor`);try{for(const e of[...rn])await this.publishChange(e);tn.info("Çevrimdışı değişiklikler senkronize edildi")}catch(e){tn.error("Çevrimdışı değişiklikleri senkronize ederken hata:",e)}}}startSyncInterval(){this.syncInterval=setInterval((()=>{rn.length>0&&"connected"===nn.value&&this.syncOfflineChanges(),"connected"!==nn.value&&"connecting"!==nn.value&&(tn.info("Periyodik senkronizasyon kontrolü: yeniden bağlanılıyor"),this.setupWebSocketConnection())}),6e4)}startPublishQueueProcessor(){this.publishQueueProcessor=setInterval((()=>{if(this.offlineQueue.length>0&&"connected"===nn.value){const e=this.offlineQueue.shift();this.publishChange(e.change).catch((t=>{tn.error("Değişiklik yayınlanırken hata:",t),this.offlineQueue.push(e)}))}}),5e3)}async publishChange(e){return this.socket&&this.socket.readyState===WebSocket.OPEN?new Promise(((t,n)=>{try{const i=`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a=u((e=>{try{const r=JSON.parse(e.data);"SYNC_RESPONSE"===r.type&&r.messageId===i&&(this.socket.removeEventListener("message",a),r.data.success?t(r.data):n(new Error(r.data.error||"Senkronizasyon hatası")))}catch(r){tn.error("Yanıt işlenirken hata:",r)}}),"responseListener");this.socket.addEventListener("message",a),this.socket.send(JSON.stringify({action:"SYNC",messageId:i,data:e})),setTimeout((()=>{this.socket.removeEventListener("message",a),n(new Error("Senkronizasyon yanıtı zaman aşımına uğradı"))}),1e4)}catch(i){n(i)}})):(this.offlineQueue.push({change:e,timestamp:Date.now()}),!1)}on(e,t){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t),this.eventBus.on(`erp:${e}`,t),()=>this.off(e,t)}off(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter((e=>e!==t))),this.eventBus.off(`erp:${e}`,t)}cleanup(){this.retryTimeout&&clearTimeout(this.retryTimeout),this.syncInterval&&clearInterval(this.syncInterval),this.publishQueueProcessor&&clearInterval(this.publishQueueProcessor),this.socket&&this.socket.readyState!==WebSocket.CLOSED&&this.socket.close(),Object.keys(this.listeners).forEach((e=>{this.listeners[e].forEach((t=>{this.eventBus.off(`erp:${e}`,t)}))})),this.listeners={},tn.info("ERP Servisi temizlendi")}async getMaterials(){try{return(await jt.get("/erp/materials")).materials||[]}catch(e){return tn.error("ERP Malzeme verisi alınamadı:",e),this.getDemoMaterials()}}async getStockData(){if(this.cachedStockData&&!jt.mockMode)return this.cachedStockData;try{const e=await jt.get("/erp/stock");return this.cachedStockData=e.stock||[],this.cachedStockData}catch(e){return tn.error("ERP Stok verisi alınamadı:",e),this.cachedStockData=this.getDemoStockData(),this.cachedStockData}}async updateStockData(e){try{const t={id:`stock_${Date.now()}`,type:"STOCK_UPDATE",timestamp:(new Date).toISOString(),data:e};if(rn.push(t),this.savePendingChanges(),"connected"===nn.value&&await this.publishChange(t),this.cachedStockData){const t=this.cachedStockData.findIndex((t=>t.code===e.code));-1!==t?this.cachedStockData[t]={...this.cachedStockData[t],...e}:this.cachedStockData.push(e)}return this.eventBus.emit("erp:stock-updated",{item:e}),{success:!0}}catch(t){return tn.error("Stok verisi güncellenirken hata:",t),{success:!1,error:t.message}}}async checkMaterialAvailability(e){try{return await jt.get(`/erp/materials/${e}/availability`)}catch(t){if(tn.error(`ERP Malzeme durumu alınamadı (${e}):`,t),this.cachedStockData){const t=this.cachedStockData.find((t=>t.code===e));if(t)return{code:e,available:t.availableQuantity||0,allocated:t.allocatedQuantity||0,status:t.availableQuantity>0?"available":"unavailable"}}return{code:e,available:0,status:"error"}}}async getOrders(){try{return(await jt.get("/erp/orders")).orders||[]}catch(e){return tn.error("ERP Sipariş verisi alınamadı:",e),this.getMockOrders()}}async getRecentOrders(e=10){try{return(await jt.get(`/erp/orders/recent?limit=${e}`)).orders||[]}catch(t){tn.error("Son siparişler alınamadı:",t);return(await this.getOrders()).slice(0,e)}}async getOrderDetails(e){try{return(await jt.get(`/erp/orders/${e}`)).order}catch(t){return tn.error(`ERP Sipariş detayları alınamadı (${e}):`,t),null}}async createOrder(e){try{const t=await jt.post("/erp/orders",e),n={id:`order_create_${Date.now()}`,type:"ORDER_CREATE",timestamp:(new Date).toISOString(),data:{orderNo:t.orderNo,...e}};return rn.push(n),this.savePendingChanges(),"connected"===nn.value&&await this.publishChange(n),this.eventBus.emit("erp:order-created",{orderNo:t.orderNo,order:e}),t}catch(t){return tn.error("ERP Sipariş oluşturulamadı:",t),{success:!1,error:t.message||"Sipariş oluşturulamadı"}}}async updateOrder(e,t){try{const n=await jt.put(`/erp/orders/${e}`,t),i={id:`order_update_${Date.now()}`,type:"ORDER_UPDATE",timestamp:(new Date).toISOString(),data:{orderNo:e,...t}};return rn.push(i),this.savePendingChanges(),"connected"===nn.value&&await this.publishChange(i),this.eventBus.emit("erp:order-updated",{orderNo:e,updates:t}),n}catch(n){return tn.error(`ERP Sipariş güncellenemedi (${e}):`,n),{success:!1,error:n.message||"Sipariş güncellenemedi"}}}async getProductionStatus(){try{return(await jt.get("/erp/production")).production||{}}catch(e){return tn.error("ERP Üretim durumu alınamadı:",e),this.getMockProductionStatus()}}async updateProductionStatus(e,t){try{const n=await jt.put(`/erp/production/${e}/status`,t),i={id:`production_${Date.now()}`,type:"PRODUCTION_UPDATE",timestamp:(new Date).toISOString(),data:{orderId:e,stage:t.stage,status:t.status,completion:t.completion,notes:t.notes}};return rn.push(i),this.savePendingChanges(),"connected"===nn.value&&await this.publishChange(i),this.eventBus.emit("erp:production-updated",{orderId:e,stage:t.stage,status:t.status,completion:t.completion}),n}catch(n){return tn.error(`ERP Üretim durumu güncellenemedi (${e}):`,n),{success:!1,error:n.message||"Üretim durumu güncellenemedi"}}}async getProductionOperations(e){try{return(await jt.get(`/erp/production/${e}/operations`)).operations||[]}catch(t){return tn.error(`ERP Üretim operasyonları alınamadı (${e}):`,t),[]}}async addProductionOperation(e,t){try{const n=await jt.post(`/erp/production/${e}/operations`,t),i={id:`operation_add_${Date.now()}`,type:"OPERATION_ADD",timestamp:(new Date).toISOString(),data:{orderId:e,operation:t}};return rn.push(i),this.savePendingChanges(),"connected"===nn.value&&await this.publishChange(i),this.eventBus.emit("erp:operation-added",{orderId:e,operationId:n.operationId,operation:t}),n}catch(n){return tn.error(`ERP Üretim operasyonu eklenemedi (${e}):`,n),{success:!1,error:n.message||"Üretim operasyonu eklenemedi"}}}async reserveMaterialsForOrder(e,t){try{const n=await jt.post("/erp/materials/reserve",{orderId:e,materials:t}),i={id:`reserve_${Date.now()}`,type:"MATERIAL_RESERVE",timestamp:(new Date).toISOString(),data:{orderId:e,materials:t}};return rn.push(i),this.savePendingChanges(),"connected"===nn.value&&await this.publishChange(i),this.cachedStockData&&t.forEach((e=>{const t=this.cachedStockData.find((t=>t.code===e.code));t&&(t.allocatedQuantity=(t.allocatedQuantity||0)+e.quantity,t.availableQuantity=t.quantity-t.allocatedQuantity)})),this.eventBus.emit("erp:materials-reserved",{orderId:e,materials:t}),n}catch(n){return tn.error(`ERP Malzeme rezervasyonu başarısız (${e}):`,n),{success:!1,error:n.message||"Malzeme rezervasyonu yapılamadı"}}}async cancelMaterialReservation(e,t){try{const n=await jt.post("/erp/materials/cancel-reserve",{orderId:e,materials:t}),i={id:`cancel_reserve_${Date.now()}`,type:"MATERIAL_CANCEL_RESERVE",timestamp:(new Date).toISOString(),data:{orderId:e,materials:t}};return rn.push(i),this.savePendingChanges(),"connected"===nn.value&&await this.publishChange(i),this.cachedStockData&&t.forEach((e=>{const t=this.cachedStockData.find((t=>t.code===e.code));t&&(t.allocatedQuantity=Math.max(0,(t.allocatedQuantity||0)-e.quantity),t.availableQuantity=t.quantity-t.allocatedQuantity)})),this.eventBus.emit("erp:material-reservation-canceled",{orderId:e,materials:t}),n}catch(n){return tn.error(`ERP Malzeme rezervasyonu iptali başarısız (${e}):`,n),{success:!1,error:n.message||"Malzeme rezervasyonu iptal edilemedi"}}}async consumeMaterials(e,t){try{const n=await jt.post("/erp/materials/consume",{orderId:e,materials:t}),i={id:`consume_${Date.now()}`,type:"MATERIAL_CONSUME",timestamp:(new Date).toISOString(),data:{orderId:e,materials:t}};return rn.push(i),this.savePendingChanges(),"connected"===nn.value&&await this.publishChange(i),this.cachedStockData&&t.forEach((e=>{const t=this.cachedStockData.find((t=>t.code===e.code));t&&(t.quantity=Math.max(0,t.quantity-e.quantity),t.allocatedQuantity=Math.max(0,(t.allocatedQuantity||0)-e.quantity),t.availableQuantity=t.quantity-t.allocatedQuantity)})),this.eventBus.emit("erp:materials-consumed",{orderId:e,materials:t}),n}catch(n){return tn.error(`ERP Malzeme kullanımı başarısız (${e}):`,n),{success:!1,error:n.message||"Malzeme kullanımı kaydedilemedi"}}}async getNotifications(){try{return await jt.get("/erp/notifications")}catch(e){return tn.error("ERP Bildirimleri alınamadı:",e),{success:!0,data:[{id:1,title:"Sipariş Teslim Tarihi Gecikmesi",content:"#0424-1251 numaralı sipariş için mekanik montaj gecikmesi.",department:"Mekanik Üretim",priority:"high",type:"warning",isRead:!1,timestamp:new Date(Date.now()-36e5)},{id:2,title:"Kritik Malzeme Stok Uyarısı",content:"Siemens 7SR1003-1JA20-2DA0+ZY20 24VDC stok seviyesi kritik.",department:"Satın Alma",priority:"medium",type:"warning",isRead:!1,timestamp:new Date(Date.now()-108e5)}]}}}async getDashboardData(){try{return await jt.get("/erp/dashboard")}catch(e){return tn.error("ERP Dashboard verisi alınamadı:",e),{success:!1,error:"Dashboard verisi alınamadı"}}}getSyncStatus(){return{status:nn.value,lastSync:an.value,pendingChanges:rn.length,errors:on.value}}getDemoMaterials(){return[{code:"137998%",name:"Siemens 7SR1003-1JA20-2DA0+ZY20 24VDC",category:"Relay",unit:"Adet",price:4250,supplier:"Siemens",supplierCode:"S-7SR1003",leadTime:21},{code:"144866%",name:"KAP-80/190-95 Akım Trafosu",category:"Transformer",unit:"Adet",price:850,supplier:"ABB",supplierCode:"ABB-KAP80",leadTime:14},{code:"157322%",name:"Siemens 8DL5 Sekonder Kablo Seti",category:"Cable",unit:"Set",price:1650,supplier:"Siemens",supplierCode:"S-8DL5-KBL",leadTime:10}]}getDemoStockData(){return[{code:"137998%",name:"Siemens 7SR1003-1JA20-2DA0+ZY20 24VDC",quantity:2,availableQuantity:2,allocatedQuantity:0,minQuantity:5,location:"C5-B3"},{code:"144866%",name:"KAP-80/190-95 Akım Trafosu",quantity:3,availableQuantity:1,allocatedQuantity:2,minQuantity:5,location:"D2-A7"},{code:"157322%",name:"Siemens 8DL5 Sekonder Kablo Seti",quantity:0,availableQuantity:0,allocatedQuantity:0,minQuantity:2,location:"B8-C2"},{code:"119845%",name:"LED Lamba Kiti (Kırmızı-Yeşil-Sarı) 24V",quantity:5,availableQuantity:5,allocatedQuantity:0,minQuantity:10,location:"A3-D5"}]}getMockOrders(){return[{id:"#0424-1251",customer:"AYEDAŞ",cellType:"RM 36 CB",quantity:5,status:"Üretimde",progress:65,dueDate:new Date((new Date).getTime()+864e6)},{id:"#0424-1245",customer:"TEİAŞ",cellType:"RM 36 CB",quantity:8,status:"Üretimde",progress:45,dueDate:new Date((new Date).getTime()+1296e6)},{id:"#0424-1239",customer:"BEDAŞ",cellType:"RM 36 LB",quantity:3,status:"Üretimde",progress:30,dueDate:new Date((new Date).getTime()+15552e5)}]}getMockProductionStatus(){return{daily:{planned:5,completed:4,efficiency:92},weekly:{planned:24,completed:21,efficiency:87.5},issues:["36kV kesici temininde gecikme","A2 montaj hattında bakım yapılıyor"],activeOrders:[{id:"#0424-1251",customer:"AYEDAŞ",stage:"İç Montaj",scheduledCompletion:new Date((new Date).getTime()+2592e5),progress:65},{id:"#0424-1245",customer:"TEİAŞ",stage:"Malzeme Hazırlık",scheduledCompletion:new Date((new Date).getTime()+6912e5),progress:45}]}}};u(cn,"ErpService");const dn=new cn,un=u((()=>(dn.initialized||dn.init(),{...dn,syncStatus:nn,lastSyncTime:an,pendingChanges:rn,dataVersion:sn,syncErrors:on})),"useErpService"),mn=p("notification",(()=>{const e=un(),t=h([]),n=h(0),i=h(null),a=g((()=>t.value.filter((e=>!e.isRead)))),r=g((()=>t.value.filter((e=>"high"===e.priority||"medium"===e.priority)))),s=g((()=>[...t.value].sort(((e,t)=>{const n={high:3,medium:2,low:1},i=n[t.priority]-n[e.priority];return 0!==i?i:new Date(t.timestamp)-new Date(e.timestamp)}))));async function o(){try{const a=await e.getNotifications();if(a&&a.success){const e=a.data.map((e=>({...e,formattedTime:l(e.timestamp)}))),i=e.filter((e=>!e.isRead)).length;t.value=e,n.value=i}i.value=new Date}catch(a){return[]}}function l(e){if(!e)return"";try{return Ct("string"==typeof e?new Date(e):e,{addSuffix:!0,locale:zt})}catch(t){return""}}function c(){const e=new Date,a=[{id:1,title:"Sipariş Teslim Tarihi Gecikmesi",content:"#0424-1251 numaralı sipariş için mekanik montaj gecikmesi.",department:"Mekanik Üretim",priority:"high",type:"warning",isRead:!1,timestamp:new Date(e.getTime()-36e5)},{id:2,title:"Kritik Malzeme Stok Uyarısı",content:"Siemens 7SR1003-1JA20-2DA0+ZY20 24VDC stok seviyesi kritik.",department:"Satın Alma",priority:"medium",type:"warning",isRead:!1,timestamp:new Date(e.getTime()-108e5)},{id:3,title:"Yeni Sipariş Alındı",content:"KEE Enerji firması için 12 adet RM 36 CB hücresi siparişi oluşturuldu.",department:"Satış",priority:"low",type:"info",isRead:!0,timestamp:new Date(e.getTime()-18e6)},{id:4,title:"Test Sonuçları Onayı",content:"BEDAŞ siparişi için hücre testleri başarıyla tamamlandı.",department:"Test",priority:"medium",type:"success",isRead:!0,timestamp:new Date(e.getTime()-288e5)},{id:5,title:"Teknik Doküman Güncellendi",content:"RM 36 CB Teknik Çizim dokümanı revize edildi (Rev. 2.1).",department:"Teknik Ofis",priority:"low",type:"info",isRead:!1,timestamp:new Date(e.getTime()-1008e5)}];t.value=a.map((e=>({...e,formattedTime:l(e.timestamp)}))),n.value=a.filter((e=>!e.isRead)).length,i.value=new Date}function d(e){const i=t.value.findIndex((t=>t.id===e));-1!==i&&(t.value[i].isRead||(t.value[i].isRead=!0,n.value=Math.max(0,n.value-1)))}function m(){t.value.forEach((e=>{e.isRead=!0})),n.value=0}function p(e){const i={id:e.id||Date.now(),title:e.title,content:e.content,department:e.department||"Sistem",priority:e.priority||"medium",type:e.type||"info",isRead:e.isRead||!1,timestamp:e.timestamp||new Date,formattedTime:l(e.timestamp||new Date)};t.value.unshift(i),i.isRead||(n.value++,f(i)),t.value.length>100&&(t.value=t.value.slice(0,100)),t.value.sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)))}function f(e){if("Notification"in window&&"granted"===Notification.permission){const t=e.title,n={body:e.content,icon:"/assets/icons/notification-icon.png",tag:`notification-${e.id}`,data:{url:`/notifications/${e.id}`,notificationId:e.id},vibrate:[200,100,200]};"serviceWorker"in navigator&&navigator.serviceWorker.controller?navigator.serviceWorker.ready.then((e=>{e.showNotification(t,n)})):new Notification(t,n)}}function y(){return"Notification"in window?"granted"===Notification.permission?Promise.resolve(!0):"denied"===Notification.permission?Promise.resolve(!1):Notification.requestPermission().then((e=>"granted"===e)):Promise.resolve(!1)}function v(){const e=setInterval((()=>{if(Math.random()>.8){const e=["warning","info","success"],t=["high","medium","low"],n=["Üretim","Satın Alma","Test","Teknik","Montaj"];p({title:`Test Bildirimi - ${(new Date).toLocaleTimeString()}`,content:`Bu bir otomatik test bildirimidir. (${Math.floor(1e3*Math.random())})`,department:n[Math.floor(Math.random()*n.length)],priority:t[Math.floor(Math.random()*t.length)],type:e[Math.floor(Math.random()*e.length)],timestamp:new Date})}}),6e4);return()=>{clearInterval(e)}}function b(){return n.value}function k(e=3e5){const t=setInterval((()=>{o()}),e);return()=>clearInterval(t)}function w(){return o().catch((()=>{c()})),{cleanup:v(),refreshCleanup:k()}}return u(o,"fetchNotifications"),u(l,"formatTimeAgo"),u(c,"loadDemoNotifications"),u(d,"markAsRead"),u(m,"markAllAsRead"),u(p,"addNotification"),u(f,"sendWebPushNotification"),u(y,"requestNotificationPermission"),u(v,"initializeRealTimeNotifications"),u(b,"getUnreadCount"),u(k,"startPeriodicRefresh"),u(w,"initialize"),{notifications:t,unreadNotifications:a,importantNotifications:r,sortedNotifications:s,unreadCount:n,lastCheck:i,fetchNotifications:o,markAsRead:d,markAllAsRead:m,addNotification:p,getUnreadCount:b,requestNotificationPermission:y,initialize:w}}));function hn(e){return!!D()&&(T(e),!0)}function pn(e){return"function"==typeof e?e():v(e)}u(hn,"tryOnScopeDispose"),u(pn,"toValue");const fn="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const gn=Object.prototype.toString,yn=u((e=>"[object Object]"===gn.call(e)),"isObject$1"),vn=u((()=>{}),"noop$1");function bn(e,t){function n(...n){return new Promise(((i,a)=>{Promise.resolve(e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})).then(i).catch(a)}))}return u(n,"wrapper"),n}u(bn,"createFilterWrapper");const kn=u((e=>e()),"bypassFilter");function wn(e=kn){const t=h(!0);function n(){t.value=!1}function i(){t.value=!0}u(n,"pause"),u(i,"resume");const a=u(((...n)=>{t.value&&e(...n)}),"eventFilter");return{isActive:w(t),pause:n,resume:i,eventFilter:a}}function _n(e){return A()}function An(e,t,n={}){const{eventFilter:i=kn,...a}=n;return _(e,bn(i,t),a)}function Dn(e,t,n={}){const{eventFilter:i,...a}=n,{eventFilter:r,pause:s,resume:o,isActive:l}=wn(i);return{stop:An(e,t,{...a,eventFilter:r}),pause:s,resume:o,isActive:l}}function Tn(e,t=!0,n){_n()?b(e,n):t?e():k(e)}function Sn(e){var t;const n=pn(e);return null!=(t=null==n?void 0:n.$el)?t:n}u(wn,"pausableFilter"),u(_n,"getLifeCycleTarget"),u(An,"watchWithFilter"),u(Dn,"watchPausable"),u(Tn,"tryOnMounted"),u(Sn,"unrefElement");const Cn=fn?window:void 0;function En(...e){let t,n,i,a;if("string"==typeof e[0]||Array.isArray(e[0])?([n,i,a]=e,t=Cn):[t,n,i,a]=e,!t)return vn;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],s=u((()=>{r.forEach((e=>e())),r.length=0}),"cleanup"),o=u(((e,t,n,i)=>(e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i))),"register"),l=_((()=>[Sn(t),pn(a)]),(([e,t])=>{if(s(),!e)return;const a=yn(t)?{...t}:t;r.push(...n.flatMap((t=>i.map((n=>o(e,t,n,a))))))}),{immediate:!0,flush:"post"}),c=u((()=>{l(),s()}),"stop");return hn(c),c}u(En,"useEventListener");const Mn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},On="__vueuse_ssr_handlers__",xn=Pn();function Pn(){return On in Mn||(Mn[On]=Mn[On]||{}),Mn[On]}function zn(e,t){return xn[e]||t}function Rn(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}u(Pn,"getHandlers"),u(zn,"getSSRHandler"),u(Rn,"guessSerializerType");const Ln={boolean:{read:u((e=>"true"===e),"read"),write:u((e=>String(e)),"write")},object:{read:u((e=>JSON.parse(e)),"read"),write:u((e=>JSON.stringify(e)),"write")},number:{read:u((e=>Number.parseFloat(e)),"read"),write:u((e=>String(e)),"write")},any:{read:u((e=>e),"read"),write:u((e=>String(e)),"write")},string:{read:u((e=>e),"read"),write:u((e=>String(e)),"write")},map:{read:u((e=>new Map(JSON.parse(e))),"read"),write:u((e=>JSON.stringify(Array.from(e.entries()))),"write")},set:{read:u((e=>new Set(JSON.parse(e))),"read"),write:u((e=>JSON.stringify(Array.from(e))),"write")},date:{read:u((e=>new Date(e)),"read"),write:u((e=>e.toISOString()),"write")}},In="vueuse-storage";function Nn(e,t,n,i={}){var a;const{flush:r="pre",deep:s=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:d,window:m=Cn,eventFilter:p,onError:f=u((e=>{}),"onError"),initOnMounted:g}=i,y=(d?S:h)("function"==typeof t?t():t);if(!n)try{n=zn("getDefaultStorage",(()=>{var e;return null==(e=Cn)?void 0:e.localStorage}))()}catch(O){f(O)}if(!n)return y;const v=pn(t),b=Rn(v),w=null!=(a=i.serializer)?a:Ln[b],{pause:_,resume:A}=Dn(y,(()=>T(y.value)),{flush:r,deep:s,eventFilter:p});function D(t,i){m&&m.dispatchEvent(new CustomEvent(In,{detail:{key:e,oldValue:t,newValue:i,storageArea:n}}))}function T(t){try{const i=n.getItem(e);if(null==t)D(i,null),n.removeItem(e);else{const a=w.write(t);i!==a&&(n.setItem(e,a),D(i,a))}}catch(O){f(O)}}function C(t){const i=t?t.newValue:n.getItem(e);if(null==i)return l&&null!=v&&n.setItem(e,w.write(v)),v;if(!t&&c){const e=w.read(i);return"function"==typeof c?c(e,v):"object"!==b||Array.isArray(e)?e:{...v,...e}}return"string"!=typeof i?i:w.read(i)}function E(t){if(!t||t.storageArea===n)if(t&&null==t.key)y.value=v;else if(!t||t.key===e){_();try{(null==t?void 0:t.newValue)!==w.write(y.value)&&(y.value=C(t))}catch(O){f(O)}finally{t?k(A):A()}}}function M(e){E(e.detail)}return m&&o&&Tn((()=>{En(m,"storage",E),En(m,In,M),g&&E()})),g||E(),u(D,"dispatchWriteEvent"),u(T,"write"),u(C,"read"),u(E,"update"),u(M,"updateFromCustomEvent"),y}function Bn(e,t){return u((function(){return e.apply(t,arguments)}),"wrap")}u(Nn,"useStorage"),u(Bn,"bind");const{toString:jn}=Object.prototype,{getPrototypeOf:$n}=Object,Un=(e=>t=>{const n=jn.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=u((e=>(e=e.toLowerCase(),t=>Un(t)===e)),"kindOfTest"),Hn=u((e=>t=>typeof t===e),"typeOfTest"),{isArray:Wn}=Array,qn=Hn("undefined");function Vn(e){return null!==e&&!qn(e)&&null!==e.constructor&&!qn(e.constructor)&&Qn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}u(Vn,"isBuffer");const Gn=Fn("ArrayBuffer");function Kn(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Gn(e.buffer),t}u(Kn,"isArrayBufferView");const Yn=Hn("string"),Qn=Hn("function"),Jn=Hn("number"),Xn=u((e=>null!==e&&"object"==typeof e),"isObject"),Zn=u((e=>!0===e||!1===e),"isBoolean"),ei=u((e=>{if("object"!==Un(e))return!1;const t=$n(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}),"isPlainObject"),ti=Fn("Date"),ni=Fn("File"),ii=Fn("Blob"),ai=Fn("FileList"),ri=u((e=>Xn(e)&&Qn(e.pipe)),"isStream"),si=u((e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Qn(e.append)&&("formdata"===(t=Un(e))||"object"===t&&Qn(e.toString)&&"[object FormData]"===e.toString()))}),"isFormData"),oi=Fn("URLSearchParams"),[li,ci,di,ui]=["ReadableStream","Request","Response","Headers"].map(Fn),mi=u((e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),"trim");function hi(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let i,a;if("object"!=typeof e&&(e=[e]),Wn(e))for(i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),r=a.length;let s;for(i=0;i<r;i++)s=a[i],t.call(null,e[s],s,e)}}function pi(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,a=n.length;for(;a-- >0;)if(i=n[a],t===i.toLowerCase())return i;return null}u(hi,"forEach"),u(pi,"findKey");const fi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,gi=u((e=>!qn(e)&&e!==fi),"isContextDefined");function yi(){const{caseless:e}=gi(this)&&this||{},t={},n=u(((n,i)=>{const a=e&&pi(t,i)||i;ei(t[a])&&ei(n)?t[a]=yi(t[a],n):ei(n)?t[a]=yi({},n):Wn(n)?t[a]=n.slice():t[a]=n}),"assignValue");for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&hi(arguments[i],n);return t}u(yi,"merge");const vi=u(((e,t,n,{allOwnKeys:i}={})=>(hi(t,((t,i)=>{n&&Qn(t)?e[i]=Bn(t,n):e[i]=t}),{allOwnKeys:i}),e)),"extend"),bi=u((e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e)),"stripBOM"),ki=u(((e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)}),"inherits"),wi=u(((e,t,n,i)=>{let a,r,s;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),r=a.length;r-- >0;)s=a[r],i&&!i(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&$n(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}),"toFlatObject"),_i=u(((e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n}),"endsWith"),Ai=u((e=>{if(!e)return null;if(Wn(e))return e;let t=e.length;if(!Jn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n}),"toArray"),Di=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&$n(Uint8Array)),Ti=u(((e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}}),"forEachEntry"),Si=u(((e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i}),"matchAll"),Ci=Fn("HTMLFormElement"),Ei=u((e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,u((function(e,t,n){return t.toUpperCase()+n}),"replacer"))),"toCamelCase"),Mi=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Oi=Fn("RegExp"),xi=u(((e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};hi(n,((n,a)=>{let r;!1!==(r=t(n,a,e))&&(i[a]=r||n)})),Object.defineProperties(e,i)}),"reduceDescriptors"),Pi=u((e=>{xi(e,((t,n)=>{if(Qn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];Qn(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))}),"freezeMethods"),zi=u(((e,t)=>{const n={},i=u((e=>{e.forEach((e=>{n[e]=!0}))}),"define");return Wn(e)?i(e):i(String(e).split(t)),n}),"toObjectSet"),Ri=u((()=>{}),"noop"),Li=u(((e,t)=>null!=e&&Number.isFinite(e=+e)?e:t),"toFiniteNumber");function Ii(e){return!!(e&&Qn(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}u(Ii,"isSpecCompliantForm");const Ni=u((e=>{const t=new Array(10),n=u(((e,i)=>{if(Xn(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const a=Wn(e)?[]:{};return hi(e,((e,t)=>{const r=n(e,i+1);!qn(r)&&(a[t]=r)})),t[i]=void 0,a}}return e}),"visit");return n(e,0)}),"toJSONObject"),Bi=Fn("AsyncFunction"),ji=u((e=>e&&(Xn(e)||Qn(e))&&Qn(e.then)&&Qn(e.catch)),"isThenable"),$i=(Ui="function"==typeof setImmediate,Fi=Qn(fi.postMessage),Ui?setImmediate:Fi?(Hi=`axios@${Math.random()}`,Wi=[],fi.addEventListener("message",(({source:e,data:t})=>{e===fi&&t===Hi&&Wi.length&&Wi.shift()()}),!1),e=>{Wi.push(e),fi.postMessage(Hi,"*")}):e=>setTimeout(e));var Ui,Fi,Hi,Wi;const qi="undefined"!=typeof queueMicrotask?queueMicrotask.bind(fi):"undefined"!=typeof process&&process.nextTick||$i,Vi={isArray:Wn,isArrayBuffer:Gn,isBuffer:Vn,isFormData:si,isArrayBufferView:Kn,isString:Yn,isNumber:Jn,isBoolean:Zn,isObject:Xn,isPlainObject:ei,isReadableStream:li,isRequest:ci,isResponse:di,isHeaders:ui,isUndefined:qn,isDate:ti,isFile:ni,isBlob:ii,isRegExp:Oi,isFunction:Qn,isStream:ri,isURLSearchParams:oi,isTypedArray:Di,isFileList:ai,forEach:hi,merge:yi,extend:vi,trim:mi,stripBOM:bi,inherits:ki,toFlatObject:wi,kindOf:Un,kindOfTest:Fn,endsWith:_i,toArray:Ai,forEachEntry:Ti,matchAll:Si,isHTMLForm:Ci,hasOwnProperty:Mi,hasOwnProp:Mi,reduceDescriptors:xi,freezeMethods:Pi,toObjectSet:zi,toCamelCase:Ei,noop:Ri,toFiniteNumber:Li,findKey:pi,global:fi,isContextDefined:gi,isSpecCompliantForm:Ii,toJSONObject:Ni,isAsyncFn:Bi,isThenable:ji,setImmediate:$i,asap:qi};function Gi(e,t,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}u(Gi,"AxiosError$1"),Vi.inherits(Gi,Error,{toJSON:u((function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Vi.toJSONObject(this.config),code:this.code,status:this.status}}),"toJSON")});const Ki=Gi.prototype,Yi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Yi[e]={value:e}})),Object.defineProperties(Gi,Yi),Object.defineProperty(Ki,"isAxiosError",{value:!0}),Gi.from=(e,t,n,i,a,r)=>{const s=Object.create(Ki);return Vi.toFlatObject(e,s,u((function(e){return e!==Error.prototype}),"filter"),(e=>"isAxiosError"!==e)),Gi.call(s,e.message,t,n,i,a),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};function Qi(e){return Vi.isPlainObject(e)||Vi.isArray(e)}function Ji(e){return Vi.endsWith(e,"[]")?e.slice(0,-2):e}function Xi(e,t,n){return e?e.concat(t).map(u((function(e,t){return e=Ji(e),!n&&t?"["+e+"]":e}),"each")).join(n?".":""):t}function Zi(e){return Vi.isArray(e)&&!e.some(Qi)}u(Qi,"isVisitable"),u(Ji,"removeBrackets"),u(Xi,"renderKey"),u(Zi,"isFlatArray");const ea=Vi.toFlatObject(Vi,{},null,u((function(e){return/^is[A-Z]/.test(e)}),"filter"));function ta(e,t,n){if(!Vi.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=Vi.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,u((function(e,t){return!Vi.isUndefined(t[e])}),"defined"))).metaTokens,a=n.visitor||c,r=n.dots,s=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Vi.isSpecCompliantForm(t);if(!Vi.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Vi.isDate(e))return e.toISOString();if(!o&&Vi.isBlob(e))throw new Gi("Blob is not supported. Use a Buffer instead.");return Vi.isArrayBuffer(e)||Vi.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"==typeof e)if(Vi.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Vi.isArray(e)&&Zi(e)||(Vi.isFileList(e)||Vi.endsWith(n,"[]"))&&(o=Vi.toArray(e)))return n=Ji(n),o.forEach(u((function(e,i){!Vi.isUndefined(e)&&null!==e&&t.append(!0===s?Xi([n],i,r):null===s?n:n+"[]",l(e))}),"each")),!1;return!!Qi(e)||(t.append(Xi(a,n,r),l(e)),!1)}u(l,"convertValue"),u(c,"defaultVisitor");const d=[],m=Object.assign(ea,{defaultVisitor:c,convertValue:l,isVisitable:Qi});function h(e,n){if(!Vi.isUndefined(e)){if(-1!==d.indexOf(e))throw Error("Circular reference detected in "+n.join("."));d.push(e),Vi.forEach(e,u((function(e,i){!0===(!(Vi.isUndefined(e)||null===e)&&a.call(t,e,Vi.isString(i)?i.trim():i,n,m))&&h(e,n?n.concat(i):[i])}),"each")),d.pop()}}if(u(h,"build"),!Vi.isObject(e))throw new TypeError("data must be an object");return h(e),t}function na(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,u((function(e){return t[e]}),"replacer"))}function ia(e,t){this._pairs=[],e&&ta(e,this,t)}u(ta,"toFormData$1"),u(na,"encode$1"),u(ia,"AxiosURLSearchParams");const aa=ia.prototype;function ra(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sa(e,t,n){if(!t)return e;const i=n&&n.encode||ra;Vi.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let r;if(r=a?a(t,n):Vi.isURLSearchParams(t)?t.toString():new ia(t,n).toString(i),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}aa.append=u((function(e,t){this._pairs.push([e,t])}),"append"),aa.toString=u((function(e){const t=e?function(t){return e.call(this,t,na)}:na;return this._pairs.map(u((function(e){return t(e[0])+"="+t(e[1])}),"each"),"").join("&")}),"toString"),u(ra,"encode"),u(sa,"buildURL");const oa=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Vi.forEach(this.handlers,u((function(t){null!==t&&e(t)}),"forEachHandler"))}};u(oa,"InterceptorManager");let la=oa;const ca={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},da={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ia,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ua="undefined"!=typeof window&&"undefined"!=typeof document,ma="object"==typeof navigator&&navigator||void 0,ha=ua&&(!ma||["ReactNative","NativeScript","NS"].indexOf(ma.product)<0),pa="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,fa=ua&&window.location.href||"http://localhost",ga={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ua,hasStandardBrowserEnv:ha,hasStandardBrowserWebWorkerEnv:pa,navigator:ma,origin:fa},Symbol.toStringTag,{value:"Module"})),...da};function ya(e,t){return ta(e,new ga.classes.URLSearchParams,Object.assign({visitor:u((function(e,t,n,i){return ga.isNode&&Vi.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}),"visitor")},t))}function va(e){return Vi.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function ba(e){const t={},n=Object.keys(e);let i;const a=n.length;let r;for(i=0;i<a;i++)r=n[i],t[r]=e[r];return t}function ka(e){function t(e,n,i,a){let r=e[a++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),o=a>=e.length;if(r=!r&&Vi.isArray(i)?i.length:r,o)return Vi.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!s;i[r]&&Vi.isObject(i[r])||(i[r]=[]);return t(e,n,i[r],a)&&Vi.isArray(i[r])&&(i[r]=ba(i[r])),!s}if(u(t,"buildPath"),Vi.isFormData(e)&&Vi.isFunction(e.entries)){const n={};return Vi.forEachEntry(e,((e,i)=>{t(va(e),i,n,0)})),n}return null}function wa(e,t,n){if(Vi.isString(e))try{return(t||JSON.parse)(e),Vi.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}u(ya,"toURLEncodedForm"),u(va,"parsePropPath"),u(ba,"arrayToObject"),u(ka,"formDataToJSON"),u(wa,"stringifySafely");const _a={transitional:ca,adapter:["xhr","http","fetch"],transformRequest:[u((function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,a=Vi.isObject(e);a&&Vi.isHTMLForm(e)&&(e=new FormData(e));if(Vi.isFormData(e))return i?JSON.stringify(ka(e)):e;if(Vi.isArrayBuffer(e)||Vi.isBuffer(e)||Vi.isStream(e)||Vi.isFile(e)||Vi.isBlob(e)||Vi.isReadableStream(e))return e;if(Vi.isArrayBufferView(e))return e.buffer;if(Vi.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ya(e,this.formSerializer).toString();if((r=Vi.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ta(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),wa(e)):e}),"transformRequest")],transformResponse:[u((function(e){const t=this.transitional||_a.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(Vi.isResponse(e)||Vi.isReadableStream(e))return e;if(e&&Vi.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(n){if("SyntaxError"===a.name)throw Gi.from(a,Gi.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}),"transformResponse")],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ga.classes.FormData,Blob:ga.classes.Blob},validateStatus:u((function(e){return e>=200&&e<300}),"validateStatus"),headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Vi.forEach(["delete","get","head","post","put","patch"],(e=>{_a.headers[e]={}}));const Aa=Vi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Da=u((e=>{const t={};let n,i,a;return e&&e.split("\n").forEach(u((function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),i=e.substring(a+1).trim(),!n||t[n]&&Aa[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),"parser")),t}),"parseHeaders"),Ta=Symbol("internals");function Sa(e){return e&&String(e).trim().toLowerCase()}function Ca(e){return!1===e||null==e?e:Vi.isArray(e)?e.map(Ca):String(e)}function Ea(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}u(Sa,"normalizeHeader"),u(Ca,"normalizeValue"),u(Ea,"parseTokens");const Ma=u((e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())),"isValidHeaderName");function Oa(e,t,n,i,a){return Vi.isFunction(i)?i.call(this,t,n):(a&&(t=n),Vi.isString(t)?Vi.isString(i)?-1!==t.indexOf(i):Vi.isRegExp(i)?i.test(t):void 0:void 0)}function xa(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}function Pa(e,t){const n=Vi.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:u((function(e,n,a){return this[i].call(this,t,e,n,a)}),"value"),configurable:!0})}))}u(Oa,"matchHeaderValue"),u(xa,"formatHeader"),u(Pa,"buildAccessors");let za=(o=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function a(e,t,n){const a=Sa(t);if(!a)throw new Error("header name must be a non-empty string");const r=Vi.findKey(i,a);(!r||void 0===i[r]||!0===n||void 0===n&&!1!==i[r])&&(i[r||t]=Ca(e))}u(a,"setHeader");const r=u(((e,t)=>Vi.forEach(e,((e,n)=>a(e,n,t)))),"setHeaders");if(Vi.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(Vi.isString(e)&&(e=e.trim())&&!Ma(e))r(Da(e),t);else if(Vi.isHeaders(e))for(const[s,o]of e.entries())a(o,s,n);else null!=e&&a(t,e,n);return this}get(e,t){if(e=Sa(e)){const n=Vi.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return Ea(e);if(Vi.isFunction(t))return t.call(this,e,n);if(Vi.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Sa(e)){const n=Vi.findKey(this,e);return!(!n||void 0===this[n]||t&&!Oa(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function a(e){if(e=Sa(e)){const a=Vi.findKey(n,e);!a||t&&!Oa(0,n[a],a,t)||(delete n[a],i=!0)}}return u(a,"deleteHeader"),Vi.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const a=t[n];e&&!Oa(0,this[a],a,e,!0)||(delete this[a],i=!0)}return i}normalize(e){const t=this,n={};return Vi.forEach(this,((i,a)=>{const r=Vi.findKey(n,a);if(r)return t[r]=Ca(i),void delete t[a];const s=e?xa(a):String(a).trim();s!==a&&delete t[a],t[s]=Ca(i),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Vi.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&Vi.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Ta]=this[Ta]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Sa(e);t[i]||(Pa(n,e),t[i]=!0)}return u(i,"defineAccessor"),Vi.isArray(e)?e.forEach(i):i(e),this}},u(o,"AxiosHeaders"),o);function Ra(e,t){const n=this||_a,i=t||n,a=za.from(i.headers);let r=i.data;return Vi.forEach(e,u((function(e){r=e.call(n,r,a.normalize(),t?t.status:void 0)}),"transform")),a.normalize(),r}function La(e){return!(!e||!e.__CANCEL__)}function Ia(e,t,n){Gi.call(this,null==e?"canceled":e,Gi.ERR_CANCELED,t,n),this.name="CanceledError"}function Na(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Gi("Request failed with status code "+n.status,[Gi.ERR_BAD_REQUEST,Gi.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}function Ba(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ja(e,t){e=e||10;const n=new Array(e),i=new Array(e);let a,r=0,s=0;return t=void 0!==t?t:1e3,u((function(o){const l=Date.now(),c=i[s];a||(a=l),n[r]=o,i[r]=l;let d=s,u=0;for(;d!==r;)u+=n[d++],d%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-a<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}),"push")}function $a(e,t){let n,i,a=0,r=1e3/t;const s=u(((t,r=Date.now())=>{a=r,n=null,i&&(clearTimeout(i),i=null),e.apply(null,t)}),"invoke");return[u(((...e)=>{const t=Date.now(),o=t-a;o>=r?s(e,t):(n=e,i||(i=setTimeout((()=>{i=null,s(n)}),r-o)))}),"throttled"),u((()=>n&&s(n)),"flush")]}za.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Vi.reduceDescriptors(za.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:u((()=>e),"get"),set(e){this[n]=e}}})),Vi.freezeMethods(za),u(Ra,"transformData"),u(La,"isCancel$1"),u(Ia,"CanceledError$1"),Vi.inherits(Ia,Gi,{__CANCEL__:!0}),u(Na,"settle"),u(Ba,"parseProtocol"),u(ja,"speedometer"),u($a,"throttle");const Ua=u(((e,t,n=3)=>{let i=0;const a=ja(50,250);return $a((n=>{const r=n.loaded,s=n.lengthComputable?n.total:void 0,o=r-i,l=a(o);i=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)}),"progressEventReducer"),Fa=u(((e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]}),"progressEventDecorator"),Ha=u((e=>(...t)=>Vi.asap((()=>e(...t)))),"asyncDecorator"),Wa=ga.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ga.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ga.origin),ga.navigator&&/(msie|trident)/i.test(ga.navigator.userAgent)):()=>!0,qa=ga.hasStandardBrowserEnv?{write(e,t,n,i,a,r){const s=[e+"="+encodeURIComponent(t)];Vi.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Vi.isString(i)&&s.push("path="+i),Vi.isString(a)&&s.push("domain="+a),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Va(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ga(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ka(e,t,n){let i=!Va(t);return e&&(i||0==n)?Ga(e,t):t}u(Va,"isAbsoluteURL"),u(Ga,"combineURLs"),u(Ka,"buildFullPath");const Ya=u((e=>e instanceof za?{...e}:e),"headersToObject");function Qa(e,t){t=t||{};const n={};function i(e,t,n,i){return Vi.isPlainObject(e)&&Vi.isPlainObject(t)?Vi.merge.call({caseless:i},e,t):Vi.isPlainObject(t)?Vi.merge({},t):Vi.isArray(t)?t.slice():t}function a(e,t,n,a){return Vi.isUndefined(t)?Vi.isUndefined(e)?void 0:i(void 0,e,0,a):i(e,t,0,a)}function r(e,t){if(!Vi.isUndefined(t))return i(void 0,t)}function s(e,t){return Vi.isUndefined(t)?Vi.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function o(n,a,r){return r in t?i(n,a):r in e?i(void 0,n):void 0}u(i,"getMergedValue"),u(a,"mergeDeepProperties"),u(r,"valueFromConfig2"),u(s,"defaultToConfig2"),u(o,"mergeDirectKeys");const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:u(((e,t,n)=>a(Ya(e),Ya(t),0,!0)),"headers")};return Vi.forEach(Object.keys(Object.assign({},e,t)),u((function(i){const r=l[i]||a,s=r(e[i],t[i],i);Vi.isUndefined(s)&&r!==o||(n[i]=s)}),"computeConfigValue")),n}u(Qa,"mergeConfig$1");const Ja=u((e=>{const t=Qa({},e);let n,{data:i,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=za.from(o),t.url=sa(Ka(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Vi.isFormData(i))if(ga.hasStandardBrowserEnv||ga.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(ga.hasStandardBrowserEnv&&(a&&Vi.isFunction(a)&&(a=a(t)),a||!1!==a&&Wa(t.url))){const e=r&&s&&qa.read(s);e&&o.set(r,e)}return t}),"resolveConfig"),Xa="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(u((function(t,n){const i=Ja(e);let a=i.data;const r=za.from(i.headers).normalize();let s,o,l,c,d,{responseType:m,onUploadProgress:h,onDownloadProgress:p}=i;function f(){c&&c(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}u(f,"done");let g=new XMLHttpRequest;function y(){if(!g)return;const i=za.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),a={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:i,config:e,request:g};Na(u((function(e){t(e),f()}),"_resolve"),u((function(e){n(e),f()}),"_reject"),a),g=null}g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout,u(y,"onloadend"),"onloadend"in g?g.onloadend=y:g.onreadystatechange=u((function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(y)}),"handleLoad"),g.onabort=u((function(){g&&(n(new Gi("Request aborted",Gi.ECONNABORTED,e,g)),g=null)}),"handleAbort"),g.onerror=u((function(){n(new Gi("Network Error",Gi.ERR_NETWORK,e,g)),g=null}),"handleError"),g.ontimeout=u((function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const a=i.transitional||ca;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new Gi(t,a.clarifyTimeoutError?Gi.ETIMEDOUT:Gi.ECONNABORTED,e,g)),g=null}),"handleTimeout"),void 0===a&&r.setContentType(null),"setRequestHeader"in g&&Vi.forEach(r.toJSON(),u((function(e,t){g.setRequestHeader(t,e)}),"setRequestHeader")),Vi.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),m&&"json"!==m&&(g.responseType=i.responseType),p&&([l,d]=Ua(p,!0),g.addEventListener("progress",l)),h&&g.upload&&([o,c]=Ua(h),g.upload.addEventListener("progress",o),g.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(s=u((t=>{g&&(n(!t||t.type?new Ia(null,e,g):t),g.abort(),g=null)}),"onCanceled"),i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const v=Ba(i.url);v&&-1===ga.protocols.indexOf(v)?n(new Gi("Unsupported protocol "+v+":",Gi.ERR_BAD_REQUEST,e)):g.send(a||null)}),"dispatchXhrRequest"))},Za=u(((e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const a=u((function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;i.abort(t instanceof Gi?t:new Ia(t instanceof Error?t.message:t))}}),"onabort");let r=t&&setTimeout((()=>{r=null,a(new Gi(`timeout ${t} of ms exceeded`,Gi.ETIMEDOUT))}),t);const s=u((()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)}),"unsubscribe");e.forEach((e=>e.addEventListener("abort",a)));const{signal:o}=i;return o.unsubscribe=()=>Vi.asap(s),o}}),"composeSignals"),er=u((function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let i,a=0;for(;a<n;)i=a+t,yield e.slice(a,i),a=i}),"streamChunk"),tr=u((async function*(e,t){for await(const n of nr(e))yield*er(n,t)}),"readBytes"),nr=u((async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}),"readStream"),ir=u(((e,t,n,i)=>{const a=tr(e,t);let r,s=0,o=u((e=>{r||(r=!0,i&&i(e))}),"_onFinish");return new ReadableStream({async pull(e){try{const{done:t,value:i}=await a.next();if(t)return o(),void e.close();let r=i.byteLength;if(n){let e=s+=r;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})}),"trackStream"),ar="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,rr=ar&&"function"==typeof ReadableStream,sr=ar&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),or=u(((e,...t)=>{try{return!!e(...t)}catch(n){return!1}}),"test"),lr=rr&&or((()=>{let e=!1;const t=new Request(ga.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),cr=rr&&or((()=>Vi.isReadableStream(new Response("").body))),dr={stream:cr&&(e=>e.body)};var ur;ar&&(ur=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!dr[e]&&(dr[e]=Vi.isFunction(ur[e])?t=>t[e]():(t,n)=>{throw new Gi(`Response type '${e}' is not supported`,Gi.ERR_NOT_SUPPORT,n)})})));const mr=u((async e=>{if(null==e)return 0;if(Vi.isBlob(e))return e.size;if(Vi.isSpecCompliantForm(e)){const t=new Request(ga.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Vi.isArrayBufferView(e)||Vi.isArrayBuffer(e)?e.byteLength:(Vi.isURLSearchParams(e)&&(e+=""),Vi.isString(e)?(await sr(e)).byteLength:void 0)}),"getBodyLength"),hr=u((async(e,t)=>{const n=Vi.toFiniteNumber(e.getContentLength());return null==n?mr(t):n}),"resolveBodyLength"),pr={http:null,xhr:Xa,fetch:ar&&(async e=>{let{url:t,method:n,data:i,signal:a,cancelToken:r,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=Ja(e);c=c?(c+"").toLowerCase():"text";let h,p=Za([a,r&&r.toAbortSignal()],s);const f=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&lr&&"get"!==n&&"head"!==n&&0!==(g=await hr(d,i))){let e,n=new Request(t,{method:"POST",body:i,duplex:"half"});if(Vi.isFormData(i)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Fa(g,Ua(Ha(l)));i=ir(n.body,65536,e,t)}}Vi.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;h=new Request(t,{...m,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:a?u:void 0});let r=await fetch(h);const s=cr&&("stream"===c||"response"===c);if(cr&&(o||s&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=Vi.toFiniteNumber(r.headers.get("content-length")),[n,i]=o&&Fa(t,Ua(Ha(o),!0))||[];r=new Response(ir(r.body,65536,n,(()=>{i&&i(),f&&f()})),e)}c=c||"text";let y=await dr[Vi.findKey(dr,c)||"text"](r,e);return!s&&f&&f(),await new Promise(((t,n)=>{Na(t,n,{data:y,headers:za.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:h})}))}catch(y){if(f&&f(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Gi("Network Error",Gi.ERR_NETWORK,e,h),{cause:y.cause||y});throw Gi.from(y,y&&y.code,e,h)}})};Vi.forEach(pr,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const fr=u((e=>`- ${e}`),"renderReason"),gr=u((e=>Vi.isFunction(e)||null===e||!1===e),"isResolvedHandle"),yr={getAdapter:u((e=>{e=Vi.isArray(e)?e:[e];const{length:t}=e;let n,i;const a={};for(let r=0;r<t;r++){let t;if(n=e[r],i=n,!gr(n)&&(i=pr[(t=String(n)).toLowerCase()],void 0===i))throw new Gi(`Unknown adapter '${t}'`);if(i)break;a[t||"#"+r]=i}if(!i){const e=Object.entries(a).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new Gi("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(fr).join("\n"):" "+fr(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i}),"getAdapter"),adapters:pr};function vr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ia(null,e)}function br(e){vr(e),e.headers=za.from(e.headers),e.data=Ra.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return yr.getAdapter(e.adapter||_a.adapter)(e).then(u((function(t){return vr(e),t.data=Ra.call(e,e.transformResponse,t),t.headers=za.from(t.headers),t}),"onAdapterResolution"),u((function(t){return La(t)||(vr(e),t&&t.response&&(t.response.data=Ra.call(e,e.transformResponse,t.response),t.response.headers=za.from(t.response.headers))),Promise.reject(t)}),"onAdapterRejection"))}u(vr,"throwIfCancellationRequested"),u(br,"dispatchRequest");const kr="1.8.4",wr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{wr[e]=u((function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}),"validator")}));const _r={};function Ar(e,t,n){if("object"!=typeof e)throw new Gi("options must be an object",Gi.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let a=i.length;for(;a-- >0;){const r=i[a],s=t[r];if(s){const t=e[r],n=void 0===t||s(t,r,e);if(!0!==n)throw new Gi("option "+r+" must be "+n,Gi.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Gi("Unknown option "+r,Gi.ERR_BAD_OPTION)}}wr.transitional=u((function(e,t,n){function i(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return u(i,"formatMessage"),(n,a,r)=>{if(!1===e)throw new Gi(i(a," has been removed"+(t?" in "+t:"")),Gi.ERR_DEPRECATED);return t&&!_r[a]&&(_r[a]=!0),!e||e(n,a,r)}}),"transitional"),wr.spelling=u((function(e){return(e,t)=>!0}),"spelling"),u(Ar,"assertOptions");const Dr={assertOptions:Ar,validators:wr},Tr=Dr.validators;let Sr=(u(l=class{constructor(e){this.defaults=e,this.interceptors={request:new la,response:new la}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(i){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Qa(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:a}=t;void 0!==n&&Dr.assertOptions(n,{silentJSONParsing:Tr.transitional(Tr.boolean),forcedJSONParsing:Tr.transitional(Tr.boolean),clarifyTimeoutError:Tr.transitional(Tr.boolean)},!1),null!=i&&(Vi.isFunction(i)?t.paramsSerializer={serialize:i}:Dr.assertOptions(i,{encode:Tr.function,serialize:Tr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Dr.assertOptions(t,{baseUrl:Tr.spelling("baseURL"),withXsrfToken:Tr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=a&&Vi.merge(a.common,a[t.method]);a&&Vi.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=za.concat(r,a);const s=[];let o=!0;this.interceptors.request.forEach(u((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}),"unshiftRequestInterceptors"));const l=[];let c;this.interceptors.response.forEach(u((function(e){l.push(e.fulfilled,e.rejected)}),"pushResponseInterceptors"));let d,m=0;if(!o){const e=[br.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);m<d;)c=c.then(e[m++],e[m++]);return c}d=s.length;let h=t;for(m=0;m<d;){const e=s[m++],t=s[m++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=br.call(this,h)}catch(p){return Promise.reject(p)}for(m=0,d=l.length;m<d;)c=c.then(l[m++],l[m++]);return c}getUri(e){return sa(Ka((e=Qa(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}},"Axios"),l);Vi.forEach(["delete","get","head","options"],u((function(e){Sr.prototype[e]=function(t,n){return this.request(Qa(n||{},{method:e,url:t,data:(n||{}).data}))}}),"forEachMethodNoData")),Vi.forEach(["post","put","patch"],u((function(e){function t(t){return u((function(n,i,a){return this.request(Qa(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}),"httpMethod")}u(t,"generateHTTPMethod"),Sr.prototype[e]=t(),Sr.prototype[e+"Form"]=t(!0)}),"forEachMethodWithData"));let Cr=(c=class{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(u((function(e){t=e}),"promiseExecutor"));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=u((function(){n.unsubscribe(t)}),"reject"),i},e(u((function(e,i,a){n.reason||(n.reason=new Ia(e,i,a),t(n.reason))}),"cancel"))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=u((t=>{e.abort(t)}),"abort");return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new c(u((function(t){e=t}),"executor")),cancel:e}}},u(c,"CancelToken"),c);function Er(e){return u((function(t){return e.apply(null,t)}),"wrap")}function Mr(e){return Vi.isObject(e)&&!0===e.isAxiosError}u(Er,"spread$1"),u(Mr,"isAxiosError$1");const Or={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};function xr(e){const t=new Sr(e),n=Bn(Sr.prototype.request,t);return Vi.extend(n,Sr.prototype,t,{allOwnKeys:!0}),Vi.extend(n,t,null,{allOwnKeys:!0}),n.create=u((function(t){return xr(Qa(e,t))}),"create"),n}Object.entries(Or).forEach((([e,t])=>{Or[t]=e})),u(xr,"createInstance");const Pr=xr(_a);Pr.Axios=Sr,Pr.CanceledError=Ia,Pr.CancelToken=Cr,Pr.isCancel=La,Pr.VERSION=kr,Pr.toFormData=ta,Pr.AxiosError=Gi,Pr.Cancel=Pr.CanceledError,Pr.all=u((function(e){return Promise.all(e)}),"all"),Pr.spread=Er,Pr.isAxiosError=Mr,Pr.mergeConfig=Qa,Pr.AxiosHeaders=za,Pr.formToJSON=e=>ka(Vi.isHTMLForm(e)?new FormData(e):e),Pr.getAdapter=yr.getAdapter,Pr.HttpStatusCode=Or,Pr.default=Pr;const{Axios:zr,AxiosError:Rr,CanceledError:Lr,isCancel:Ir,CancelToken:Nr,VERSION:Br,all:jr,Cancel:$r,isAxiosError:Ur,spread:Fr,toFormData:Hr,AxiosHeaders:Wr,HttpStatusCode:qr,formToJSON:Vr,getAdapter:Gr,mergeConfig:Kr}=Pr,Yr="auto",Qr={apiKey:"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",apiUrl:"https://openrouter.ai/api/v1",models:{primary:"google/gemini-2.5-pro-exp-03-25",advanced:"google/gemini-2.5-pro-exp-03-25",fallback:"anthropic/claude-3-haiku"},defaultOptions:{temperature:.7,max_tokens:2048,top_p:.8,top_k:40},referer:"https://mehmetendustriyel.com",siteTitle:"MehmetEndustriyelTakip"},Jr={chatbot:{enabled:!0,contextWindow:10,systemPrompt:"Sen MehmetEndustriyelTakip sisteminin bir parçası olan üretim asistanısın. Orta gerilim anahtarlama ekipmanı üreten bir fabrikada çalışıyorsun. Kullanıcı sorularına profesyonel, net ve yardımcı yanıtlar vermelisin."},orderAnalysis:{enabled:!0,defaultDepth:"medium"},productionOptimization:{enabled:!0,includeHistoricalData:!0,lookbackPeriod:90},stockPrediction:{enabled:!0,alertThreshold:.15}},Xr=Nt.ai.geminiApiKey,Zr="https://generativelanguage.googleapis.com/v1beta/models",es=Nt.ai.modelName,ts=u((async(e,t={})=>{try{const n=await Pr.post(`${Zr}/${es}:generateContent?key=${Xr}`,{contents:[{role:"user",parts:[{text:e}]}],generationConfig:{temperature:t.temperature||.7,maxOutputTokens:t.maxTokens||2048,topP:t.topP||.8,topK:t.topK||40},safetySettings:[{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]});if(n.data.candidates&&n.data.candidates.length>0&&n.data.candidates[0].content&&n.data.candidates[0].content.parts&&n.data.candidates[0].content.parts.length>0)return{text:n.data.candidates[0].content.parts[0].text,success:!0,raw:n.data};throw new Error("API yanıtından metin alınamadı")}catch(n){return n.response,ns(e)}}),"geminiRequest"),ns=u((async e=>(await new Promise((e=>setTimeout(e,800+1200*Math.random()))),e.toLowerCase().includes("üretim")?{text:"Üretim süreçlerinizi analiz ettim. Son 3 ayda üretim verimliliğinde %12.4 artış gözlemleniyor. RM 36 CB modellerinde özellikle iyi performans var, tamamlanma süresi ortalama 4.2 güne düşmüş durumda. Montaj hattındaki iyileştirmeler sonuç vermeye başlamış görünüyor.",success:!0,source:"Demo AI"}:e.toLowerCase().includes("stok")||e.toLowerCase().includes("malzeme")||e.toLowerCase().includes("envanter")?{text:"Stok durumu analizine göre, CB mekanizma stoklarınız kritik seviyenin altında. Önümüzdeki 30 gün içinde 42 adet CB mekanizmasına ihtiyacınız olacak, ancak mevcut stokta sadece 15 adet bulunuyor. Satın alma departmanına acil sipariş bildirildi.",success:!0,source:"Demo AI"}:e.toLowerCase().includes("sipariş")?{text:"Sipariş tahminlerine göre, Q2'de yaklaşık %28 artış bekleniyor. Özellikle enerji sektöründeki yeni projelerin bu artışta etkisi büyük. Teslim sürelerini karşılayabilmek için mevcutta üretim kapasitesinin %15 artırılması öneriliyor.",success:!0,source:"Demo AI"}:e.toLowerCase().includes("model")||e.toLowerCase().includes("cad")||e.toLowerCase().includes("3d")?{text:"RM 36 serisi CAD modellerimizi inceledim. En sık kullanılan model RM 36 CB olarak görünüyor. Son versiyonda (v2.1) yapılan mekanik değişiklikler montaj süresini %8 kısaltmış. Modeli detaylı incelemek ister misiniz?",success:!0,source:"Demo AI"}:{text:`"${e}" sorunuzu analiz ettim. MehmetEndustriyelTakip sisteminde bu konuyla ilgili birkaç önemli nokta tespit ettim. Verilerinize dayalı olarak, sorununuza en uygun çözüm yaklaşımı üretim ve malzeme planlamasını optimize etmek olacaktır. Geçmiş veriler, benzer durumlarda %15-20 verimlilik artışı sağlandığını gösteriyor.`,success:!0,source:"Demo AI"})),"simulateAIResponse"),is=u((async(e,t={})=>{try{const n=e.map((e=>({role:"assistant"===e.role?"model":(e.role,"user"),parts:[{text:e.content}]}))),i=await Pr.post(`${Zr}/${es}:generateContent?key=${Xr}`,{contents:n,generationConfig:{temperature:t.temperature||.7,maxOutputTokens:t.maxTokens||2048,topP:t.topP||.8,topK:t.topK||40}});if(i.data.candidates&&i.data.candidates.length>0&&i.data.candidates[0].content&&i.data.candidates[0].content.parts&&i.data.candidates[0].content.parts.length>0)return{text:i.data.candidates[0].content.parts[0].text,success:!0,raw:i.data};throw new Error("API yanıtından metin alınamadı")}catch(n){n.response;const t=e[e.length-1];return ns(t.content)}}),"geminiChatRequest"),as=u((async(e,t={})=>{var n,i,a;try{const r={"Content-Type":"application/json",Authorization:`Bearer ${Qr.apiKey}`,"HTTP-Referer":Qr.referer,"X-Title":Qr.siteTitle},s={model:Qr.models.primary,messages:e.map((e=>({role:e.role,content:e.content}))),...t},o=await Pr.post(`${Qr.apiUrl}/chat/completions`,s,{headers:r});return{text:(null==(a=null==(i=null==(n=o.data.choices)?void 0:n[0])?void 0:i.message)?void 0:a.content)||"",success:!0,raw:o.data}}catch(r){throw r}}),"openRouterChatRequest"),rs=u((async e=>{var t,n;try{const i=(await apiService.get(`/orders/${e}`)).data;if(!i)throw new Error("Sipariş bilgileri alınamadı");const a=`\n    Sen bir orta gerilim anahtarlama ekipmanı üretim tesisinin yapay zeka asistanısın.\n    Bu sipariş verileri hakkında detaylı bir analiz yap:\n    \n    Sipariş Numarası: ${i.orderNo}\n    Müşteri: ${(null==(t=i.customerInfo)?void 0:t.name)||"Belirtilmemiş"}\n    Sipariş Tarihi: ${i.orderDate||"Belirtilmemiş"}\n    Sipariş Durumu: ${i.status||"Belirtilmemiş"}\n    Teslim Tarihi: ${i.deliveryDate||"Belirtilmemiş"}\n    Öncelik: ${i.priority||"Normal"}\n    Hücre Tipleri: ${(null==(n=i.cells)?void 0:n.map((e=>e.productTypeCode)).join(", "))||"Belirtilmemiş"}\n    \n    Bu verilere dayalı olarak:\n    1. Siparişin mevcut durumu nedir?\n    2. Varsa olası riskler nelerdir?\n    3. Siparişin zamanında tamamlanması için öneriler nelerdir?\n    4. Benzer geçmiş siparişlerle kıyaslandığında ne gibi farklılıklar veya benzerlikler var?\n    \n    Yanıtını 3-4 paragraf şeklinde, teknik bir rapor formatında hazırla.\n    `;if(Xr){return(await ts(a,{temperature:.3})).text}}catch(i){return simulateOrderAnalysis({orderNo:e})}}),"analyzeOrder"),ss=u((async e=>{var t,n,i;try{const[a,r,s]=await Promise.all([apiService.get(`/orders/${e}`),apiService.get(`/orders/${e}/materials`),apiService.get(`/orders/${e}/production`)]),o=a.data,l=r.data,c=s.data;if(!o)throw new Error("Sipariş bilgileri alınamadı");const d=`\n    Sen bir orta gerilim anahtarlama ekipmanı üretim tesisinin yapay zeka asistanısın.\n    Bu siparişteki gecikmenin detaylı bir analizini yap:\n    \n    Sipariş Numarası: ${o.orderNo}\n    Müşteri: ${(null==(t=o.customerInfo)?void 0:t.name)||"Belirtilmemiş"}\n    Orijinal Teslim Tarihi: ${o.deliveryDate||"Belirtilmemiş"}\n    Mevcut Durum: ${o.status||"Belirtilmemiş"}\n    İlerleme: %${o.progress||"0"}\n    \n    Malzeme Durumu:\n    - Toplam Malzeme: ${(null==l?void 0:l.length)||"0"} kalem\n    - Eksik Malzemeler: ${(null==l?void 0:l.filter((e=>"missing"===e.status||"critical"===e.status)).length)||"0"} kalem\n    \n    Üretim Bilgileri:\n    - Tamamlanan Aşamalar: ${(null==(n=null==c?void 0:c.steps)?void 0:n.filter((e=>e.completed)).length)||"0"}\n    - Bekleyen Aşamalar: ${(null==(i=null==c?void 0:c.steps)?void 0:i.filter((e=>!e.completed)).length)||"0"}\n    \n    Analiz et:\n    1. Gecikmenin ana nedenleri nedir?\n    2. Hangi departman/süreç gecikmede en çok etkili?\n    3. Gecikmeyi azaltmak için acil önlemler nelerdir?\n    4. Benzer gecikmeleri gelecekte önlemek için neler yapılabilir?\n    \n    Yanıtını 3-4 paragraf şeklinde, teknik bir rapor formatında hazırla.\n    `;if(Xr){return(await ts(d,{temperature:.3})).text}}catch(a){return simulateDelayAnalysis({orderNo:e})}}),"analyzeOrderDelay"),os=u((async e=>{var t,n,i,a;try{const[r,s]=await Promise.all([apiService.get(`/orders/${e}`),apiService.get(`/orders/${e}/production`)]),o=r.data,l=s.data;if(!o)throw new Error("Sipariş bilgileri alınamadı");const c=`\n    Sen bir orta gerilim anahtarlama ekipmanı üretim tesisinin yapay zeka asistanısın.\n    Bu siparişin üretim sürecini optimize etmek için öneriler sun:\n    \n    Sipariş Numarası: ${o.orderNo}\n    Müşteri: ${(null==(t=o.customerInfo)?void 0:t.name)||"Belirtilmemiş"}\n    Teslim Tarihi: ${o.deliveryDate||"Belirtilmemiş"}\n    Mevcut Durum: ${o.status||"Belirtilmemiş"}\n    İlerleme: %${o.progress||"0"}\n    \n    Üretim Bilgileri:\n    - Tamamlanan Aşamalar: ${(null==(n=null==l?void 0:l.steps)?void 0:n.filter((e=>e.completed)).length)||"0"}\n    - Bekleyen Aşamalar: ${(null==(i=null==l?void 0:l.steps)?void 0:i.filter((e=>!e.completed)).length)||"0"}\n    \n    Bekleyen Aşamalar:\n    ${(null==(a=null==l?void 0:l.steps)?void 0:a.filter((e=>!e.completed)).map((e=>`- ${e.name}: Tahmini süre: ${e.estimatedDuration||"belirsiz"}`)).join("\n"))||"Veri yok"}\n    \n    Analiz et:\n    1. Hangi üretim aşamaları hızlandırılabilir?\n    2. Kaynak optimizasyonu için öneriler nelerdir?\n    3. Süreç iyileştirme fırsatları nelerdir?\n    4. Benzer ürünlerdeki en iyi uygulamalar nelerdir?\n    \n    Yanıtını 3-4 paragraf şeklinde, teknik bir rapor formatında hazırla.\n    `;if(Xr){return(await ts(c,{temperature:.3})).text}}catch(r){return simulateOptimizationAnalysis({orderNo:e})}}),"getProductionOptimizationOptions"),ls=u((async e=>{try{Rs.value.lastInitialized||await initializeAIModel("production-optimization");const t=ds(e),n=us(e),i=ms(e.qualityData||[]),a={bottlenecks:t,resourceUtilization:n,qualityPatterns:i,seasonalityFactors:(e.historicalData,[]),productionGoals:e.goals||{},constraints:e.constraints||[],previousRecommendations:e.previousRecommendations||[],feedbackOnPreviousRecommendations:e.feedback||[],externalFactors:{supplyChainStatus:e.supplyChain||{},marketDemand:e.marketDemand||{},energyCosts:e.energyCosts||[]}},r=await Is(Ls.ai+"/optimize/production","POST",{params:a,context:Rs.value,optimizationLevel:"comprehensive",confidenceThreshold:Rs.value.confidenceThreshold});return{suggestions:r.data.suggestions,estimatedImprovements:r.data.improvements,implementationSteps:r.data.steps,confidenceScores:r.data.confidenceScores||{},alternativeApproaches:r.data.alternatives||[],potentialRisks:r.data.risks||[],visualizations:r.data.visualizations||{},simulationResults:await hs(r.data.suggestions,e)}}catch(t){return cs()}}),"optimizeProductionProcess");function cs(e){return{suggestions:[{title:"Vardiya planlaması optimizasyonu",description:"Darboğaz teşkil eden makine-press-3 için vardiya planı ayarlanması",priority:"high",estimatedImpact:"Üretim hızında %14 artış sağlanması",implementation:"Vardiya planını ekli çalışma programına göre yeniden düzenleyin"},{title:"İş istasyonu yeniden dengeleme",description:"Assembly-station-2 ve assembly-station-4 arasında iş yükü dengesi",priority:"medium",estimatedImpact:"Montaj hattında %11 verimlilik artışı",implementation:"İş istasyonu görev listesini önerilen şekilde güncelleyin"},{title:"Kalite kontrol noktası optimizasyonu",description:"Üretim hattı boyunca kalite kontrol noktalarının optimizasyonu",priority:"medium",estimatedImpact:"Hurda oranında %7 düşüş",implementation:"Kalite kontrol işlemlerini ekli dokümandaki gibi yeniden yapılandırın"}],estimatedImprovements:{throughputIncrease:"18%",cycleTimeReduction:"15%",qualityImprovement:"7%",costReduction:"12%",energySavings:"9%"},implementationSteps:[{step:1,action:"Vardiya planı güncellemesi",responsible:"Üretim planlama",duration:"2 gün"},{step:2,action:"Montaj hattı yeniden dengeleme",responsible:"Hat mühendisliği",duration:"3 gün"},{step:3,action:"Kalite kontrol noktası ayarlaması",responsible:"Kalite güvence",duration:"1 gün"},{step:4,action:"Personel eğitimi",responsible:"İK ve Eğitim",duration:"2 gün"},{step:5,action:"Pilot uygulama",responsible:"Üretim",duration:"5 gün"},{step:6,action:"Tam implementasyon",responsible:"Tüm birimler",duration:"10 gün"}],confidenceScores:{overallConfidence:.87,throughputPrediction:.91,qualityPrediction:.85,costPrediction:.88},potentialRisks:[{riskFactor:"Vardiya değişikliklerine personel adaptasyonu",impact:"medium",mitigationStrategy:"Kademeli değişiklik ve düzenli iletişim toplantıları"},{riskFactor:"Yeni kalite kontrol prosedürlerinde olası hata tespiti oranı düşüşü",impact:"low",mitigationStrategy:"İlk hafta çift kontrol uygulaması"}],customizedForContext:!0,adaptedToHistoricalData:!0,realTimeMetricsMonitoring:!0}}function ds(e){const t=e.resources||[];e.throughput;return t.map((e=>{const t=e.capacity||100,n=(e.usage||0)/t;return{resourceId:e.id,resourceName:e.name,utilizationRate:n,status:n>.9?"critical":n>.8?"warning":"normal"}})).filter((e=>e.utilizationRate>.8)).map((e=>{const t=(e.resourceId,[]),n=fs(e);return{...e,impactOnThroughput:n>.7?"high":n>.4?"medium":"low",dependencies:t,recommendedAction:gs(e)}})).sort(((e,t)=>"high"===e.impactOnThroughput&&"high"!==t.impactOnThroughput?-1:"high"!==e.impactOnThroughput&&"high"===t.impactOnThroughput?1:t.utilizationRate-e.utilizationRate))}function us(e){const t=e.resources||[],n=(e.timeIntervals||[]).map((e=>{const n=t.map((e=>{const t=ys(e.id),n=vs(e);return{resourceId:e.id,resourceName:e.name,utilizationRate:n>0?t/n:0,absoluteUsage:t,availableCapacity:n}}));return{interval:e,resourceUtilization:n,averageUtilization:bs(n.map((e=>e.utilizationRate))),peakUtilization:Math.max(...n.map((e=>e.utilizationRate)))}}));return{utilizationByTime:n,averageUtilization:bs(n.map((e=>e.averageUtilization))),resourceSummary:[],bottleneckAnalysis:[]}}function ms(e){if(!e||0===e.length)return{patterns:[],factors:[],summary:{}};return{patterns:[],defectsByType:_s(e,"defectType"),defectsByStation:_s(e,"stationId"),defectsByShift:_s(e,"shift"),correlationFactors:[],summary:{}}}async function hs(e,t){return{individualImpacts:e.map((e=>({}))),combinedEffects:{},timeSeriesProjection:[],confidenceInterval:{},sensitivityAnalysis:{}}}function ps(e,t){return[]}function fs(e,t){return e.utilizationRate>.9?.8:.5}function gs(e,t){return e.utilizationRate>.95?"capacity-increase":e.utilizationRate>.9?"reschedule-maintenance":e.utilizationRate>.85?"workload-redistribution":"monitor"}function ys(e,t,n){return 100*Math.random()}function vs(e,t){return e.capacity||100}function bs(e){return e&&0!==e.length?e.reduce(((e,t)=>e+t),0)/e.length:0}function ks(e){return[]}function ws(e){return[]}function _s(e,t){return e.reduce(((e,n)=>{const i=n[t];return e[i]||(e[i]=[]),e[i].push(n),e}),{})}function As(e){return[]}function Ds(e){return[]}function Ts(e,t){return{}}function Ss(e){return[]}function Cs(e,t){return{}}function Es(e,t){return{}}function Ms(e,t){return[]}function Os(e){return{}}function xs(e,t){return{}}function Ps(){const e=f(),t=Nn("ai-chat-history",[]),n=h(!1),i=h(!1),a=h(null),r=Nn("ai-current-model","general"),s=y({}),o=h({}),l={general:{name:"Genel Amaçlı AI",capabilities:["Temel Sorular","Sipariş Analizi","Malzeme Bilgisi"],description:"Genel sorular ve basit siparişler için uygun, hızlı bir model.",contextWindow:8e3,systemPrompt:"Üretim asistanısın. Kullanıcıların sorularına kısa ve net yanıtlar ver."},technical:{name:"Teknik AI",capabilities:["Teknik Analiz","CAD Desteği","3D Model Analizi"],description:"Teknik konularda ve CAD modellerinin analizi konusunda uzmanlaşmış model.",contextWindow:12e3,systemPrompt:"Teknik bir asistansın. Kullanıcılara CAD modelleri, teknik çizimler ve teknik özellikler konusunda yardımcı ol."},analytics:{name:"Analitik AI",capabilities:["Detaylı Analiz","Veri İşleme","Tahmin Modelleri"],description:"Veri analizi ve yorumlama konusunda uzmanlaşmış, tahmin modelleri oluşturabilen gelişmiş model.",contextWindow:16e3,systemPrompt:"Analitik bir asistansın. Kullanıcılara veri analizi, görselleştirme ve tahminler konusunda yardım et."},ml:{name:"ML AI",capabilities:["Makine Öğrenmesi","Veri Madenciliği","Anomali Tespiti"],description:"Makine öğrenmesi modellerini kullanarak tahminler yapan, geçmiş verilere göre analizler sunan model.",contextWindow:2e4,systemPrompt:"Makine öğrenmesi uzmanı bir asistansın. Kullanıcılara veri modellemesi, tahmin ve anomali tespiti konusunda yardım et."}},c=u((()=>({key:r.value,...l[r.value]})),"getCurrentModel"),d=u((e=>!!l[e]&&(r.value=e,t.value.push({role:"system",content:`Model değiştirildi: ${l[e].name}`,timestamp:new Date,isSystemMessage:!0}),!0)),"switchModel"),m=u((()=>{t.value=[]}),"clearHistory"),p=u((async(e,a={})=>{if(n.value)return null;n.value=!0;try{t.value.push({role:"user",content:e,timestamp:new Date}),i.value=!0;const n=e.toLowerCase().includes("3d model")||e.toLowerCase().includes("cad")||e.toLowerCase().includes("çizim"),a=e.toLowerCase().includes("tahmin")||e.toLowerCase().includes("prediction")||e.toLowerCase().includes("öngörü")||e.toLowerCase().includes("analiz");let s={text:"",modelPreview:null,prediction:null,relatedDocs:[]};return s=n?await g(e):a?await v(e):await T(e),t.value.push({role:"assistant",content:s.text,timestamp:new Date,source:s.source||l[r.value].name,modelPreview:s.modelPreview,prediction:s.prediction,relatedDocs:s.relatedDocs}),s}catch(s){return t.value.push({role:"assistant",content:"Üzgünüm, bir hata oluştu. Lütfen tekrar deneyin.",timestamp:new Date,error:!0}),null}finally{n.value=!1,i.value=!1}}),"sendMessage"),g=u((async e=>{const t=(await _()).cadModels||[],n=e.toLowerCase().split(" ");let i=null,a=0;for(const s of t){let e=0;const t=s.name.toLowerCase();for(const i of n)i.length>2&&t.includes(i)&&(e+=1);e>a&&(a=e,i=s)}if(!i||a<1)try{const n=`\n        Bir orta gerilim anahtarlama ekipmanı (hücre) üreticisi için çalışıyorsun.\n        Aşağıdaki CAD modelleri hakkında bilgin var:\n        ${t.map((e=>`- ${e.name}: ${e.format} formatında, versiyon ${e.version}`)).join("\n")}\n        \n        Kullanıcı şunu istiyor: "${e}"\n        \n        Bu isteğe en uygun CAD modelini seç ve kullanıcıya dostça bir yanıt ver. Seçtiğin model üzerinden inceleme yapılabileceğini belirt.\n        `;return{text:(await ts(n)).text,source:"CAD Model Asistanı (AI Destekli)"}}catch(r){}return i&&a>=1?{text:`"${i.name}" modelini buldum. Bu model hakkında daha fazla bilgi edinmek veya 3D görünümde incelemek ister misiniz?`,modelPreview:{id:i.id,name:i.name,image:i.previewImage},source:"CAD Model Asistanı",relatedDocs:i.relatedDocs||[]}:{text:"Üzgünüm, belirtilen kriterlere uygun bir CAD modeli bulamadım. Lütfen daha spesifik bir model adı veya anahtar kelimeler kullanarak tekrar deneyin.",source:"CAD Model Asistanı"}}),"handleCadModelRequest"),v=u((async e=>{i.value=!0;try{const i=e.toLowerCase().includes("üretim")||e.toLowerCase().includes("production"),a=e.toLowerCase().includes("sipariş")||e.toLowerCase().includes("order"),r=e.toLowerCase().includes("malzeme")||e.toLowerCase().includes("material");let o="general";if(i?o="production":a?o="order":r&&(o="material"),s[o])return await new Promise((e=>setTimeout(e,500))),{text:`${b(o)} İşte tahmin sonuçları:`,prediction:s[o],source:"ML Tahmin Motoru",relatedDocs:k(o)};try{const n=`\n        Bir orta gerilim anahtarlama ekipmanı üretim tesisinin üretim asistanı olarak çalışıyorsun.\n        Kullanıcı şu konu hakkında tahmin istiyor: "${e}"\n        \n        Bu tür: ${o} için gerçekçi bir tahmin oluştur.\n        \n        Yanıtını JSON formatında hazırla:\n        {\n          "explanation": "2-3 paragraf uzunluğunda detaylı analiz açıklaması",\n          "predictions": [\n            {"label": "Önemli gösterge 1", "value": "sayısal değer", "probability": 0.XX},\n            {"label": "Önemli gösterge 2", "value": "sayısal değer", "probability": 0.XX},\n            // 3-5 arası tahmin göstergeleri\n          ],\n          "metrics": {\n            "accuracy": 0.XX,\n            "precision": 0.XX,\n            // ilgili diğer metrikler\n          }\n        }\n        \n        Yanıtını SADECE JSON formatında ver, başka açıklama ekleme.\n        `,i=await ts(n);let a;try{const e=i.text.match(/\{[\s\S]*\}/);if(!e)throw new Error("Geçerli JSON bulunamadı");a=JSON.parse(e[0])}catch(t){const e=await w(o);return s[o]=e,{text:`${b(o)} İşte tahmin sonuçları:`,prediction:e,source:"ML Tahmin Motoru",relatedDocs:k(o)}}const r={predictions:a.predictions||[],metrics:a.metrics||{},explanation:a.explanation||"",modelType:`${o.charAt(0).toUpperCase()+o.slice(1)} Tahmin Modeli (AI Destekli)`,timestamp:new Date,confidence:a.predictions?a.predictions.reduce(((e,t)=>e+(t.probability||0)),0)/a.predictions.length:.8,dataPoints:Math.floor(1e3*Math.random())+500};return s[o]=r,{text:`${b(o)} İşte tahmin sonuçları:`,prediction:r,source:"ML Tahmin Motoru (AI Destekli)",relatedDocs:k(o)}}catch(n){const e=await w(o);return s[o]=e,{text:`${b(o)} İşte tahmin sonuçları:`,prediction:e,source:"ML Tahmin Motoru",relatedDocs:k(o)}}}catch(a){return{text:"Üzgünüm, tahmin modeli çalıştırılırken bir hata oluştu. Lütfen tekrar deneyin veya sistem yöneticinizle iletişime geçin.",source:"ML Tahmin Motoru"}}finally{i.value=!1}}),"handlePredictionRequest"),b=u((e=>{switch(e){case"production":return"Üretim verilerine dayalı tahmin analizi tamamlandı. Son 12 ayın üretim verileri incelendi ve gelecek 3 ay için tahmin modeli oluşturuldu.";case"order":return"Sipariş verilerine dayalı tahmin analizi tamamlandı. Son 6 ayın sipariş trendleri incelendi ve önümüzdeki dönem için sipariş tahmini oluşturuldu.";case"material":return"Malzeme stok ve kullanım verilerine dayalı tahmin analizi tamamlandı. Malzeme tüketim trendleri incelendi ve stok ihtiyaçları öngörüldü.";default:return"Veri analizi tamamlandı ve tahmin modeli oluşturuldu."}}),"getPredictionText"),k=u((e=>{const t=[];switch(e){case"production":t.push({id:"prod-report",name:"Üretim Trend Raporu.pdf"},{id:"prod-analysis",name:"Üretim Hat Analizi.xlsx"});break;case"order":t.push({id:"order-report",name:"Sipariş Tahmini Raporu.pdf"},{id:"order-trends",name:"Müşteri Trend Analizi.xlsx"});break;case"material":t.push({id:"material-report",name:"Malzeme Kullanım Raporu.pdf"},{id:"material-forecast",name:"Malzeme İhtiyaç Planı.xlsx"})}return t}),"getPredictionDocs"),w=u((async e=>{await new Promise((e=>setTimeout(e,2e3)));let t=[],n={},i="";switch(e){case"production":t=[{value:"15.2%",label:"Üretim artışı (3 ay)",probability:.86},{value:"457 birim",label:"Aylık ortalama üretim",probability:.93},{value:"92.3%",label:"Ortalama verimlilik",probability:.78},{value:"4.2 gün",label:"Ortalama tamamlanma süresi",probability:.81},{value:"23%",label:"Tam zamanında üretim artışı",probability:.74}],n={accuracy:.91,rmse:.14,mae:.09,r2:.87},i="Bu tahmin modeli, son 12 aydaki üretim verilerini kullanarak bir zaman serisi analizi gerçekleştirdi. Model, mevsimsel dalgalanmaları ve önceki trendleri dikkate alarak gelecek 3 ay için tahminler üretti. Özellikle RM36 CB hücrelerindeki üretim artışının, yeni otomasyon sisteminin devreye alınmasından sonra hızlandığı görülüyor.";break;case"order":t=[{value:"28.7%",label:"Sipariş artışı (Q2)",probability:.82},{value:"635 birim",label:"Beklenen Q2 sipariş miktarı",probability:.89},{value:"15.3 gün",label:"Ortalama teslimat süresi",probability:.91},{value:"4.2%",label:"İptal oranı tahmini",probability:.77},{value:"18.4%",label:"RM 36 CB model payı",probability:.84}],n={accuracy:.88,precision:.85,recall:.81,f1:.83},i="Sipariş tahmin modeli, müşteri segmentasyonu ve tarihsel sipariş örüntülerini analiz ederek oluşturuldu. Özellikle son 6 aydaki sipariş trendleri ve sektörel büyüme verileri dikkate alındı. Q2 döneminde enerji sektöründeki yatırım artışının, orta gerilim hücre siparişlerini olumlu etkileyeceği öngörülüyor.";break;case"material":t=[{value:"12.5%",label:"Stok maliyeti azalması",probability:.79},{value:"34 gün",label:"Optimum stok süresi",probability:.85},{value:"8.3%",label:"Bakır malzeme fiyat artışı",probability:.72},{value:"42 adet",label:"CB mekanizma ihtiyacı (aylık)",probability:.88},{value:"3.2%",label:"Malzeme tedarik gecikmesi",probability:.76}],n={accuracy:.86,mse:.09,mae:.07,r2:.82},i="Malzeme tahmin modeli, geçmiş stok hareket verileri, tedarik süreleri ve fiyat dalgalanmaları dikkate alınarak oluşturuldu. Özellikle kritik malzemeler için minimum stok seviyesi önerileri hesaplandı. Sonuçlar, JIT (tam zamanında) tedarik stratejisi için iyileştirme fırsatları olduğunu gösteriyor.";break;default:t=[{value:"18.4%",label:"Genel performans artışı",probability:.81},{value:"13.2%",label:"Maliyet optimizasyonu",probability:.76},{value:"24.7%",label:"Verimlilik artışı",probability:.79}],n={accuracy:.84,precision:.82,recall:.79,f1:.81},i="Genel veri analizi, sistem performansını değerlendirmek için çeşitli metrikler kullanılarak yapıldı. Sonuçlar, belirli alanlarda iyileştirme potansiyeli olduğunu gösteriyor."}return{predictions:t,metrics:n,explanation:i,modelType:`${e.charAt(0).toUpperCase()+e.slice(1)} Tahmin Modeli`,timestamp:new Date,confidence:t.reduce(((e,t)=>e+t.probability),0)/t.length,dataPoints:Math.floor(1e3*Math.random())+500}}),"generatePrediction"),_=u((async()=>{if(a.value)return a.value;try{await new Promise((e=>setTimeout(e,500)));const e={cadModels:[{id:"rm36cb",name:"RM 36 CB Hücresi",version:"2.1",format:"STEP",lastUpdated:"2025-03-15",path:"/models/rm36cb.step",previewImage:"/assets/images/models/rm36cb-preview.png",relatedDocs:[{id:"rm36cb-spec",name:"RM 36 CB Teknik Şartname.pdf"},{id:"rm36cb-manual",name:"RM 36 CB Montaj Kılavuzu.pdf"}]},{id:"rm36lb",name:"RM 36 LB Hücresi",version:"1.8",format:"STEP",lastUpdated:"2025-02-20",path:"/models/rm36lb.step",previewImage:"/assets/images/models/rm36lb-preview.png",relatedDocs:[{id:"rm36lb-spec",name:"RM 36 LB Teknik Şartname.pdf"}]},{id:"rm36bc",name:"RM 36 BC Barınak",version:"1.5",format:"STEP",lastUpdated:"2025-01-10",path:"/models/rm36bc.step",previewImage:"/assets/images/models/rm36bc-preview.png",relatedDocs:[{id:"rm36bc-spec",name:"RM 36 BC Teknik Şartname.pdf"}]}]};return a.value=e,e}catch(e){return null}}),"getSystemData"),A=u((async e=>(await new Promise((e=>setTimeout(e,800))),{success:!0,data:{components:[{name:"Ana Gövde",material:"Çelik",weight:"120kg",dimensions:"800 x 1200 x 600 mm",position:"Orta"},{name:"Kesici Mekanizma",material:"Bakır/Çelik",weight:"35kg",dimensions:"300 x 200 x 150 mm",position:"Üst Kısım"},{name:"Bara Bağlantısı",material:"Bakır",weight:"12kg",dimensions:"100 x 300 x 80 mm",position:"Arka"},{name:"Kontrol Panosu",material:"Plastik/Metal",weight:"8kg",dimensions:"250 x 350 x 120 mm",position:"Ön"}]}})),"modelComponents"),D=u((async e=>(await new Promise((e=>setTimeout(e,800))),{success:!0,data:{measurements:[{name:"Toplam Yükseklik",value:2100,unit:"mm",type:"height",description:"Zeminden en üst noktaya kadar olan mesafe"},{name:"Toplam Genişlik",value:800,unit:"mm",type:"width",description:"Hücrenin dış genişliği"},{name:"Toplam Derinlik",value:1450,unit:"depth",description:"Ön yüzeyden arka yüzeye mesafe"},{name:"İç Yükseklik",value:1950,unit:"mm",type:"height",description:"Hücre içi kullanılabilir yükseklik"},{name:"Bara Genişliği",value:100,unit:"mm",type:"width",description:"Ana bara genişliği"},{name:"Panel Kalınlığı",value:2,unit:"mm",type:"depth",description:"Dış panel saç kalınlığı"}]}})),"modelMeasurements"),T=u((async e=>{try{const n=t.value.filter((e=>!e.isSystemMessage)).slice(-Jr.chatbot.contextWindow).map((e=>({role:e.role,content:e.content}))),i=[{role:"system",content:Jr.chatbot.systemPrompt},...n,{role:"user",content:e}];let a;const r="auto"===Yr?Qr.apiKey?"openrouter":Xr?"gemini":"demo":Yr;return"openrouter"===r&&(a=await as(i,Qr.defaultOptions)),{text:a.text,source:"openrouter"===r?"OpenRouter":"gemini"===r?"Gemini":"Demo"}}catch(n){return{text:`Üzgünüm, şu anda "${e}" sorunuza yanıt oluşturamıyorum. Lütfen daha sonra tekrar deneyin.`,source:"Fallback Sistem"}}}),"generateResponse"),S=u((async e=>{if(!(e&&e.name&&e.type&&e.dataSource))throw new Error("Model için gerekli konfigürasyon eksik");n.value=!0;try{await new Promise((e=>setTimeout(e,3e3)));const t=`model-${Date.now()}`;return o.value[t]={id:t,name:e.name,type:e.type,dataSource:e.dataSource,createdAt:new Date,status:"trained",accuracy:.2*Math.random()+.8,metrics:{precision:.2*Math.random()+.78,recall:.2*Math.random()+.78,f1:.2*Math.random()+.78}},t}finally{n.value=!1}}),"trainCustomModel"),C=u((async(e,t)=>{if(!e||!o.value[e])throw new Error("Geçersiz model ID");const i=o.value[e];n.value=!0;try{return await new Promise((e=>setTimeout(e,1500))),{modelId:e,modelName:i.name,timestamp:new Date,accuracy:i.accuracy,predictions:E(i.type)}}finally{n.value=!1}}),"runCustomModel"),E=u((e=>{const t=[];switch(e){case"classification":t.push({label:"Sınıf A",probability:.4*Math.random()+.6},{label:"Sınıf B",probability:.3*Math.random()+.3},{label:"Sınıf C",probability:.2*Math.random()+.1});break;case"regression":t.push({value:(100*Math.random()+100).toFixed(2),confidence:.2*Math.random()+.8});break;case"anomaly":const e=Math.random()>.7;t.push({isAnomaly:e,anomalyScore:e?.4*Math.random()+.6:.3*Math.random(),description:e?"Anomali tespit edildi":"Normal durum"});break;default:t.push({label:"Sonuç",probability:.2*Math.random()+.8})}return t}),"generateCustomPredictions");return{history:t,isProcessing:n,modelLoading:i,supportedModels:l,currentModelKey:r,sendMessage:p,clearHistory:m,switchModel:d,getCurrentModel:c,getSystemData:_,modelComponents:A,modelMeasurements:D,trainCustomModel:S,runCustomModel:C,navigateToCADViewer:u((t=>{e.push({name:"ModelViewer",params:{id:t}})}),"navigateToCADViewer")}}u(cs,"simulateProductionOptimization"),u(ds,"identifyBottlenecks"),u(us,"calculateResourceUtilization"),u(ms,"analyzeQualityPatterns"),u(hs,"simulateImplementation"),u(ps,"findDependencies"),u(fs,"calculateImpact"),u(gs,"determineRecommendedAction"),u(ys,"findResourceUsageInInterval"),u(vs,"getResourceCapacityInInterval"),u(bs,"calculateAverage"),u(ks,"summarizeResourceUtilization"),u(ws,"analyzeBottlenecks"),u(_s,"groupBy"),u(As,"identifyRecurringPatterns"),u(Ds,"analyzeCorrelationFactors"),u(Ts,"summarizeQualityAnalysis"),u(Ss,"extractSeasonalityFactors"),u(Cs,"simulateSuggestionImpact"),u(Es,"simulateCombinedImplementation"),u(Ms,"simulateTimeSeriesImpact"),u(Os,"calculateConfidenceInterval"),u(xs,"performSensitivityAnalysis"),u(Ps,"useAiService");const zs={MATERIAL_PREDICTION:"material-prediction",PRODUCTION_OPTIMIZATION:"production-optimization",MAINTENANCE_PREDICTION:"maintenance-prediction",QUALITY_CONTROL:"quality-control",DEMAND_FORECAST:"demand-forecast",RESOURCE_ALLOCATION:"resource-allocation",INVENTORY_OPTIMIZATION:"inventory-optimization",CAD_MODEL_ANALYSIS:"cad-model-analysis"},Rs=h({isReady:!1,models:{},activeModel:null,predictions:[],isTraining:!1,trainingProgress:0,datasetStats:null,error:null}),Ls={baseUrl:"https://api.mets-ai.com/v2",prediction:"/predict",training:"/train",models:"/models",datasets:"/datasets",cad:"/cad",chat:"/chat"},Is=u((async(e,t="GET",n=null)=>{const i=ie().currentUser;if(!i)throw new Error("Kullanıcı oturumu bulunamadı");const a=await i.getIdToken();return Pr({method:t,url:`${Ls.baseUrl}${e}`,data:n,headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})}),"createApiRequest"),Ns=u((async()=>{try{Rs.value.isReady=!1,Rs.value.error=null;const e=await Is(Ls.models);if(e.data&&Array.isArray(e.data.models)){const t={};return e.data.models.forEach((e=>{var n;t[e.id]={id:e.id,name:e.name,description:e.description,type:e.type,version:e.version,accuracy:null==(n=e.metrics)?void 0:n.accuracy,lastUpdated:new Date(e.lastUpdated),supportedFormats:e.supportedFormats||[],capabilities:e.capabilities||[]}})),Rs.value.models=t,!Rs.value.activeModel&&Object.keys(t).length>0&&(Rs.value.activeModel=Object.keys(t)[0]),Rs.value.isReady=!0,t}return{}}catch(e){return Rs.value.error="AI modelleri yüklenirken bir hata oluştu",{}}}),"loadModels"),Bs=u((e=>!!Rs.value.models[e]&&(Rs.value.activeModel=e,!0)),"setActiveModel"),js=u((async(e,t,n={})=>{try{const i=n.modelId||Rs.value.activeModel;if(!i)throw new Error("Aktif bir model seçili değil");const a=await Is(Ls.prediction,"POST",{modelId:i,modelType:e,data:t,options:n});if(a.data&&a.data.prediction){const t={id:a.data.id||Xs(),modelType:e,modelId:i,timestamp:new Date,predictions:a.data.prediction.results||[],confidence:a.data.prediction.confidence,explanation:a.data.prediction.explanation,dataPoints:a.data.prediction.dataPointsCount,metrics:a.data.prediction.metrics||{},rawResponse:a.data};return Rs.value.predictions.unshift(t),Rs.value.predictions.length>50&&(Rs.value.predictions=Rs.value.predictions.slice(0,50)),t}throw new Error("Geçersiz tahmin yanıtı")}catch(i){throw Rs.value.error="Tahmin işlemi sırasında bir hata oluştu",i}}),"runPrediction"),$s=u((async e=>js(zs.PRODUCTION_OPTIMIZATION,e)),"predictProductionOptimization"),Us=u((async e=>js(zs.MATERIAL_PREDICTION,e)),"predictMaterialRequirements"),Fs=u((async e=>js(zs.MAINTENANCE_PREDICTION,e)),"predictMaintenanceNeeds"),Hs=u((async e=>js(zs.QUALITY_CONTROL,e)),"predictQualityControl"),Ws=u((async e=>js(zs.DEMAND_FORECAST,e)),"predictDemandForecast"),qs=u((async e=>{try{return(await Is(Ls.cad+"/analyze","POST",{modelData:e,modelId:Rs.value.activeModel})).data}catch(t){throw Rs.value.error="CAD model analizi sırasında bir hata oluştu",t}}),"analyzeCADModel"),Vs=u((async(e,t)=>{try{return(await Is(Ls.cad+"/optimize","POST",{modelData:e,params:t})).data}catch(n){throw n}}),"optimizeModel"),Gs=u((async(e,t=[],n={})=>{try{const i=[{role:"system",content:n.systemPrompt||"Üretim asistanısın. Kullanıcılara yardımcı ol."},...t.map((e=>({role:e.role,content:e.content}))),{role:"user",content:e}];return{text:(await is(i)).text,success:!0,source:n.modelName||"AI Asistanı"}}catch(i){throw i}}),"sendChatMessage"),Ks=u((async(e,t)=>{try{const n=`\n    Aşağıdaki dokümanı incele ve şu soruya yanıt ver: "${t}"\n    \n    Doküman içeriği:\n    ${e.content||e.text||"İçerik bulunamadı"}\n    \n    Yanıtını kısa ve net bir şekilde ver.\n    `;return{text:(await ts(n,{temperature:.3})).text,success:!0,documentId:e.id}}catch(n){throw n}}),"analyzeDocument"),Ys=u((async(e,t={})=>{try{return(await Is("/documents/search","POST",{query:e,filters:t})).data.documents||[]}catch(n){throw n}}),"searchRelatedDocuments"),Qs=u((async(e,t,n={})=>{try{Rs.value.isTraining=!0,Rs.value.trainingProgress=0;const i=(await Is(Ls.training,"POST",{modelType:e,datasetId:t,params:n})).data.trainingId,a=u((async()=>{const e=await Is(`${Ls.training}/${i}/status`,"GET");if(Rs.value.trainingProgress=e.data.progress,"completed"===e.data.status)return Rs.value.isTraining=!1,await Ns(),e.data;if("failed"===e.data.status)throw Rs.value.isTraining=!1,Rs.value.error=e.data.error||"Model eğitimi başarısız oldu",new Error(Rs.value.error);return await new Promise((e=>setTimeout(e,3e3))),a()}),"checkTrainingStatus");return a()}catch(i){throw Rs.value.isTraining=!1,Rs.value.error="Model eğitimi sırasında bir hata oluştu",i}}),"trainModel"),Js=u((async e=>{try{const t=await Is(`${Ls.datasets}/${e}/stats`,"GET");return Rs.value.datasetStats=t.data,t.data}catch(t){throw t}}),"getDatasetStats"),Xs=u((()=>Date.now().toString(36)+Math.random().toString(36).substring(2)),"generateId"),Zs={loadModels:Ns,setActiveModel:Bs,runPrediction:js,predictProductionOptimization:$s,predictMaterialRequirements:Us,predictMaintenanceNeeds:Fs,predictQualityControl:Hs,predictDemandForecast:Ws,analyzeCADModel:qs,optimizeModel:Vs,sendChatMessage:Gs,analyzeDocument:Ks,searchRelatedDocuments:Ys,trainModel:Qs,getDatasetStats:Js,useMachineLearning:u((()=>Rs),"useMachineLearning"),analyzeOrder:rs,analyzeOrderDelay:ss,getProductionOptimizationOptions:os,optimizeProductionProcess:ls,MODEL_TYPES:zs},eo=p("technical",{state:u((()=>({documents:[],isLoading:!1,error:null,selectedDocument:null,isAIChatModalOpen:!1,lastQuery:null,recentQueries:[],synonymsDB:{"akım":["akım","current","amper","amperage"],gerilim:["gerilim","voltaj","voltage","volt"],trafo:["trafo","transformatör","transformer"],"hücre":["hücre","cell","kompartıman","compartment","hucre"],bara:["bara","busbar","iletken çubuk","bus","barr"],kesici:["kesici","circuit breaker","cb","breaker","şalter"],"ayırıcı":["ayırıcı","disconnector","isolator"],montaj:["montaj","assembly","installation","kurulum"],sigorta:["sigorta","fuse","protection"],motor:["motor","motor tahrik","motor drive"],topraklama:["topraklama","grounding","earthing","toprak"]},documentWeights:{title:5,description:3,category:2,content:4,exactMatch:10,synonymMatch:3}})),"state"),getters:{getDocuments:u((e=>e.documents),"getDocuments"),getSelectedDocument:u((e=>e.selectedDocument),"getSelectedDocument"),getIsLoading:u((e=>e.isLoading),"getIsLoading"),getRelatedDocuments:u((e=>t=>{if(e.lastQuery&&e.lastQuery.query===t&&e.lastQuery.relatedDocs)return e.lastQuery.relatedDocs;const n=t.toLowerCase().replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s{2,}/g," "),i={};Object.keys(e.synonymsDB).forEach((t=>{e.synonymsDB[t].forEach((e=>{n.includes(e)&&(i[t]=(i[t]||0)+1)}))}));const a=e.documents.map((t=>{let a=0;const r=t.name.toLowerCase(),s=t.description?t.description.toLowerCase():"",o=t.category?t.category.toLowerCase():"";Object.keys(i).forEach((t=>{r.includes(t)&&(a+=e.documentWeights.title*i[t]),s.includes(t)&&(a+=e.documentWeights.description*i[t]),o.includes(t)&&(a+=e.documentWeights.category*i[t]),e.synonymsDB[t].forEach((n=>{n!==t&&(r.includes(n)&&(a+=e.documentWeights.synonymMatch),s.includes(n)&&(a+=.6*e.documentWeights.synonymMatch))}))})),r.includes(n)&&(a+=e.documentWeights.exactMatch),s.includes(n)&&(a+=.5*e.documentWeights.exactMatch);if(["cb","lb","bc","fl","rmu"].forEach((t=>{n.includes(`rm 36 ${t}`)&&r.includes(`rm 36 ${t}`)&&(a+=2*e.documentWeights.exactMatch)})),t.version){const e=parseFloat(t.version.replace(/[^0-9.]/g,""));isNaN(e)||(a+=e)}const l=t.category?t.category.toLowerCase():"";if(n.includes("prosedür")&&"prosedür"===l&&(a+=6),n.includes("kılavuz")&&"kılavuz"===l&&(a+=6),n.includes("şartname")&&"şartname"===l&&(a+=8),n.includes("teknik")&&"teknik doküman"===l&&(a+=5),n.includes("nasıl")&&("kılavuz"!==l&&"talimat"!==l||(a+=7)),(n.includes("nedir")||n.includes("özellikleri"))&&("teknik doküman"!==l&&"şartname"!==l||(a+=7)),t.uploadDate){const e=new Date(t.uploadDate),n=new Date,i=Math.ceil((n-e)/864e5);i<90&&(a+=Math.max(0,3-i/30))}return{doc:t,score:a}})).filter((e=>e.score>0)).sort(((e,t)=>t.score-e.score)).map((e=>e.doc));if(a.length<2){const t=["teknik doküman","şartname","kılavuz","prosedür","talimat"];for(const n of t){const t=e.documents.filter((e=>e.category&&e.category.toLowerCase()===n.toLowerCase()));for(const e of t)if(!a.find((t=>t.id===e.id))&&(a.push(e),a.length>=5))break;if(a.length>=5)break}}return a.slice(0,5)}),"getRelatedDocuments")},actions:{async fetchDocuments(){this.isLoading=!0;try{const e=[{id:1,name:"RM 36 CB Teknik Şartnamesi",category:"şartname",version:"Rev.2.1",uploadDate:"2024-04-15",size:"2.3 MB",downloadUrl:"#",description:"RM 36 CB hücresine ait teknik şartname dokümanı"},{id:2,name:"RM 36 LB Montaj Talimatı",category:"talimat",version:"Rev.1.3",uploadDate:"2024-04-10",size:"1.8 MB",downloadUrl:"#",description:"RM 36 LB hücresi montaj talimatları"},{id:3,name:"Akım Trafosu Seçim Kılavuzu",category:"kılavuz",version:"Rev.1.3",uploadDate:"2024-04-01",size:"3.1 MB",downloadUrl:"#",description:"Akım trafolarının seçimine ilişkin teknik bilgiler"},{id:4,name:"RM 36 Serisi Bara Montaj Kılavuzu",category:"kılavuz",version:"Rev.1.8",uploadDate:"2024-03-25",size:"4.2 MB",downloadUrl:"#",description:"RM 36 serisi için bara montaj kılavuzu"},{id:5,name:"RM 36 Motor Teknik Özellikleri",category:"teknik doküman",version:"Rev.1.2",uploadDate:"2024-03-20",size:"1.4 MB",downloadUrl:"#",description:"RM 36 serisi motorlu mekanizmaların teknik özellikleri"},{id:6,name:"RM 36 CB Test Prosedürü",category:"prosedür",version:"Rev.2.0",uploadDate:"2024-03-18",size:"2.8 MB",downloadUrl:"#",description:"RM 36 CB hücresi test prosedürleri ve kontrol listesi"},{id:7,name:"Orta Gerilim Hücreler Genel Katalog",category:"katalog",version:"Rev.4.2",uploadDate:"2024-02-15",size:"8.5 MB",downloadUrl:"#",description:"Tüm orta gerilim ürün ailesi için genel katalog"},{id:8,name:"RM 36 BC STEP Modeli Teknik Çizim",category:"3D model",version:"Rev.1.5",uploadDate:"2024-02-10",size:"15.7 MB",downloadUrl:"#",description:"RM 36 BC barınak için STEP formatında 3D teknik çizim"},{id:9,name:"Orta Gerilim Kesici Bakım Talimatı",category:"talimat",version:"Rev.3.0",uploadDate:"2024-01-20",size:"2.4 MB",downloadUrl:"#",description:"CB tipi kesicilerin bakım ve kontrol talimatları"},{id:10,name:"OG Akım/Gerilim Trafoları Kataloğu",category:"katalog",version:"Rev.2.5",uploadDate:"2024-01-05",size:"5.8 MB",downloadUrl:"#",description:"Kullanılabilecek tüm akım ve gerilim trafosu modellerinin karşılaştırmalı özellikleri"}];return this.documents=e,{success:!0,data:e}}catch(e){return this.error="Teknik dokümanlar yüklenirken bir hata oluştu",{success:!1,error:this.error}}finally{this.isLoading=!1}},selectDocument(e){this.selectedDocument=e},clearSelectedDocument(){this.selectedDocument=null},setAIChatModalOpen(e){this.isAIChatModalOpen=e},addDocument(e){const t={id:this.documents.length>0?Math.max(...this.documents.map((e=>e.id)))+1:1,uploadDate:(new Date).toISOString().split("T")[0],...e};return this.documents.unshift(t),t},async getDocumentContent(e){this.isLoading=!0;try{const t=this.documents.find((t=>t.id===e));if(!t)throw new Error("Doküman bulunamadı");let n="";return n=t.name.includes("Akım Trafosu")?"# Akım Trafosu Teknik Bilgiler\n\nModel: KAP-80/190-95\nAnma Akımı: 200-400/5-5A\nHassasiyet Sınıfı: 5P20\nAnma Gücü: 7,5/15VA\nÇalışma Frekansı: 50Hz\nİzolasyon Seviyesi: 36kV\n\nKullanım Alanları:\n- RM 36 CB hücrelerinde koruma ve ölçme amacıyla kullanılır\n- Orta gerilim dağıtım sistemlerinde akım ölçümü\n- Diferansiyel koruma sistemleri\n\nMontaj Talimatları:\n- Bara bağlantı vidaları 35Nm tork ile sıkılmalıdır\n- Terminaller 5Nm tork ile sıkılmalıdır\n- Topraklama bağlantısı mutlaka yapılmalıdır":t.name.includes("Test Prosedürü")?"# RM 36 CB Test Prosedürü\n\nBu prosedür RM 36 CB hücrelerinin fabrika kabul testlerini tanımlar.\n\n## Test Aşamaları\n\n1. Görsel İnceleme\n   - Boyalı yüzeylerin kontrolü\n   - Etiketlerin kontrolü\n   - Kapı mekanizmalarının kontrolü\n\n2. Elektriksel Testler\n   - İzolasyon direnci ölçümü\n   - Yüksek gerilim testi (36kV)\n   - Koruma röle fonksiyon testleri\n\n3. Mekanik Operasyon Testleri\n   - Kesicinin açma-kapama testi (minimum 5 operasyon)\n   - Manuel ve motorlu operasyon testi\n   - Topraklama switch'inin test edilmesi\n\n4. Sensör ve Ölçüm Devreleri\n   - Akım trafosu bağlantıları\n   - Gerilim trafosu bağlantıları\n   - Ölçüm devrelerinin kalibrasyonu\n\nTest sonuçları tabloya kaydedilmeli ve kalite kontrol departmanı tarafından onaylanmalıdır.":t.name.includes("Bara Montaj")?"# RM 36 Serisi Bara Montaj Kılavuzu\n\n## Bara Özellikleri\n\nTip: Elektrolitik Bakır (E-Cu / OF-Cu)\nStandart kesitler: 40x5mm, 40x10mm, 60x10mm \nUzunluklar: 582mm (Yan hücre bağlantısı için)\n            432mm (Tek hücre için)\nStok kodları: 109367% (582mm)\n              109363% (432mm)\n\n## Montaj Talimatları\n\n1. Tüm bara bağlantıları temizlenmeli ve oksit oluşumu önlenmelidir.\n2. Bara bağlantıları için M12 cıvata kullanılmalı ve 65-70 Nm tork ile sıkılmalıdır.\n3. Baralar arasında iletkenliği artırmak için özel iletken pasta kullanılmalıdır.\n4. Bara bağlantılarına ısıl kamera ile sıcaklık kontrolü yapılmalıdır.\n\n## Emniyet Uyarıları\n\n- Montaj işlemi sırasında enerji olmadığından emin olunmalıdır.\n- Bara bağlantıları için izole eldivenler kullanılmalıdır.\n- Tüm bara uçları yalıtım kapaklarıyla kapatılmalıdır.":t.name.includes("Motor Teknik")?"# RM 36 Motor Teknik Özellikleri\n\n## Motor Parametreleri\n\nNominal Gerilim: 24V DC (Standart)\nAlternatif Gerilimler: 48V DC, 110V DC, 220V AC (Özel sipariş)\nGüç: \n- Ayırıcı motorları: 60W\n- Kesici motorları: 85W\n- Topraklama switch motorları: 40W\n\nÇalışma Süresi: 3-5 saniye (tam açma/kapama)\nMotor Tipi: Redüktörlü DC motor\nKoruma Sınıfı: IP54\n\n## Bakım Bilgileri\n\n- 10,000 operasyonda bir yağlama yapılmalıdır\n- 50,000 operasyonda bir motor değişimi önerilir\n- Her yıl çalışma performansı kontrol edilmelidir":t.name.includes("Bakım Talimatı")?"# Orta Gerilim Kesici Bakım Talimatı\n\n## Periyodik Bakım Çizelgesi\n\n| İşlem | Periyot | Gereken Ekipman |\n|-------|---------|-----------------|\n| Gözle muayene | 6 ay | - |\n| Mekanik test | 1 yıl | Test cihazı |\n| Yağlama | 2 yıl | Özel gres |\n| Kapsamlı bakım | 4 yıl veya 10.000 operasyon | Bakım kiti |\n\n## Bakım Prosedürü\n\n1. Kesici enerji altında değilken yapılacak işlemler:\n   - Mekanik parçaların kontrolü\n   - Yağlama noktalarının kontrolü\n   - Bağlantı elemanlarının kontrolü\n\n2. Elektriksel testler:\n   - Kontak direnci ölçümü\n   - İzolasyon direnci ölçümü\n   - Açma/kapama sürelerinin kontrolü\n\n3. Yağlama işlemi:\n   - Sadece önerilen gresler kullanılmalıdır\n   - Fazla gres kontak kirliliğine neden olabilir\n   - Yağlama sonrası mekanik testler tekrarlanmalıdır\n\n## Güvenlik Uyarıları\n\n- Bakım öncesi kilitleme-etiketleme prosedürü uygulanmalıdır\n- Topraklama işlemi tamamlanmadan müdahale edilmemelidir\n- Kapasitif gerilim göstergeleri kontrol edilmelidir":t.name.includes("Genel Katalog")?"# Orta Gerilim Hücreler Genel Katalog\n\n## RM 36 Serisi Hücreler\n\n| Model | Fonksiyon | Anma Akımı | Kısa Devre Dayanımı |\n|-------|-----------|------------|---------------------|\n| RM 36 CB | Kesicili Hücre | 630A-1250A | 20kA/1sn |\n| RM 36 LB | Yük Ayırıcılı Hücre | 630A | 20kA/1sn |\n| RM 36 FL | Sigortalı Hücre | 200A | 20kA/1sn |\n| RM 36 BC | Bara Bağlantı Hücresi | 1250A | 20kA/1sn |\n| RM 36 RMU | Ring Main Unit | 630A | 20kA/1sn |\n\n## Teknik Özellikler\n\n- Anma Gerilimi: 36kV\n- Yalıtım Seviyesi: 70/170kV\n- Nominal Frekans: 50Hz\n- Koruma Sınıfı: IP3X (Opsiyonel: IP41)\n- Standartlar: IEC 62271-200\n\n## Opsiyonlar\n\n- Motorlu tahrik: 24V, 48V, 110V DC, 220V AC\n- Koruma rölesi: Mikroişlemcili, haberleşme özellikli\n- Gerilim trafosu: Dahili veya harici montaj\n- Akım trafosu: Toroidal veya epoksi reçine\n- Topraklama bıçağı: Manuel veya motorlu\n\n## Boyutlar\n\nStandart hücre boyutları:\n- Yükseklik: 2100 mm\n- Genişlik: 750 mm\n- Derinlik: 1500 mm\n\nÖzel boyutlar için lütfen satış ekibimizle iletişime geçiniz.":t.name.includes("Trafoları Kataloğu")?"# OG Akım/Gerilim Trafoları Kataloğu\n\n## Akım Trafoları\n\n| Model | Anma Akımı | Hassasiyet Sınıfı | Anma Gücü |\n|-------|------------|-------------------|-----------|\n| KAP-80/190-95 | 200-400/5-5A | 5P20 | 7,5/15VA |\n| KAT-85/190-95 | 300-600/5-5A | 5P20 | 7,5/15VA |\n| KAW-80/150-70 | 100-200/5A | 0.5 | 10VA |\n| KAY-90/200-100 | 500-1000/5-5A | 5P20 | 15/30VA |\n\n## Gerilim Trafoları\n\n| Model | Anma Gerilimi | Hassasiyet Sınıfı | Anma Gücü |\n|-------|--------------|-------------------|-----------|\n| KDP-36 | 36kV/√3 / 100V/√3 | 0.5/3P | 50VA |\n| KDG-36 | 36kV/√3 / 100V/√3 / 100V/3 | 0.5/3P | 50/50VA |\n| KDK-36 | 36kV / 100V | 0.5 | 100VA |\n\n## Kullanım Yerleri\n\n- Akım trafoları genellikle kesici, yük ayırıcı veya bara üzerine monte edilir\n- Gerilim trafoları kablo veya bara bağlantısı için uygundur\n- Kombine ölçü trafoları hem akım hem gerilim ölçümü için kullanılır\n\n## Bağlantı Şemaları\n\nAkım trafolarında P1-P2 primer, S1-S2 sekonder bağlantılardır.\nGerilim trafolarında A-N primer, a-n sekonder bağlantılardır.\n\nBağlantı şeması için ilgili teknik çizime bakınız.":t.name.includes("STEP Modeli")?"# RM 36 BC STEP Modeli Teknik Çizim\n\n## Model Bilgileri\n\n- Format: STEP (ISO 10303)\n- Yazılım Uyumluluğu: AutoCAD, SolidWorks, Inventor, CATIA\n- Model Versiyonu: 1.5 (2024-02-10)\n- Boyutlar: 750 x 1500 x 2100 mm (G x D x Y)\n- Referans: RM36-BC-3D-REV15\n\n## İçerik\n\nBu 3D model aşağıdaki bileşenleri içerir:\n- Ana gövde ve kabin\n- Bara sistemi (40x10mm Cu)\n- İzolatörler\n- Topraklama bağlantıları\n- Kapı mekanizması\n\n## Kullanım Kılavuzu\n\n1. STEP dosyasını CAD yazılımınızda açın\n2. Referans noktası olarak ön-alt-sol köşeyi kullanın\n3. Bara bağlantıları için konum bilgileri çizimde belirtilmiştir\n4. 3D model üzerinde ölçü kontrolü yapınız\n\n## Notlar\n\n- İmalat için 2D çizimler kullanılmalıdır\n- Bu model genel tasarım amaçlıdır\n- Özel uygulamalar için modifikasyonlar gerekebilir\n- En güncel versiyon için doküman yönetimine başvurunuz":`# ${t.name} içeriği\n\nBu doküman için detaylı içerik bulunmamaktadır. Lütfen doküman yöneticisiyle iletişime geçiniz.`,{success:!0,content:n,document:t}}catch(t){return this.error="Doküman içeriği yüklenirken bir hata oluştu",{success:!1,error:this.error}}finally{this.isLoading=!1}},async searchInDocumentContents(e){this.isLoading=!0;try{const t=[];for(const n of this.documents){const i=await this.getDocumentContent(n.id);if(i.success&&i.content){const a=e.toLowerCase();if(i.content.toLowerCase().includes(a)){const e=i.content.split("\n\n"),r=e.filter((e=>e.toLowerCase().includes(a)));r.length>0&&t.push({document:n,matchingContent:r[0],score:r.length/e.length+1})}}}return t.sort(((e,t)=>t.score-e.score))}catch(t){return[]}finally{this.isLoading=!1}},async performTechnicalQuery(e){this.isLoading=!0;try{const n=this.getRelatedDocuments(e);let i=null;try{const t=n.slice(0,2).map((e=>this.getDocumentContent(e.id))),a=(await Promise.all(t)).find((e=>e.success&&e.content));if(a){const t={id:a.document.id,name:a.document.name,content:a.content},n=await Zs.analyzeDocument(t,e);n&&n.success&&(i={text:n.text,reference:a.document.name+" "+a.document.version})}}catch(t){}return i||(i=this.getDemoAnswer(e)),this.lastQuery={query:e,answer:i,relatedDocs:n,timestamp:new Date},this.recentQueries.length>=5&&this.recentQueries.pop(),this.recentQueries.unshift({query:e,timestamp:new Date}),{success:!0,answer:i,relatedDocs:n}}catch(n){return this.error="Teknik sorgulama yapılırken bir hata oluştu",{success:!1,error:this.error}}finally{this.isLoading=!1}},getDemoAnswer(e){const t=e.toLowerCase();let n={text:"Bu konuda bilgi bulunamadı.",reference:"Genel Teknik Doküman"};return t.includes("akım trafosu")?n={text:"RM 36 CB hücresinde genellikle 200-400/5-5A 5P20 7,5/15VA veya 300-600/5-5A 5P20 7,5/15VA özelliklerinde toroidal tip akım trafoları kullanılmaktadır. Canias kodları: 144866% (KAP-80/190-95) veya 142227% (KAT-85/190-95). Bu trafolar Orta Gerilim Hücrelerinde koruma ve ölçme amacıyla kullanılır.",reference:"RM 36 CB Teknik Şartnamesi Rev.2.1"}:t.includes("montaj")?n={text:"RM 36 LB hücresinin montajı için özel talimatlar bulunmaktadır. Mekanik montaj işlemleri için montaj talimatına göre işlem yapılmalıdır.",reference:"RM 36 LB Montaj Talimatı Rev.1.3"}:t.includes("bara")?n={text:"OG Hücrelerde kullanılan baralar genellikle elektrolitik bakırdır. RM 36 serisi için 582mm ve 432mm uzunluklarında 40x10mm kesitinde düz bakır baralar kullanılır. Stok kodları: 109367% (582mm) ve 109363% (432mm).",reference:"RM 36 Serisi Bara Montaj Kılavuzu Rev.1.8"}:t.includes("motor")||t.includes("ayırıcı")?n={text:"RM 36 serisi hücrelerde kesici ve ayırıcılarda 24VDC motorlar standart olarak kullanılmaktadır. Özel gereksinimler için 48VDC, 110VDC ve 220VAC motorlar da mevcuttur. Çalışma süresi 3-5 saniye arasındadır.",reference:"RM 36 Motor Teknik Özellikleri Rev.1.2"}:t.includes("rm 36")||t.includes("hücre")?n={text:"RM 36 serisi hücreler, 36kV orta gerilim için tasarlanmıştır. Ana bileşenleri: kesici/yük ayırıcı, akım trafosu, gerilim trafosu, koruma rölesi ve bara sisteminden oluşur. Temel hücre tipleri: CB (Kesicili), LB (Yük Ayırıcılı), FL (Sigortalı), RMU (Ring Main Unit).",reference:"Orta Gerilim Hücreler Genel Katalog Rev.4.2"}:(t.includes("bakım")||t.includes("maintenance"))&&(n={text:"Orta gerilim kesicilerin bakım periyodu: 6 ayda bir gözle muayene, yılda bir mekanik test, 2 yılda bir yağlama ve 4 yılda bir (veya 10.000 operasyonda bir) kapsamlı bakım yapılmalıdır. Bakım öncesi mutlaka kilitleme-etiketleme prosedürü uygulanmalı ve topraklama işlemi tamamlanmadır.",reference:"Orta Gerilim Kesici Bakım Talimatı Rev.3.0"}),n},addSynonym(e,t){return this.synonymsDB[e]?!this.synonymsDB[e].includes(t)&&(this.synonymsDB[e].push(t),!0):(this.synonymsDB[e]=[e,t],!0)}}}),to=u(((e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n}),"_export_sfc"),no={class:"ai-chatbot"},io={key:0,class:"notification-badge"},ao=to({__name:"AIChatbotButton",setup(e){const t=mn(),n=eo(),i=h(0),a=u((()=>{i.value=t.getUnreadCount||Math.floor(5*Math.random())}),"updateNotificationCount"),r=u((()=>{n.setAIChatModalOpen(!0),i.value=0}),"openChatModal");return b((()=>{a(),setInterval((()=>{n.isAIChatModalOpen||a()}),6e4)})),(e,t)=>(x(),C("div",no,[E("div",{class:"ai-chatbot-btn",onClick:r},[t[0]||(t[0]=E("i",{class:"bi bi-robot"},null,-1)),i.value>0?(x(),C("span",io,O(i.value),1)):M("",!0)])]))}},[["__scopeId","data-v-b0c47adc"]]),ro=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"})),so=class{constructor(){this.modelStatus=h({objectDetectionLoaded:!1,drawingAnalysisLoaded:!1,textExtractionLoaded:!1,errorDetectionLoaded:!1}),this.supportedFileFormats={cad:[".dwg",".dxf",".step",".stp",".iges",".igs"],drawing:[".pdf",".svg",".png",".jpg",".jpeg"],model:[".obj",".gltf",".glb",".stl",".fbx"]},this.analysisModels={objectDetection:null,drawingAnalysis:null,textExtraction:null,errorDetection:null},this.initializeModels()}async initializeModels(){var e,t;try{const n=await Zs.getAIModelsStatus(["objectDetection","cadAnalysis"]);(null==(e=n.objectDetection)?void 0:e.available)&&(this.modelStatus.value.objectDetectionLoaded=!0,tn.info("Nesne tanıma modeli hazır")),(null==(t=n.cadAnalysis)?void 0:t.available)&&(this.modelStatus.value.drawingAnalysisLoaded=!0,tn.info("Çizim analiz modeli hazır"))}catch(n){tn.error("Yapay zeka modellerini yükleme hatası:",n)}}_isSupportedFileFormat(e){if(!e)return!1;const t=e.toLowerCase();return[...this.supportedFileFormats.cad,...this.supportedFileFormats.drawing,...this.supportedFileFormats.model].includes(t)}_determineFileType(e){if(!e)return"unknown";const t=e.toLowerCase();return this.supportedFileFormats.cad.includes(t)?"cad":this.supportedFileFormats.drawing.includes(t)?"drawing":this.supportedFileFormats.model.includes(t)?"model":"unknown"}async analyzeDrawing(e,t={}){var n,i;try{tn.info("Çizim analizi başlatılıyor",{options:t});const a=t.fileType||this._determineFileTypeFromSource(e),r=await this._simulateDrawingAnalysis(e,a);return{success:!0,timestamp:(new Date).toISOString(),analysis:r,result:{summary:{confidence:.89,analysisTime:3.2,detectedComponents:(null==(n=r.components)?void 0:n.length)||0,detectedErrors:(null==(i=r.errors)?void 0:i.length)||0,sourceType:a},analysis:r}}}catch(a){return tn.error("Çizim analiz hatası:",a),{success:!1,error:a.message||"Çizim analizi başarısız oldu"}}}async extractBillOfMaterials(e){try{tn.info("BOM çıkarma işlemi başlatılıyor");return{success:!0,billOfMaterials:[{position:1,partNumber:"RM-1001",description:"Ana Şasi",quantity:1},{position:2,partNumber:"CM-2034",description:"Bağlantı Mili",quantity:4},{position:3,partNumber:"BRG-100",description:"Rulman",quantity:8},{position:4,partNumber:"SCR-M8",description:"M8 Vida",quantity:16},{position:5,partNumber:"PLT-001",description:"Yan Kapak",quantity:2}],timestamp:(new Date).toISOString()}}catch(t){return tn.error("Malzeme listesi çıkarma hatası:",t),{success:!1,error:t.message||"Malzeme listesi çıkarma başarısız oldu"}}}async detectErrors(e){try{tn.info("Hata tespiti başlatılıyor");return{success:!0,errors:[{type:"dimension",severity:"high",description:"Eksik ölçülendirme",location:{x:145,y:230,width:50,height:30},fix:"Ana boyutların eklenmesi gerekiyor"},{type:"consistency",severity:"medium",description:"Tutarsız semboller",location:{x:320,y:180,width:25,height:25},fix:"Standart sembol setine uygun olmalı"},{type:"tolerance",severity:"low",description:"Belirsiz tolerans",location:{x:420,y:280,width:40,height:20},fix:"ISO standartlarına uygun tolerans belirtilmeli"}],timestamp:(new Date).toISOString()}}catch(t){return tn.error("Hata tespiti hatası:",t),{success:!1,error:t.message||"Hata tespiti başarısız oldu"}}}async extractText(e){try{tn.info("Metin çıkarma işlemi başlatılıyor");return{success:!0,texts:[{text:"ORTA GERILIM HUCRE",type:"title",confidence:.98,position:{x:50,y:40}},{text:"RM 36 CB",type:"model",confidence:.95,position:{x:500,y:40}},{text:"Ölçek: 1:10",type:"scale",confidence:.92,position:{x:650,y:540}},{text:"Rev: 3.1",type:"revision",confidence:.97,position:{x:50,y:540}},{text:"Tarih: 23.03.2025",type:"date",confidence:.94,position:{x:650,y:560}}],timestamp:(new Date).toISOString()}}catch(t){return tn.error("Metin çıkarma hatası:",t),{success:!1,error:t.message||"Metin çıkarma başarısız oldu"}}}async generateModelPreview(e){try{return tn.info("3D model önizlemesi oluşturuluyor"),await new Promise((e=>setTimeout(e,2e3))),{success:!0,modelData:{url:"https://example.com/models/sample-model.glb",format:"glb",size:{width:300,height:200,depth:150,unit:"mm"}},timestamp:(new Date).toISOString()}}catch(t){return tn.error("3D model oluşturma hatası:",t),{success:!1,error:t.message||"3D model oluşturma başarısız oldu"}}}_determineFileTypeFromSource(e){if("string"==typeof e){const t=e.split(".");return t.length>1?"."+t[t.length-1].toLowerCase().split("?")[0]:null}if(e instanceof File){const t=e.name.split(".");if(t.length>1)return"."+t[t.length-1].toLowerCase()}return null}async _simulateDrawingAnalysis(e,t){return await new Promise((e=>setTimeout(e,1500))),{fileType:t,components:[{id:"comp-1",name:"Ana Kesici",type:"component",material:"Metal",boundingBox:{x:200,y:150,width:100,height:180},confidence:.95},{id:"comp-2",name:"Akım Trafosu",type:"component",material:"Bakır/Kompozit",boundingBox:{x:350,y:200,width:80,height:80},confidence:.89},{id:"comp-3",name:"Bara Bağlantısı",type:"connector",material:"Bakır",boundingBox:{x:180,y:100,width:150,height:40},confidence:.92}],dimensions:[{type:"Genişlik",value:600,unit:"mm",confidence:.96},{type:"Yükseklik",value:2e3,unit:"mm",confidence:.97},{type:"Derinlik",value:1200,unit:"mm",confidence:.95}],summary:{detectedProduct:"Orta Gerilim Hücresi",mainDimensions:"600x2000x1200 mm",primaryMaterial:"Metal/Kompozit",componentCount:3,productFamily:"Elektrik Dağıtım Ekipmanları"}}}};u(so,"CADAnalysisService");const oo=new so,lo=y({toasts:[]});function co(){const e=u(((e,n="info",i=3e3)=>{const a=`toast-${Date.now()}`,r={id:a,message:e,type:n,shown:!0};return lo.toasts.push(r),i>0&&setTimeout((()=>{t(a)}),i),a}),"showToast"),t=u((e=>{const t=lo.toasts.findIndex((t=>t.id===e));-1!==t&&(lo.toasts[t].shown=!1,setTimeout((()=>{n(e)}),300))}),"hideToast"),n=u((e=>{const t=lo.toasts.findIndex((t=>t.id===e));-1!==t&&lo.toasts.splice(t,1)}),"removeToast"),i=u((()=>{lo.toasts=[]}),"clearToasts"),a=u(((t,n=3e3)=>e(t,"success",n)),"success"),r=u(((t,n=3e3)=>e(t,"error",n)),"error"),s=u(((t,n=3e3)=>e(t,"warning",n)),"warning"),o=u(((t,n=3e3)=>e(t,"info",n)),"info");return{toasts:lo.toasts,showToast:e,hideToast:t,clearToasts:i,toast:{success:a,error:r,warning:s,info:o}}}u(co,"useToast");const uo={name:"CADViewerModal",props:{modalId:{type:String,default:"cadViewerModal"},title:{type:String,default:"Teknik Çizim Görüntüleyici"},initialDrawingSrc:{type:String,default:""}},emits:["analysis-complete","apply-results"],setup(e,{emit:t}){const{toast:n}=co(),i=h(null),a=h(null),r=h(!1),s=h(""),o=h(e.initialDrawingSrc||""),l=h(!1),c=h(null),d=h(!0),m=h(!0),p=h(null),f=h(null),y=h(""),v=h(!1),k=h([]),w=h([]),_=h([]),A=h([]),D=h([]),T=h(null),S=g((()=>!c.value||[".png",".jpg",".jpeg",".gif",".bmp",".svg",".webp"].includes(c.value.toLowerCase()))),C=g((()=>c.value&&[".dwg",".dxf",".step",".stp",".iges",".igs"].includes(c.value.toLowerCase()))),E=g((()=>{if(!_.value||0===_.value.length)return"bg-success";const e=_.value.some((e=>"high"===e.severity)),t=_.value.some((e=>"medium"===e.severity));return e?"bg-danger":t?"bg-warning":"bg-info"})),M=g((()=>{var e;return(null==(e=p.value)?void 0:e.timestamp)?new Date(p.value.timestamp).toLocaleString():"-"})),O=g((()=>{var e,t,n;return(null==(n=null==(t=null==(e=p.value)?void 0:e.result)?void 0:t.summary)?void 0:n.confidence)?Math.round(100*p.value.result.summary.confidence):"-"})),x=u(((e,t=null)=>{o.value=e,c.value=t,y.value="",v.value=!1,q()}),"loadDrawing"),P=u((e=>{const t=e.target.files[0];if(t)if(f.value=t,c.value="."+t.name.split(".").pop().toLowerCase(),oo._isSupportedFileFormat(c.value))if(S.value){const e=new FileReader;e.onload=e=>{o.value=e.target.result},e.readAsDataURL(t)}else r.value=!0,s.value="CAD dosyası işleniyor...",setTimeout((()=>{o.value="https://example.com/cad-preview.png",o.value="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB4PSI1MCIgeT0iNTAiIHdpZHRoPSI3MDAiIGhlaWdodD0iNTAwIiBzdHJva2U9ImJsYWNrIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiLz48bGluZSB4MT0iMTAwIiB5MT0iMTAwIiB4Mj0iNzAwIiB5Mj0iMTAwIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iMTAwIiB5MT0iMTUwIiB4Mj0iNzAwIiB5Mj0iMTUwIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiLz48Y2lyY2xlIGN4PSIyMDAiIGN5PSIzMDAiIHI9IjgwIiBzdHJva2U9ImJsYWNrIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEiLz48cmVjdCB4PSI0MDAiIHk9IjI1MCIgd2lkdGg9IjE1MCIgaGVpZ2h0PSIxMDAiIHN0cm9rZT0iYmxhY2siIGZpbGw9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IHg9IjUwIiB5PSI0MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjIwIj5PUlRBIEdFUklMSU0gSFVDUkU8L3RleHQ+PHRleHQgeD0iNTAwIiB5PSI0MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE2Ij5STSAzNiBDQjwvdGV4dD48L3N2Zz4=",r.value=!1,l.value=!0}),1500);else n.error(`Desteklenmeyen dosya formatı: ${c.value}`)}),"onFileSelected"),z=u((()=>{l.value=!0,r.value=!1}),"onDrawingLoaded"),R=u((()=>{n.error("Çizim yüklenirken hata oluştu"),r.value=!1,l.value=!1}),"onDrawingError"),L=u((async()=>{try{r.value=!0,s.value="Çizim analiz ediliyor...",q();const e=await oo.analyzeDrawing(f.value||o.value,{fileType:c.value});if(!e.success)throw new Error(e.error||"Analiz başarısız oldu");p.value=e,$(e.analysis),n.success("Çizim analizi tamamlandı"),t("analysis-complete",e)}catch(e){n.error(`Analiz hatası: ${e.message}`)}finally{r.value=!1}}),"analyzeDrawing"),I=u((async()=>{try{r.value=!0,s.value="Malzeme listesi çıkarılıyor...";const e=await oo.extractBillOfMaterials(f.value||o.value);if(!e.success)throw new Error(e.error||"BOM çıkarma başarısız oldu");A.value=e.billOfMaterials,n.success("Malzeme listesi başarıyla çıkarıldı")}catch(e){n.error(`BOM çıkarma hatası: ${e.message}`)}finally{r.value=!1}}),"extractBOM"),N=u((async()=>{try{r.value=!0,s.value="Çizimdeki hatalar tespit ediliyor...";const e=await oo.detectErrors(f.value||o.value);if(!e.success)throw new Error(e.error||"Hata tespiti başarısız oldu");_.value=e.errors,n.success(`${e.errors.length} hata tespit edildi`)}catch(e){n.error(`Hata tespiti sırasında sorun: ${e.message}`)}finally{r.value=!1}}),"detectErrors"),B=u((async()=>{try{r.value=!0,s.value="Çizimdeki metinler çıkarılıyor...";const e=await oo.extractText(f.value||o.value);if(!e.success)throw new Error(e.error||"Metin çıkarma başarısız oldu");D.value=e.texts,n.success(`${e.texts.length} metin öğesi tespit edildi`)}catch(e){n.error(`Metin çıkarma hatası: ${e.message}`)}finally{r.value=!1}}),"extractText"),j=u((async()=>{try{r.value=!0,s.value="3D model oluşturuluyor...";const e=await oo.generateModelPreview(f.value||o.value);if(!e.success)throw new Error(e.error||"3D model oluşturma başarısız oldu");y.value=e.modelData.url,v.value=!0,n.success("3D model önizlemesi oluşturuldu")}catch(e){n.error(`3D model oluşturma hatası: ${e.message}`)}finally{r.value=!1}}),"generate3DPreview"),$=u((e=>{e.components?k.value=e.components:e.recognizedObjects&&(k.value=e.recognizedObjects.map((e=>({id:e.id,name:e.class,type:"component",confidence:e.confidence,boundingBox:e.boundingBox})))),e.dimensions&&(w.value=e.dimensions),e.summary&&(T.value=e.summary),e.extractedText&&(D.value=e.extractedText),m.value=!0}),"processAnalysisResults"),U=u((()=>{d.value=!d.value}),"toggleAnalysisPane"),F=u((()=>{m.value=!m.value}),"toggleVisualizations"),H=u((e=>e?{position:"absolute",left:`${e.x}px`,top:`${e.y}px`,width:`${e.width}px`,height:`${e.height}px`,border:"2px solid rgba(0, 123, 255, 0.8)",backgroundColor:"rgba(0, 123, 255, 0.1)"}:{}),"getBoundingBoxStyle"),W=u((e=>{switch(e){case"high":return"bg-danger";case"medium":return"bg-warning text-dark";case"low":return"bg-info text-dark";default:return"bg-secondary"}}),"getSeverityClass"),q=u((()=>{p.value=null,k.value=[],w.value=[],_.value=[],A.value=[],D.value=[],T.value=null}),"resetAnalysisData"),V=u((()=>{o.value="",l.value=!1,c.value=null,f.value=null,y.value="",v.value=!1,q()}),"resetViewer"),G=u((()=>{if(!p.value)return void n.error("İndirilebilir sonuç bulunamadı");const e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(p.value.result,null,2)),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","cad_analysis_results.json"),document.body.appendChild(t),t.click(),t.remove()}),"downloadResults"),K=u((()=>{p.value?(t("apply-results",{components:k.value,dimensions:w.value,extractedTexts:D.value,billOfMaterials:A.value,summary:T.value,errors:_.value,analysisResult:p.value}),n.success("Analiz sonuçları başarıyla uygulandı")):n.error("Uygulanacak sonuç bulunamadı")}),"applyResults");return b((()=>{e.initialDrawingSrc&&x(e.initialDrawingSrc)})),{isLoading:r,loadingMessage:s,drawingSrc:o,drawingLoaded:l,showAnalysisPane:d,showVisualizations:m,fileType:c,components:k,dimensions:w,errors:_,billOfMaterials:A,extractedTexts:D,summary:T,analysisResult:p,drawingContainer:i,drawingImage:a,modelUrl:y,showModelViewer:v,isImageDrawing:S,canGenerate3D:C,errorSeverityClass:E,analysisTime:M,analysisConfidence:O,loadDrawing:x,onFileSelected:P,onDrawingLoaded:z,onDrawingError:R,analyzeDrawing:L,extractBOM:I,detectErrors:N,extractText:B,generate3DPreview:j,toggleAnalysisPane:U,toggleVisualizations:F,getBoundingBoxStyle:H,getSeverityClass:W,resetViewer:V,downloadResults:G,applyResults:K}}},mo={class:"cad-viewer-modal"},ho=["id"],po={class:"modal-dialog modal-xl modal-fullscreen-lg-down"},fo={class:"modal-content"},go={class:"modal-header bg-primary text-white"},yo={class:"modal-title",id:"cadViewerLabel"},vo={class:"modal-body p-0"},bo={key:0,class:"loading-overlay d-flex align-items-center justify-content-center"},ko={class:"text-center"},wo={key:0,class:"cad-viewer-sidebar"},_o={class:"analysis-controls mb-3"},Ao={class:"px-3"},Do=["disabled"],To={class:"list-group list-group-flush"},So=["disabled"],Co=["disabled"],Eo=["disabled"],Mo=["disabled"],Oo={key:0,class:"analysis-results"},xo={class:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-2"},Po={class:"badge bg-success rounded-pill"},zo={class:"px-3 mb-3"},Ro={class:"card"},Lo={class:"card-body p-2"},Io={class:"small"},No={key:0,class:"px-3 mb-3"},Bo={class:"card"},jo={class:"card-body p-2"},$o={class:"list-unstyled small mb-0"},Uo={key:1,class:"px-3 mb-3"},Fo={class:"card"},Ho={class:"list-group list-group-flush"},Wo={class:"text-muted"},qo={key:0,class:"text-muted"},Vo={key:2,class:"px-3 mb-3"},Go={class:"card"},Ko={class:"list-group list-group-flush"},Yo={class:"d-flex justify-content-between align-items-center"},Qo={class:"text-muted"},Jo={key:0,class:"text-success mt-1"},Xo={key:3,class:"px-3 mb-3"},Zo={class:"card"},el={class:"table-responsive"},tl={class:"table table-sm table-bordered mb-0"},nl={key:4,class:"px-3 mb-3"},il={class:"card"},al={class:"list-group list-group-flush"},rl={class:"text-muted"},sl={key:5,class:"px-3 mb-3"},ol={class:"card"},ll={class:"card-body p-2"},cl={class:"small"},dl={key:0},ul={key:1},ml={key:2},hl={key:3},pl={class:"cad-viewer-main"},fl={class:"drawing-container",ref:"drawingContainer"},gl=["src"],yl={key:1,class:"model-viewer-container"},vl={class:"model-placeholder d-flex align-items-center justify-content-center h-100 border"},bl={class:"text-center p-4"},kl={class:"mb-2"},wl={key:2,class:"drawing-placeholder d-flex align-items-center justify-content-center h-100"},_l={class:"text-center"},Al={class:"btn btn-outline-primary"},Dl={key:3,class:"visualization-layer"},Tl={class:"component-label"},Sl={key:0,class:"drawing-toolbar bg-light p-2"},Cl={class:"btn-group me-2"},El={class:"btn-group"},Ml={class:"modal-footer"},Ol=["disabled"];function xl(e,t,n,i,a,r){return x(),C("div",mo,[E("div",{class:"modal fade",id:n.modalId,tabindex:"-1","aria-labelledby":"cadViewerLabel","aria-hidden":"true"},[E("div",po,[E("div",fo,[E("div",go,[E("h5",yo,[t[13]||(t[13]=E("i",{class:"bi bi-file-earmark-ruled me-2"},null,-1)),P(" "+O(n.title||"Teknik Çizim Görüntüleyici"),1)]),t[14]||(t[14]=E("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Kapat"},null,-1))]),E("div",vo,[i.isLoading?(x(),C("div",bo,[E("div",ko,[t[15]||(t[15]=E("div",{class:"spinner-border text-primary mb-3",role:"status"},null,-1)),E("p",null,O(i.loadingMessage||"Dosya yükleniyor..."),1)])])):M("",!0),E("div",{class:z(["cad-viewer-container",{"with-sidebar":i.showAnalysisPane}])},[i.showAnalysisPane?(x(),C("div",wo,[E("div",_o,[t[21]||(t[21]=E("h6",{class:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-2"},[E("span",null,"Analiz İşlemleri")],-1)),E("div",Ao,[E("button",{onClick:t[0]||(t[0]=(...e)=>i.analyzeDrawing&&i.analyzeDrawing(...e)),class:"btn btn-sm btn-primary mb-2 w-100",disabled:i.isLoading||!i.drawingLoaded},t[16]||(t[16]=[E("i",{class:"bi bi-search me-2"},null,-1),P("Çizimi Analiz Et ")]),8,Do),E("div",To,[E("button",{onClick:t[1]||(t[1]=(...e)=>i.extractBOM&&i.extractBOM(...e)),class:"list-group-item list-group-item-action",disabled:i.isLoading||!i.drawingLoaded},t[17]||(t[17]=[E("i",{class:"bi bi-list-ul me-2"},null,-1),P("Malzeme Listesi Çıkar ")]),8,So),E("button",{onClick:t[2]||(t[2]=(...e)=>i.detectErrors&&i.detectErrors(...e)),class:"list-group-item list-group-item-action",disabled:i.isLoading||!i.drawingLoaded},t[18]||(t[18]=[E("i",{class:"bi bi-exclamation-triangle me-2"},null,-1),P("Hataları Tespit Et ")]),8,Co),E("button",{onClick:t[3]||(t[3]=(...e)=>i.extractText&&i.extractText(...e)),class:"list-group-item list-group-item-action",disabled:i.isLoading||!i.drawingLoaded},t[19]||(t[19]=[E("i",{class:"bi bi-type me-2"},null,-1),P("Metin Çıkar ")]),8,Eo),i.canGenerate3D?(x(),C("button",{key:0,onClick:t[4]||(t[4]=(...e)=>i.generate3DPreview&&i.generate3DPreview(...e)),class:"list-group-item list-group-item-action",disabled:i.isLoading||!i.drawingLoaded},t[20]||(t[20]=[E("i",{class:"bi bi-badge-3d me-2"},null,-1),P("3D Önizleme Oluştur ")]),8,Mo)):M("",!0)])])]),i.analysisResult?(x(),C("div",Oo,[E("h6",xo,[t[22]||(t[22]=E("span",null,"Analiz Sonuçları",-1)),E("span",Po,O(i.analysisConfidence)+"%",1)]),E("div",zo,[E("div",Ro,[E("div",Lo,[t[25]||(t[25]=E("h6",{class:"card-title mb-2"},"Dosya Bilgileri",-1)),E("div",Io,[E("div",null,[t[23]||(t[23]=E("strong",null,"Dosya türü:",-1)),P(" "+O(i.fileType),1)]),E("div",null,[t[24]||(t[24]=E("strong",null,"Analiz zamanı:",-1)),P(" "+O(i.analysisTime),1)])])])])]),i.dimensions&&i.dimensions.length?(x(),C("div",No,[E("div",Bo,[E("div",jo,[t[26]||(t[26]=E("h6",{class:"card-title mb-2"},"Boyutlar",-1)),E("ul",$o,[(x(!0),C(R,null,L(i.dimensions,((e,t)=>(x(),C("li",{key:t},[E("strong",null,O(e.type)+":",1),P(" "+O(e.value)+" "+O(e.unit),1)])))),128))])])])])):M("",!0),i.components&&i.components.length?(x(),C("div",Uo,[E("div",Fo,[t[27]||(t[27]=E("div",{class:"card-header p-2"},[E("h6",{class:"card-title mb-0"},"Tespit Edilen Bileşenler")],-1)),E("ul",Ho,[(x(!0),C(R,null,L(i.components,((e,t)=>(x(),C("li",{key:t,class:"list-group-item p-2 small"},[E("div",null,[E("strong",null,O(e.name),1)]),E("div",Wo,"Tür: "+O(e.type),1),e.material?(x(),C("div",qo,"Malzeme: "+O(e.material),1)):M("",!0)])))),128))])])])):M("",!0),i.errors&&i.errors.length?(x(),C("div",Vo,[E("div",Go,[E("div",{class:z(["card-header p-2 text-white",i.errorSeverityClass])},t[28]||(t[28]=[E("h6",{class:"card-title mb-0"},"Tespit Edilen Hatalar",-1)]),2),E("ul",Ko,[(x(!0),C(R,null,L(i.errors,((e,n)=>(x(),C("li",{key:n,class:"list-group-item p-2 small"},[E("div",Yo,[E("strong",null,O(e.description),1),E("span",{class:z(["badge",i.getSeverityClass(e.severity)])},O(e.severity),3)]),E("div",Qo,O(e.type),1),e.fix?(x(),C("div",Jo,[t[29]||(t[29]=E("i",{class:"bi bi-tools me-1"},null,-1)),P(O(e.fix),1)])):M("",!0)])))),128))])])])):M("",!0),i.billOfMaterials&&i.billOfMaterials.length?(x(),C("div",Xo,[E("div",Zo,[t[31]||(t[31]=E("div",{class:"card-header p-2"},[E("h6",{class:"card-title mb-0"},"Malzeme Listesi (BOM)")],-1)),E("div",el,[E("table",tl,[t[30]||(t[30]=E("thead",null,[E("tr",null,[E("th",null,"Poz."),E("th",null,"Parça No"),E("th",null,"Açıklama"),E("th",null,"Adet")])],-1)),E("tbody",null,[(x(!0),C(R,null,L(i.billOfMaterials,(e=>(x(),C("tr",{key:e.position},[E("td",null,O(e.position),1),E("td",null,O(e.partNumber),1),E("td",null,O(e.description),1),E("td",null,O(e.quantity),1)])))),128))])])])])])):M("",!0),i.extractedTexts&&i.extractedTexts.length?(x(),C("div",nl,[E("div",il,[t[32]||(t[32]=E("div",{class:"card-header p-2"},[E("h6",{class:"card-title mb-0"},"Çizimdeki Metinler")],-1)),E("ul",al,[(x(!0),C(R,null,L(i.extractedTexts,((e,t)=>(x(),C("li",{key:t,class:"list-group-item p-2 small"},[E("div",null,[E("strong",null,O(e.text),1)]),E("div",rl,"Tür: "+O(e.type),1)])))),128))])])])):M("",!0),i.summary?(x(),C("div",sl,[E("div",ol,[E("div",ll,[t[37]||(t[37]=E("h6",{class:"card-title mb-2"},"Özet",-1)),E("div",cl,[i.summary.detectedProduct?(x(),C("div",dl,[t[33]||(t[33]=E("strong",null,"Ürün:",-1)),P(" "+O(i.summary.detectedProduct),1)])):M("",!0),i.summary.mainDimensions?(x(),C("div",ul,[t[34]||(t[34]=E("strong",null,"Ana Boyutlar:",-1)),P(" "+O(i.summary.mainDimensions),1)])):M("",!0),i.summary.primaryMaterial?(x(),C("div",ml,[t[35]||(t[35]=E("strong",null,"Ana Malzeme:",-1)),P(" "+O(i.summary.primaryMaterial),1)])):M("",!0),i.summary.componentCount?(x(),C("div",hl,[t[36]||(t[36]=E("strong",null,"Bileşen Sayısı:",-1)),P(" "+O(i.summary.componentCount),1)])):M("",!0)])])])])):M("",!0)])):M("",!0)])):M("",!0),E("div",pl,[E("div",fl,[i.isImageDrawing&&i.drawingSrc?(x(),C("img",{key:0,src:i.drawingSrc,class:"img-fluid technical-drawing",onLoad:t[5]||(t[5]=(...e)=>i.onDrawingLoaded&&i.onDrawingLoaded(...e)),onError:t[6]||(t[6]=(...e)=>i.onDrawingError&&i.onDrawingError(...e)),ref:"drawingImage"},null,40,gl)):M("",!0),i.modelUrl&&i.showModelViewer?(x(),C("div",yl,[E("div",vl,[E("div",bl,[t[38]||(t[38]=E("i",{class:"bi bi-badge-3d fs-1 mb-3"},null,-1)),t[39]||(t[39]=E("h5",null,"3D Model Görüntüleyici",-1)),E("p",kl,"Model URL: "+O(i.modelUrl),1),t[40]||(t[40]=E("p",{class:"text-muted"},"Model görüntüleyici entegrasyonu gerekiyor",-1))])])])):M("",!0),i.drawingSrc||i.modelUrl?M("",!0):(x(),C("div",wl,[E("div",_l,[t[42]||(t[42]=E("i",{class:"bi bi-upload fs-1 mb-3"},null,-1)),t[43]||(t[43]=E("h5",null,"Teknik Çizim Yükle",-1)),t[44]||(t[44]=E("p",{class:"text-muted"},"CAD dosyası veya çizim görüntüsü seçin",-1)),E("label",Al,[t[41]||(t[41]=P(" Dosya Seç ")),E("input",{type:"file",class:"d-none",onChange:t[7]||(t[7]=(...e)=>i.onFileSelected&&i.onFileSelected(...e)),accept:".dwg,.dxf,.pdf,.png,.jpg,.jpeg,.svg"},null,32)])])])),i.drawingLoaded&&i.showVisualizations?(x(),C("div",Dl,[(x(!0),C(R,null,L(i.components,((e,t)=>(x(),C("div",{key:"viz-"+t,style:I(i.getBoundingBoxStyle(e.boundingBox)),class:"component-box"},[E("span",Tl,O(e.name),1)],4)))),128))])):M("",!0)],512),i.drawingLoaded?(x(),C("div",Sl,[t[49]||(t[49]=N('<div class="btn-group me-2" data-v-9166c3bc><button class="btn btn-sm btn-outline-secondary" title="Yakınlaştır" data-v-9166c3bc><i class="bi bi-zoom-in" data-v-9166c3bc></i></button><button class="btn btn-sm btn-outline-secondary" title="Uzaklaştır" data-v-9166c3bc><i class="bi bi-zoom-out" data-v-9166c3bc></i></button><button class="btn btn-sm btn-outline-secondary" title="Sığdır" data-v-9166c3bc><i class="bi bi-arrows-fullscreen" data-v-9166c3bc></i></button></div>',1)),E("div",Cl,[E("button",{onClick:t[8]||(t[8]=(...e)=>i.toggleVisualizations&&i.toggleVisualizations(...e)),class:z(["btn btn-sm",i.showVisualizations?"btn-primary":"btn-outline-secondary"]),title:"Görselleştirmeler"},t[45]||(t[45]=[E("i",{class:"bi bi-eye"},null,-1)]),2),E("button",{onClick:t[9]||(t[9]=(...e)=>i.toggleAnalysisPane&&i.toggleAnalysisPane(...e)),class:z(["btn btn-sm",i.showAnalysisPane?"btn-primary":"btn-outline-secondary"]),title:"Analiz Paneli"},t[46]||(t[46]=[E("i",{class:"bi bi-layout-sidebar"},null,-1)]),2)]),E("div",El,[E("button",{onClick:t[10]||(t[10]=(...e)=>i.downloadResults&&i.downloadResults(...e)),class:"btn btn-sm btn-outline-primary",title:"Sonuçları İndir"},t[47]||(t[47]=[E("i",{class:"bi bi-download"},null,-1)])),E("button",{class:"btn btn-sm btn-outline-danger",title:"Temizle",onClick:t[11]||(t[11]=(...e)=>i.resetViewer&&i.resetViewer(...e))},t[48]||(t[48]=[E("i",{class:"bi bi-trash"},null,-1)]))])])):M("",!0)])],2)]),E("div",Ml,[t[50]||(t[50]=E("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Kapat",-1)),E("button",{type:"button",class:"btn btn-primary",disabled:!i.analysisResult,onClick:t[12]||(t[12]=(...e)=>i.applyResults&&i.applyResults(...e))}," Sonuçları Uygula ",8,Ol)])])])],8,ho)])}u(xl,"_sfc_render$1");const Pl=to(uo,[["render",xl],["__scopeId","data-v-9166c3bc"]]),zl={name:"ModelViewerModal",components:{CADViewerModal:Pl},props:{modalId:{type:String,default:"modelViewerModal"},title:{type:String,default:"Model Görüntüleyici"},modelUrl:{type:String,default:""},modelType:{type:String,default:"auto"},modelMetadata:{type:Object,default:u((()=>null),"default")}},emits:["model-analyzed","model-loaded","model-error"],setup(e,{emit:t}){const n=h(!1),i=h(null),a=h(null),r=h(!1),s=h(null),o=g((()=>{if("auto"!==e.modelType)return"cad"===e.modelType;if(e.modelUrl){const t=[".dwg",".dxf",".pdf",".svg",".png",".jpg",".jpeg"],n=e.modelUrl.toLowerCase();return t.some((e=>n.endsWith(e)))}return!1})),l=g((()=>!!e.modelUrl&&(e.modelUrl.includes("sketchfab.com")||e.modelUrl.includes("viewer.autodesk.com")||e.modelUrl.includes("3dviewer.net")||e.modelUrl.endsWith(".html")))),c=u((()=>{a.value.click()}),"triggerModelUpload"),d=u((e=>{const a=e.target.files[0];if(!a)return;const r=new FileReader;n.value=!0,i.value=null,r.onload=e=>{t("model-loaded",{url:e.target.result,type:m(a.name),name:a.name,size:a.size}),n.value=!1},r.onerror=()=>{i.value="Dosya yüklenirken bir hata oluştu",n.value=!1,t("model-error","Dosya yükleme hatası")},r.readAsDataURL(a)}),"handleFileUpload"),m=u((e=>{const t=e.split(".").pop().toLowerCase();return["dwg","dxf","pdf","svg","png","jpg","jpeg"].includes(t)?"cad":["obj","gltf","glb","stl","fbx"].includes(t)?"3d":"unknown"}),"getFileType"),p=u((()=>{r.value=!r.value}),"toggleModelOptions"),f=u((()=>{if(e.modelUrl){const t=document.createElement("a");t.href=e.modelUrl,t.download=e.modelUrl.split("/").pop()||"model",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}),"downloadModel"),y=u((()=>{t("model-analyzed",{action:"analyze",url:e.modelUrl})}),"analyzeDrawing"),v=u((e=>{s.value=e,t("model-analyzed",e)}),"handleAnalysisComplete"),k=u((n=>{t("model-analyzed",{action:"apply",results:n,url:e.modelUrl})}),"handleApplyResults");return b((()=>{e.modelUrl&&(n.value=!0,setTimeout((()=>{n.value=!1}),1e3))})),{loading:n,error:i,modelUploadInput:a,showModelOptions:r,isCADDrawing:o,isEmbeddableUrl:l,analysisResults:s,triggerModelUpload:c,handleFileUpload:d,toggleModelOptions:p,downloadModel:f,analyzeDrawing:y,handleAnalysisComplete:v,handleApplyResults:k}}},Rl=["id"],Ll={class:"modal-dialog modal-xl modal-dialog-centered"},Il={class:"modal-content"},Nl={class:"modal-header bg-primary text-white"},Bl={class:"modal-title"},jl={key:0,class:"bi bi-file-earmark-ruled me-2"},$l={key:1,class:"bi bi-badge-3d me-2"},Ul={class:"modal-body p-0"},Fl={key:0,class:"d-flex justify-content-center align-items-center p-5"},Hl={key:1,class:"alert alert-danger m-4"},Wl={key:2},ql={key:3,class:"model-viewer-container"},Vl={key:0,class:"model-preview-wrapper"},Gl=["src"],Kl={key:1,class:"model-placeholder d-flex align-items-center justify-content-center h-100"},Yl={class:"text-center"},Ql={class:"model-info mb-3"},Jl={key:0},Xl={key:1},Zl={class:"text-muted"},ec={key:2,class:"model-options p-3 border-top"},tc={key:1,class:"model-upload-placeholder d-flex align-items-center justify-content-center"},nc={class:"text-center p-5"},ic={class:"modal-footer d-flex justify-content-between"};function ac(e,t,n,i,a,r){const s=j("CADViewerModal");return x(),C("div",null,[E("div",{class:"modal fade",id:n.modalId,tabindex:"-1","aria-hidden":"true"},[E("div",Ll,[E("div",Il,[E("div",Nl,[E("h5",Bl,[i.isCADDrawing?(x(),C("i",jl)):(x(),C("i",$l)),P(" "+O(n.title),1)]),t[5]||(t[5]=E("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Kapat"},null,-1))]),E("div",Ul,[i.loading?(x(),C("div",Fl,t[6]||(t[6]=[E("div",{class:"spinner-border text-primary",role:"status"},null,-1),E("span",{class:"ms-3"},"Yükleniyor...",-1)]))):i.error?(x(),C("div",Hl,[t[7]||(t[7]=E("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),P(" "+O(i.error),1)])):i.isCADDrawing?(x(),C("div",Wl,[B(s,{modalId:"innerCADViewerModal",initialDrawingSrc:n.modelUrl,title:n.title,onAnalysisComplete:i.handleAnalysisComplete,onApplyResults:i.handleApplyResults},null,8,["initialDrawingSrc","title","onAnalysisComplete","onApplyResults"])])):(x(),C("div",ql,[n.modelUrl?(x(),C("div",Vl,[i.isEmbeddableUrl?(x(),C("iframe",{key:0,src:n.modelUrl,class:"model-preview-iframe",frameborder:"0",allowfullscreen:""},null,8,Gl)):(x(),C("div",Kl,[E("div",Yl,[t[11]||(t[11]=E("i",{class:"bi bi-cube fs-1 text-primary mb-3"},null,-1)),t[12]||(t[12]=E("h5",{class:"mb-3"},"3D Model Önizleme",-1)),E("div",Ql,[n.modelMetadata?(x(),C("div",Jl,[E("div",null,[t[8]||(t[8]=E("strong",null,"Boyutlar:",-1)),P(" "+O(n.modelMetadata.dimensions),1)]),E("div",null,[t[9]||(t[9]=E("strong",null,"Parça Sayısı:",-1)),P(" "+O(n.modelMetadata.partCount),1)]),E("div",null,[t[10]||(t[10]=E("strong",null,"Format:",-1)),P(" "+O(n.modelMetadata.format),1)])])):(x(),C("div",Xl,[E("small",Zl,"Model URL: "+O(n.modelUrl),1)]))]),E("button",{class:"btn btn-sm btn-outline-primary",onClick:t[0]||(t[0]=(...e)=>i.toggleModelOptions&&i.toggleModelOptions(...e))},O(i.showModelOptions?"Seçenekleri Gizle":"Seçenekleri Göster"),1)])])),i.showModelOptions?(x(),C("div",ec,t[13]||(t[13]=[N('<div class="row g-3" data-v-f83a157d><div class="col-md-4" data-v-f83a157d><label class="form-label" data-v-f83a157d>Görünüm</label><select class="form-select form-select-sm" data-v-f83a157d><option value="shaded" data-v-f83a157d>Gölgeli</option><option value="wireframe" data-v-f83a157d>Tel Örgü</option><option value="points" data-v-f83a157d>Noktalar</option></select></div><div class="col-md-4" data-v-f83a157d><label class="form-label" data-v-f83a157d>Arka Plan</label><select class="form-select form-select-sm" data-v-f83a157d><option value="light" data-v-f83a157d>Açık</option><option value="dark" data-v-f83a157d>Koyu</option><option value="gradient" data-v-f83a157d>Gradyan</option></select></div><div class="col-md-4" data-v-f83a157d><label class="form-label" data-v-f83a157d>Döndürme</label><div class="btn-group w-100" data-v-f83a157d><button class="btn btn-sm btn-outline-secondary" data-v-f83a157d><i class="bi bi-arrow-counterclockwise" data-v-f83a157d></i></button><button class="btn btn-sm btn-outline-secondary" data-v-f83a157d><i class="bi bi-arrow-clockwise" data-v-f83a157d></i></button><button class="btn btn-sm btn-outline-secondary" data-v-f83a157d><i class="bi bi-aspect-ratio" data-v-f83a157d></i></button></div></div></div>',1)]))):M("",!0)])):(x(),C("div",tc,[E("div",nc,[t[15]||(t[15]=E("i",{class:"bi bi-cloud-upload fs-1 text-primary mb-3"},null,-1)),t[16]||(t[16]=E("h5",null,"Model Yükle",-1)),t[17]||(t[17]=E("p",{class:"text-muted mb-3"},"Desteklenen formatlar: OBJ, GLTF, STL, FBX",-1)),E("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>i.triggerModelUpload&&i.triggerModelUpload(...e))},t[14]||(t[14]=[E("i",{class:"bi bi-upload me-2"},null,-1),P("Model Seç ")])),E("input",{ref:"modelUploadInput",type:"file",class:"d-none",onChange:t[2]||(t[2]=(...e)=>i.handleFileUpload&&i.handleFileUpload(...e)),accept:".obj,.gltf,.glb,.stl,.fbx"},null,544)])]))]))]),E("div",ic,[E("div",null,[n.modelUrl&&!i.isCADDrawing?(x(),C("button",{key:0,class:"btn btn-outline-primary me-2",onClick:t[3]||(t[3]=(...e)=>i.downloadModel&&i.downloadModel(...e))},t[18]||(t[18]=[E("i",{class:"bi bi-download me-1"},null,-1),P(" İndir ")]))):M("",!0),i.isCADDrawing?(x(),C("button",{key:1,class:"btn btn-outline-success me-2",onClick:t[4]||(t[4]=(...e)=>i.analyzeDrawing&&i.analyzeDrawing(...e))},t[19]||(t[19]=[E("i",{class:"bi bi-search me-1"},null,-1),P(" Analiz Et ")]))):M("",!0)]),t[20]||(t[20]=E("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Kapat",-1))])])])],8,Rl)])}u(ac,"_sfc_render");const rc=to(zl,[["render",ac],["__scopeId","data-v-f83a157d"]]);ae.register(...re);const sc={class:"prediction-modal"},oc={class:"prediction-header"},lc={class:"prediction-actions"},cc=["title"],dc={class:"prediction-content"},uc={class:"prediction-summary"},mc={class:"prediction-confidence"},hc={class:"confidence-value"},pc={class:"prediction-stats"},fc={key:0,class:"stat-item"},gc={class:"stat-value text-danger"},yc={key:1,class:"stat-item"},vc={class:"stat-value text-warning"},bc={key:2,class:"stat-item"},kc={class:"stat-value text-primary"},wc={key:0,class:"prediction-table-view"},_c={class:"prediction-filters mb-3"},Ac={class:"row g-2"},Dc={class:"col-md-4"},Tc={class:"input-group input-group-sm"},Sc={class:"col-md-4"},Cc={class:"input-group input-group-sm"},Ec={class:"col-md-4"},Mc={class:"input-group input-group-sm"},Oc={class:"prediction-table-container"},xc={class:"table table-hover"},Pc={class:"prediction-title"},zc={class:"prediction-value"},Rc={class:"prediction-priority"},Lc={class:"prediction-detail"},Ic=["onClick"],Nc={key:0},Bc={key:1,class:"prediction-chart-view"},jc={class:"chart-type-selector mb-3"},$c={class:"btn-group btn-group-sm"},Uc=["onClick"],Fc={class:"chart-container"},Hc={key:0,class:"chart-loading"},Wc={class:"prediction-detail-modal"},qc={class:"prediction-detail-header"},Vc={class:"prediction-detail-content"},Gc={class:"row"},Kc={class:"col-md-6"},Yc={class:"prediction-detail-item"},Qc={class:"detail-value"},Jc={class:"col-md-6"},Xc={class:"prediction-detail-item"},Zc={class:"detail-value"},ed={key:0,class:"mt-3"},td={class:"detail-description"},nd={key:1,class:"mt-3"},id={class:"prediction-detail-properties"},ad={class:"property-name"},rd={class:"property-value"},sd={key:2,class:"mt-3"},od={class:"recommendation-list"},ld={key:3,class:"mt-4 pt-2 border-top"},cd={class:"trend-analysis"},dd={key:0,class:"ms-2"},ud={class:"trend-description mt-2"},md=to({__name:"PredictionDetailsModal",props:{predictions:{type:Array,required:!0},predictionType:{type:String,default:"Genel"},confidence:{type:Number,default:.8},show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e,i=t,a=h(""),r=h(""),s=h("priority"),o=h(!1),l=h("bar"),c=h(!1),d=h(null),m=h(null);let p=null;const f=[{label:"Bar",value:"bar",icon:"bi-bar-chart"},{label:"Çizgi",value:"line",icon:"bi-graph-up"},{label:"Pasta",value:"pie",icon:"bi-pie-chart"},{label:"Kutu",value:"polarArea",icon:"bi-box"}],y=u((()=>{i("close")}),"handleClose"),v=u((e=>{d.value=e}),"showDetails"),w=u((e=>n.predictions.filter((t=>(t.priority||"medium")===e)).length),"getPredictionCount"),A=g((()=>{let e=[...n.predictions];if(a.value){const t=a.value.toLowerCase();e=e.filter((e=>(e.title||e.name||"").toLowerCase().includes(t)||String(e.value).toLowerCase().includes(t)))}return r.value&&(e=e.filter((e=>(e.priority||"medium")===r.value))),e.sort(((e,t)=>{if("priority"===s.value){const n={high:3,medium:2,low:1};return n[t.priority||"medium"]-n[e.priority||"medium"]}return"value"===s.value?parseFloat(String(t.value).replace(/[^0-9.-]+/g,"")||0)-parseFloat(String(e.value).replace(/[^0-9.-]+/g,"")||0):"trend"===s.value?(t.trend||0)-(e.trend||0):0})),e})),D=u((e=>e?e>0?"bi-arrow-up-right":"bi-arrow-down-right":"bi-dash"),"getTrendIcon"),T=u((e=>e?e>0?"trend-up":"trend-down":"trend-neutral"),"getTrendClass"),S=u((e=>e?e>0?"Artış Eğilimi":"Azalma Eğilimi":"Değişim Yok"),"getTrendText"),N=u((e=>{switch(e){case"high":return"Yüksek";case"medium":default:return"Orta";case"low":return"Düşük"}}),"getPriorityText"),B=u((e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase()))),"formatPropertyName"),j=u((e=>{const t=Number(e);return isNaN(t)?"?":`%${(100*t).toFixed(0)}`}),"formatConfidence"),G=u((()=>{o.value=!o.value,o.value?k((()=>{K()})):p&&(p.destroy(),p=null)}),"toggleChartView"),K=u((async()=>{if(m.value){c.value=!0;try{p&&p.destroy();const e=Y();p=new ae(m.value,{type:l.value,data:e,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:`${n.predictionType} Tahmin Analizi`},tooltip:{callbacks:{label:u((function(e){const t=n.predictions[e.dataIndex];let i=t.title||t.name||"";return i+=`: ${t.value}`,t.trendValue&&(i+=` (${t.trendValue})`),i}),"label")}}}}})}catch(e){}finally{c.value=!1}}}),"createChart"),Y=u((()=>{const e=A.value.slice(0,10),t=e.map((e=>e.title||e.name||"İsimsiz")),i=e.map((e=>parseFloat(String(e.value).replace(/[^0-9.-]+/g,"")||0)));if("pie"===l.value||"polarArea"===l.value){const a=e.map((e=>{const t=e.priority||"medium";return"high"===t?"rgba(220, 53, 69, 0.7)":"medium"===t?"rgba(255, 193, 7, 0.7)":"rgba(13, 110, 253, 0.7)"}));return{labels:t,datasets:[{label:n.predictionType,data:i,backgroundColor:a}]}}return{labels:t,datasets:[{label:n.predictionType,data:i,backgroundColor:"rgba(13, 110, 253, 0.5)",borderColor:"rgba(13, 110, 253, 1)",borderWidth:1}]}}),"prepareChartData"),Q=u((()=>{const e=`${n.predictionType.toLowerCase()}-tahminler-${(new Date).toISOString().slice(0,10)}.csv`,t=n.predictions.map((e=>[e.title||e.name||"",e.value||"",e.trendValue||"",N(e.priority),e.description||""])),i=[["Tahmin","Değer","Eğilim","Öncelik","Açıklama"].join(","),...t.map((e=>e.map((e=>`"${String(e).replace(/"/g,'""')}"`)).join(",")))].join("\n"),a=new Blob([i],{type:"text/csv;charset=utf-8"}),r=URL.createObjectURL(a),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}),"exportResults");return _(l,(()=>{o.value&&k((()=>{K()}))})),b((()=>{o.value&&k((()=>{K()}))})),(t,n)=>(x(),$(V,{name:"modal-fade"},{default:U((()=>[e.show?(x(),C("div",{key:0,class:"modal-overlay",onClick:q(y,["self"])},[E("div",sc,[E("div",oc,[E("h5",null,O(e.predictionType)+" Tahmin Sonuçları",1),E("div",lc,[E("button",{onClick:G,class:"btn btn-sm btn-outline-secondary mx-2",title:o.value?"Tablo Görünümü":"Grafik Görünümü"},[E("i",{class:z(["bi",o.value?"bi-table":"bi-bar-chart"])},null,2)],8,cc),E("button",{onClick:Q,class:"btn btn-sm btn-outline-secondary",title:"Dışa Aktar"},n[5]||(n[5]=[E("i",{class:"bi bi-download"},null,-1)])),E("button",{onClick:y,class:"btn btn-sm btn-outline-danger",title:"Kapat"},n[6]||(n[6]=[E("i",{class:"bi bi-x-lg"},null,-1)]))])]),E("div",dc,[E("div",uc,[E("div",mc,[E("div",hc,O(j(e.confidence)),1),n[7]||(n[7]=E("div",{class:"confidence-label"},"Güven Oranı",-1))]),E("div",pc,[w("high")?(x(),C("div",fc,[E("div",gc,O(w("high")),1),n[8]||(n[8]=E("div",{class:"stat-label"},[E("i",{class:"bi bi-exclamation-triangle-fill me-1"}),P(" Yüksek Öncelik ")],-1))])):M("",!0),w("medium")?(x(),C("div",yc,[E("div",vc,O(w("medium")),1),n[9]||(n[9]=E("div",{class:"stat-label"},[E("i",{class:"bi bi-exclamation-circle-fill me-1"}),P(" Orta Öncelik ")],-1))])):M("",!0),w("low")?(x(),C("div",bc,[E("div",kc,O(w("low")),1),n[10]||(n[10]=E("div",{class:"stat-label"},[E("i",{class:"bi bi-info-circle-fill me-1"}),P(" Düşük Öncelik ")],-1))])):M("",!0)])]),o.value?(x(),C("div",Bc,[E("div",jc,[E("div",$c,[(x(),C(R,null,L(f,((e,t)=>E("button",{key:t,class:z(["btn",l.value===e.value?"btn-primary":"btn-outline-primary"]),onClick:u((t=>l.value=e.value),"onClick")},[E("i",{class:z(["bi me-1",e.icon])},null,2),P(" "+O(e.label),1)],10,Uc))),64))])]),E("div",Fc,[c.value?(x(),C("div",Hc,n[19]||(n[19]=[E("div",{class:"spinner-border text-primary",role:"status"},[E("span",{class:"visually-hidden"},"Yükleniyor...")],-1),E("div",{class:"mt-2"},"Grafik yükleniyor...",-1)]))):M("",!0),E("canvas",{ref_key:"chartCanvas",ref:m,style:I({display:c.value?"none":"block"})},null,4)])])):(x(),C("div",wc,[E("div",_c,[E("div",Ac,[E("div",Dc,[E("div",Tc,[n[11]||(n[11]=E("span",{class:"input-group-text"},"Ara",-1)),F(E("input",{type:"text",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),placeholder:"Tahmin ara..."},null,512),[[H,a.value]])])]),E("div",Sc,[E("div",Cc,[n[13]||(n[13]=E("span",{class:"input-group-text"},"Önem",-1)),F(E("select",{class:"form-select","onUpdate:modelValue":n[1]||(n[1]=e=>r.value=e)},n[12]||(n[12]=[E("option",{value:""},"Tümü",-1),E("option",{value:"high"},"Yüksek",-1),E("option",{value:"medium"},"Orta",-1),E("option",{value:"low"},"Düşük",-1)]),512),[[W,r.value]])])]),E("div",Ec,[E("div",Mc,[n[15]||(n[15]=E("span",{class:"input-group-text"},"Sırala",-1)),F(E("select",{class:"form-select","onUpdate:modelValue":n[2]||(n[2]=e=>s.value=e)},n[14]||(n[14]=[E("option",{value:"priority"},"Önceliğe Göre",-1),E("option",{value:"value"},"Değere Göre",-1),E("option",{value:"trend"},"Eğilime Göre",-1)]),512),[[W,s.value]])])])])]),E("div",Oc,[E("table",xc,[n[18]||(n[18]=E("thead",null,[E("tr",null,[E("th",null,"Tahmin"),E("th",null,"Değer"),E("th",null,"Eğilim"),E("th",null,"Öncelik"),E("th",null,"Detay")])],-1)),E("tbody",null,[(x(!0),C(R,null,L(A.value,((e,t)=>(x(),C("tr",{key:t},[E("td",Pc,O(e.title||e.name),1),E("td",zc,O(e.value),1),E("td",{class:z(["prediction-trend",T(e.trend)])},[E("i",{class:z(["bi me-1",D(e.trend)])},null,2),P(" "+O(e.trendValue||""),1)],2),E("td",Rc,[E("span",{class:z(["priority-badge","priority-"+(e.priority||"medium")])},O(N(e.priority)),3)]),E("td",Lc,[E("button",{class:"btn btn-sm btn-link",onClick:u((t=>v(e)),"onClick")},n[16]||(n[16]=[E("i",{class:"bi bi-info-circle"},null,-1)]),8,Ic)])])))),128)),0===A.value.length?(x(),C("tr",Nc,n[17]||(n[17]=[E("td",{colspan:"5",class:"text-center py-3"},[E("div",{class:"alert alert-info m-0"},"Filtrelere uygun tahmin bulunamadı.")],-1)]))):M("",!0)])])])]))])]),d.value?(x(),C("div",{key:0,class:"prediction-detail-overlay",onClick:n[4]||(n[4]=q((e=>d.value=null),["self"]))},[E("div",Wc,[E("div",qc,[E("h6",null,O(d.value.title||d.value.name),1),E("button",{class:"btn-close btn-sm",onClick:n[3]||(n[3]=e=>d.value=null)})]),E("div",Vc,[E("div",Gc,[E("div",Kc,[E("div",Yc,[n[20]||(n[20]=E("div",{class:"detail-label"},"Değer:",-1)),E("div",Qc,O(d.value.value),1)])]),E("div",Jc,[E("div",Xc,[n[21]||(n[21]=E("div",{class:"detail-label"},"Öncelik:",-1)),E("div",Zc,[E("span",{class:z(["priority-badge","priority-"+(d.value.priority||"medium")])},O(N(d.value.priority)),3)])])])]),d.value.description?(x(),C("div",ed,[n[22]||(n[22]=E("div",{class:"detail-label"},"Açıklama:",-1)),E("div",td,O(d.value.description),1)])):M("",!0),d.value.details?(x(),C("div",nd,[n[23]||(n[23]=E("div",{class:"detail-label"},"Detaylar:",-1)),E("div",id,[(x(!0),C(R,null,L(d.value.details,((e,t)=>(x(),C("div",{key:t,class:"prediction-property"},[E("div",ad,O(B(t))+":",1),E("div",rd,O(e),1)])))),128))])])):M("",!0),d.value.recommendations&&d.value.recommendations.length>0?(x(),C("div",sd,[n[24]||(n[24]=E("div",{class:"detail-label"},"Öneriler:",-1)),E("ul",od,[(x(!0),C(R,null,L(d.value.recommendations,((e,t)=>(x(),C("li",{key:t},O(e),1)))),128))])])):M("",!0),d.value.trend?(x(),C("div",ld,[n[25]||(n[25]=E("div",{class:"detail-label"},"Eğilim Analizi:",-1)),E("div",cd,[E("div",{class:z(["trend-direction",T(d.value.trend)])},[E("i",{class:z(["bi me-1",D(d.value.trend)])},null,2),P(" "+O(S(d.value.trend))+" ",1),d.value.trendValue?(x(),C("span",dd,O(d.value.trendValue),1)):M("",!0)],2),E("div",ud,O(d.value.trendDescription||"Eğilim detayları bulunmuyor."),1)])])):M("",!0)])])])):M("",!0)])):M("",!0)])),_:1}))}},[["__scopeId","data-v-4bd615c6"]]),hd={class:"documents-modal"},pd={class:"documents-header"},fd={class:"doc-counter"},gd={class:"documents-actions"},yd=["title"],vd={class:"documents-content"},bd={class:"documents-filters mb-3"},kd={class:"row g-2"},wd={class:"col-md-6"},_d={class:"input-group input-group-sm"},Ad={class:"col-md-6"},Dd={class:"input-group input-group-sm"},Td=["value"],Sd={key:0,class:"documents-list-view"},Cd={class:"table table-hover"},Ed={class:"document-title"},Md={class:"d-flex align-items-center"},Od={class:"document-icon me-2"},xd={class:"document-path text-muted small"},Pd={class:"relevance-score"},zd={class:"document-actions"},Rd=["onClick"],Ld=["onClick"],Id={key:0},Nd={key:1,class:"documents-grid-view"},Bd={class:"row g-3"},jd=["onClick"],$d={class:"document-card-icon"},Ud={class:"document-card-content"},Fd={class:"document-card-title"},Hd={class:"document-card-type"},Wd={class:"document-card-date"},qd={class:"document-card-relevance"},Vd={class:"relevance-score"},Gd={class:"document-card-actions"},Kd=["onClick"],Yd={key:0,class:"col-12 text-center py-3"},Qd={class:"document-preview-modal"},Jd={class:"document-preview-header"},Xd={class:"document-preview-actions"},Zd={class:"document-preview-content"},eu={key:0,class:"document-preview-loading"},tu={key:1,class:"document-pdf-preview"},nu=["src"],iu={key:1,class:"document-preview-error"},au={key:2,class:"document-image-preview"},ru=["src"],su={key:1,class:"document-preview-error"},ou={key:3,class:"document-text-preview"},lu={key:0,class:"text-preview"},cu={key:1,class:"document-preview-error"},du={key:4,class:"document-html-preview"},uu=["src"],mu={key:1,class:"document-preview-error"},hu={key:5,class:"document-preview-error"},pu={key:6,class:"document-highlights"},fu={class:"highlights-list"},gu=["innerHTML"],yu={key:0,class:"highlight-page"},vu={key:7,class:"document-metadata"},bu={class:"metadata-list"},ku={class:"metadata-key"},wu={class:"metadata-value"},_u=to({__name:"DocumentsModal",props:{documents:{type:Array,required:!0},show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e,i=t,a=h(""),r=h(""),s=h(!1),o=h(null),l=h(null),c=h(null),d=h(!1),m=g((()=>{let e=[...n.documents];if(a.value){const t=a.value.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)))}return r.value&&(e=e.filter((e=>e.type===r.value))),e.sort(((e,t)=>(t.relevance||0)-(e.relevance||0))),e})),p=g((()=>{const e=new Set;return n.documents.forEach((t=>{t.type&&e.add(t.type)})),Array.from(e)})),f=u((e=>{d.value=!0,o.value=e,l.value=null,c.value=null,setTimeout((()=>{if(e.url)l.value=e.url;else if(e.content)if(["txt","md","text"].includes(e.type))c.value=e.content;else if(["html"].includes(e.type)){const t=new Blob([e.content],{type:"text/html"});l.value=URL.createObjectURL(t)}d.value=!1}),800)}),"openDocument"),y=u((e=>{const t=document.createElement("a");t.href=e.url||"javascript:void(0)",t.download=e.name,e.url?(document.body.appendChild(t),t.click(),document.body.removeChild(t)):alert(`${e.name} belgesini indirme işlemi simüle edildi.`)}),"downloadDocument"),v=u((e=>{if(!e)return"Belirtilmemiş";try{const t=new Date(e);return new Intl.DateTimeFormat("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)}catch(t){return e}}),"formatDate"),k=u((e=>null==e?"?":`%${Math.round(100*e)}`),"formatRelevance"),w=u((e=>({pdf:"PDF",doc:"Word",docx:"Word",xls:"Excel",xlsx:"Excel",ppt:"PowerPoint",pptx:"PowerPoint",txt:"Metin",csv:"CSV",jpg:"Resim",jpeg:"Resim",png:"Resim",gif:"Resim",image:"Resim",html:"HTML",md:"Markdown",text:"Metin",technical:"Teknik Doküman",manual:"Kullanım Kılavuzu",report:"Rapor",specification:"Şartname",drawing:"Teknik Çizim"}[e]||e.charAt(0).toUpperCase()+e.slice(1))),"getTypeLabel"),A=u((e=>({pdf:"bi-file-earmark-pdf",doc:"bi-file-earmark-word",docx:"bi-file-earmark-word",xls:"bi-file-earmark-excel",xlsx:"bi-file-earmark-excel",ppt:"bi-file-earmark-ppt",pptx:"bi-file-earmark-ppt",txt:"bi-file-earmark-text",csv:"bi-file-earmark-spreadsheet",jpg:"bi-file-earmark-image",jpeg:"bi-file-earmark-image",png:"bi-file-earmark-image",gif:"bi-file-earmark-image",image:"bi-file-earmark-image",html:"bi-file-earmark-code",md:"bi-markdown",technical:"bi-file-earmark-ruled",manual:"bi-book",report:"bi-file-earmark-bar-graph",specification:"bi-list-check",drawing:"bi-file-earmark-ruled"}[e]||"bi-file-earmark")),"getDocumentIcon"),D=u((e=>{if(!e)return"";if(e.length<=30)return e;const t=e.split("/");return t.length<=2?e:t[0]+"/.../"+t[t.length-1]}),"truncatePath"),T=u((()=>{s.value=!s.value}),"toggleViewMode"),S=u((()=>{o.value=null,i("close")}),"handleClose"),N=u((e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).replace("_"," ")),"formatMetadataKey"),B=u(((e,t=[])=>{if(!e)return"";if(!t||!t.length)return e;let n=e;return t.forEach((e=>{const t=new RegExp(e,"gi");n=n.replace(t,(e=>`<mark>${e}</mark>`))})),n}),"formatHighlight");return b((()=>{})),_(o,(e=>{e||(l.value&&l.value.startsWith("blob:")&&URL.revokeObjectURL(l.value),l.value=null,c.value=null)})),(t,n)=>(x(),$(V,{name:"modal-fade"},{default:U((()=>[e.show?(x(),C("div",{key:0,class:"modal-overlay",onClick:q(S,["self"])},[E("div",hd,[E("div",pd,[E("h5",null,[n[7]||(n[7]=P("İlgili Belgeler ")),E("span",fd,"("+O(e.documents.length)+")",1)]),E("div",gd,[E("button",{onClick:T,class:"btn btn-sm btn-outline-secondary mx-2",title:s.value?"Liste Görünümü":"Grid Görünümü"},[E("i",{class:z(["bi",s.value?"bi-list":"bi-grid"])},null,2)],8,yd),E("button",{onClick:S,class:"btn btn-sm btn-outline-danger",title:"Kapat"},n[8]||(n[8]=[E("i",{class:"bi bi-x-lg"},null,-1)]))])]),E("div",vd,[E("div",bd,[E("div",kd,[E("div",wd,[E("div",_d,[n[9]||(n[9]=E("span",{class:"input-group-text"},"Ara",-1)),F(E("input",{type:"text",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),placeholder:"Belge ara..."},null,512),[[H,a.value]])])]),E("div",Ad,[E("div",Dd,[n[11]||(n[11]=E("span",{class:"input-group-text"},"Tür",-1)),F(E("select",{class:"form-select","onUpdate:modelValue":n[1]||(n[1]=e=>r.value=e)},[n[10]||(n[10]=E("option",{value:""},"Tümü",-1)),(x(!0),C(R,null,L(p.value,((e,t)=>(x(),C("option",{key:t,value:e},O(w(e)),9,Td)))),128))],512),[[W,r.value]])])])])]),s.value?(x(),C("div",Nd,[E("div",Bd,[(x(!0),C(R,null,L(m.value,((e,t)=>(x(),C("div",{key:t,class:"col-md-4 col-xl-3"},[E("div",{class:"document-card",onClick:u((t=>f(e)),"onClick")},[E("div",$d,[E("i",{class:z(["bi",A(e.type)])},null,2)]),E("div",Ud,[E("div",Fd,O(e.name),1),E("div",Hd,[E("span",{class:z(["document-type-badge","document-type-"+e.type])},O(w(e.type)),3)]),E("div",Wd,O(v(e.date)),1),E("div",qd,[E("div",Vd,[E("div",{class:"relevance-bar",style:I({width:100*e.relevance+"%"})},null,4),E("span",null,O(k(e.relevance)),1)])])]),E("div",Gd,[E("button",{class:"btn btn-sm btn-outline-secondary",onClick:q((t=>y(e)),["stop"]),title:"İndir"},n[16]||(n[16]=[E("i",{class:"bi bi-download"},null,-1)]),8,Kd)])],8,jd)])))),128)),0===m.value.length?(x(),C("div",Yd,n[17]||(n[17]=[E("div",{class:"alert alert-info m-0"},"Filtrelere uygun belge bulunamadı.",-1)]))):M("",!0)])])):(x(),C("div",Sd,[E("table",Cd,[n[15]||(n[15]=E("thead",null,[E("tr",null,[E("th",null,"Belge"),E("th",null,"Tür"),E("th",null,"Tarih"),E("th",null,"İlgi Puanı"),E("th",null,"İşlem")])],-1)),E("tbody",null,[(x(!0),C(R,null,L(m.value,((e,t)=>(x(),C("tr",{key:t},[E("td",Ed,[E("div",Md,[E("div",Od,[E("i",{class:z(["bi",A(e.type)])},null,2)]),E("div",null,[P(O(e.name)+" ",1),E("div",xd,O(D(e.path)),1)])])]),E("td",null,[E("span",{class:z(["document-type-badge","document-type-"+e.type])},O(w(e.type)),3)]),E("td",null,O(v(e.date)),1),E("td",null,[E("div",Pd,[E("div",{class:"relevance-bar",style:I({width:100*e.relevance+"%"})},null,4),E("span",null,O(k(e.relevance)),1)])]),E("td",null,[E("div",zd,[E("button",{class:"btn btn-sm btn-primary me-1",onClick:u((t=>f(e)),"onClick")},n[12]||(n[12]=[E("i",{class:"bi bi-eye"},null,-1)]),8,Rd),E("button",{class:"btn btn-sm btn-outline-secondary",onClick:u((t=>y(e)),"onClick")},n[13]||(n[13]=[E("i",{class:"bi bi-download"},null,-1)]),8,Ld)])])])))),128)),0===m.value.length?(x(),C("tr",Id,n[14]||(n[14]=[E("td",{colspan:"5",class:"text-center py-3"},[E("div",{class:"alert alert-info m-0"},"Filtrelere uygun belge bulunamadı.")],-1)]))):M("",!0)])])]))])]),o.value?(x(),C("div",{key:0,class:"document-preview-overlay",onClick:n[6]||(n[6]=q((e=>o.value=null),["self"]))},[E("div",Qd,[E("div",Jd,[E("h6",null,O(o.value.name),1),E("div",Xd,[E("button",{onClick:n[2]||(n[2]=e=>y(o.value)),class:"btn btn-sm btn-outline-secondary me-2",title:"İndir"},n[18]||(n[18]=[E("i",{class:"bi bi-download"},null,-1)])),E("button",{onClick:n[3]||(n[3]=e=>o.value=null),class:"btn btn-sm btn-outline-danger",title:"Kapat"},n[19]||(n[19]=[E("i",{class:"bi bi-x-lg"},null,-1)]))])]),E("div",Zd,[d.value?(x(),C("div",eu,n[20]||(n[20]=[E("div",{class:"spinner-border text-primary",role:"status"},[E("span",{class:"visually-hidden"},"Yükleniyor...")],-1),E("div",{class:"mt-2"},"Belge yükleniyor...",-1)]))):"pdf"===o.value.type?(x(),C("div",tu,[l.value?(x(),C("iframe",{key:0,src:l.value,frameborder:"0",width:"100%",height:"100%"},null,8,nu)):(x(),C("div",iu,[n[22]||(n[22]=E("i",{class:"bi bi-exclamation-triangle text-warning fs-2"},null,-1)),n[23]||(n[23]=E("div",{class:"mt-2"},[P("PDF önizleme kullanılamıyor. "),E("br"),P(" Belgeyi indirip görüntüleyebilirsiniz.")],-1)),E("button",{class:"btn btn-primary mt-3",onClick:n[4]||(n[4]=e=>y(o.value))},n[21]||(n[21]=[E("i",{class:"bi bi-download me-1"},null,-1),P(" İndir ")]))]))])):["jpg","png","gif","jpeg","image"].includes(o.value.type)?(x(),C("div",au,[l.value?(x(),C("img",{key:0,src:l.value,alt:"Görüntü önizleme",class:"img-preview"},null,8,ru)):(x(),C("div",su,n[24]||(n[24]=[E("i",{class:"bi bi-exclamation-triangle text-warning fs-2"},null,-1),E("div",{class:"mt-2"},"Resim önizleme kullanılamıyor.",-1)])))])):["txt","md","text"].includes(o.value.type)?(x(),C("div",ou,[c.value?(x(),C("pre",lu,O(c.value),1)):(x(),C("div",cu,n[25]||(n[25]=[E("i",{class:"bi bi-exclamation-triangle text-warning fs-2"},null,-1),E("div",{class:"mt-2"},"Metin önizleme kullanılamıyor.",-1)])))])):"html"===o.value.type?(x(),C("div",du,[l.value?(x(),C("iframe",{key:0,src:l.value,frameborder:"0",width:"100%",height:"100%",sandbox:"allow-same-origin"},null,8,uu)):(x(),C("div",mu,n[26]||(n[26]=[E("i",{class:"bi bi-exclamation-triangle text-warning fs-2"},null,-1),E("div",{class:"mt-2"},"HTML önizleme kullanılamıyor.",-1)])))])):(x(),C("div",hu,[n[28]||(n[28]=E("i",{class:"bi bi-file-earmark text-secondary fs-2"},null,-1)),n[29]||(n[29]=E("div",{class:"mt-2"},"Bu belge türü için önizleme desteklenmiyor.",-1)),E("button",{class:"btn btn-primary mt-3",onClick:n[5]||(n[5]=e=>y(o.value))},n[27]||(n[27]=[E("i",{class:"bi bi-download me-1"},null,-1),P(" İndir ")]))])),o.value.highlights&&o.value.highlights.length>0?(x(),C("div",pu,[n[31]||(n[31]=E("h6",{class:"highlights-title"},"İlgili Bölümler",-1)),E("div",fu,[(x(!0),C(R,null,L(o.value.highlights,((e,t)=>(x(),C("div",{key:t,class:"highlight-item"},[E("div",{class:"highlight-context",innerHTML:B(e.text,e.matchedTerms)},null,8,gu),e.page?(x(),C("div",yu,[n[30]||(n[30]=E("span",{class:"page-label"},"Sayfa:",-1)),P(" "+O(e.page),1)])):M("",!0)])))),128))])])):M("",!0),o.value.metadata?(x(),C("div",vu,[n[32]||(n[32]=E("h6",{class:"metadata-title"},"Belge Bilgileri",-1)),E("div",bu,[(x(!0),C(R,null,L(o.value.metadata,((e,t)=>(x(),C("div",{key:t,class:"metadata-item"},[E("div",ku,O(N(t))+":",1),E("div",wu,O(e),1)])))),128))])])):M("",!0)])])])):M("",!0)])):M("",!0)])),_:1}))}},[["__scopeId","data-v-cf2fd013"]]),Au={key:0,class:"ai-chat-modal"},Du={class:"ai-chat-container"},Tu={class:"ai-chat-header"},Su={class:"d-flex align-items-center"},Cu={key:0,class:"model-badge ms-2"},Eu={class:"ai-chat-actions"},Mu={key:0,class:"model-selector"},Ou={class:"model-options"},xu=["onClick"],Pu={class:"model-option-name"},zu={class:"model-option-capabilities"},Ru={key:0,class:"ai-message ai-message-bot"},Lu={class:"ai-message-content"},Iu={class:"ai-quick-actions"},Nu={class:"ai-message-content"},Bu={key:0,class:"ai-system-message"},ju={key:1},$u={key:2,class:"ai-cad-preview"},Uu={class:"preview-header d-flex justify-content-between align-items-center"},Fu=["onClick"],Hu=["onClick"],Wu=["src"],qu={key:3,class:"ai-prediction-results"},Vu={class:"prediction-header"},Gu={class:"prediction-confidence"},Ku={class:"prediction-list"},Yu={class:"prediction-item-title"},Qu={class:"prediction-item-value"},Ju=["onClick"],Xu={key:1,class:"prediction-explanation mt-2"},Zu={class:"small"},em={key:4,class:"ai-related-docs"},tm={class:"related-docs-list"},nm=["onClick"],im=["onClick"],am={key:5,class:"ai-message-source"},rm={key:1,class:"ai-message ai-message-bot"},sm={class:"ai-chat-input"},om={class:"input-group"},lm=["title"],cm=["disabled"],dm=["disabled"],um={key:0,class:"advanced-options"},mm={class:"row g-3 mt-2"},hm={class:"col-md-6"},pm={class:"form-check"},fm={class:"col-md-6"},gm={class:"form-check"},ym={class:"row g-3 mt-2"},vm={class:"col-md-6"},bm=["disabled"],km={class:"col-md-6"},wm={class:"text-end"},_m=to({__name:"AIChatModal",props:{isVisible:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e,i=Ps(),a=eo(),{sendMessage:r,history:s,isProcessing:o,clearHistory:l,supportedModels:c,switchModel:d,getCurrentModel:m,getSystemData:p,modelComponents:f,modelMeasurements:y}=i,w=h(""),A=h(null),D=h(!1),T=h(!1),S=h(null),I=h(null),B=h(null),j=h(""),U=h(0),V=h(null),Y=h(""),Q=h({searchTechnicalDocs:!1,runPrediction:!1,searchCADModels:!1}),J=g((()=>{if(Q.value.searchTechnicalDocs)return!0;return["teknik","doküman","şartname","talimat","çizim","manual","katalog"].some((e=>w.value.toLowerCase().includes(e)))}));g((()=>{if(Q.value.runPrediction)return!0;return["tahmin","öngör","analiz","trend","gelecek","hafta","ay","ne olacak","beklen"].some((e=>w.value.toLowerCase().includes(e)))}));const X=g((()=>{if(Q.value.searchCADModels)return!0;return["3d","model","cad","çizim","görselleştir","ar","vr","göster"].some((e=>w.value.toLowerCase().includes(e)))})),Z=u((async e=>{d(e)&&(S.value=m(),D.value=!1)}),"selectModel"),ee=u((()=>{D.value=!D.value,S.value=m()}),"toggleModelSelector"),te=u((()=>{T.value=!T.value}),"toggleAdvancedOptions"),ne=u((async()=>{if(!w.value.trim()||o.value)return;const e=w.value;w.value="",k((()=>{const e=document.querySelector(".ai-chat-input input");e&&e.focus()}));try{let t=await r(e);J.value&&await ie(e),X.value&&!(null==t?void 0:t.modelPreview)&&await ae(e),await ye()}catch(t){}}),"handleSendMessage"),ie=u((async e=>{try{const t=await a.performTechnicalQuery(e);if(t&&t.length>0){const e=s.value[s.value.length-1];e&&"assistant"===e.role&&(e.relatedDocs=t.map((e=>({id:e.id,name:e.name,category:e.category,version:e.version}))))}}catch(t){}}),"searchTechnicalDocuments"),ae=u((async e=>{const t={"rm 36 cb":"rm36cb",rm36cb:"rm36cb","rm 36 lb":"rm36lb",rm36lb:"rm36lb","rm 36 bc":"rm36bc",rm36bc:"rm36bc","akım trafosu":"tr36ai",trafo:"tr36ai",tr36ai:"tr36ai"};let n=Y.value;if(!n){const i=e.toLowerCase();for(const[e,a]of Object.entries(t))if(i.includes(e)){n=a;break}}if(n)try{const e=(await p()).cadModels.find((e=>e.id===n.toLowerCase()));if(e){s.value.push({role:"assistant",content:`"${e.name}" 3D modelini buldum. Bu modeli incelemek ister misiniz?`,timestamp:new Date,modelPreview:{id:e.id,name:e.name,image:e.previewImage},source:"CAD Model Asistanı",relatedDocs:e.relatedDocs||[]});const t=await f(e.id);if(t.success){const n=t.data.components.length;s.value.push({role:"assistant",content:`${e.name} modeli ${n} bileşenden oluşmaktadır. Ana bileşenler: ${t.data.components.slice(0,2).map((e=>e.name)).join(", ")} ve diğerleri. 3D görünümde tüm detayları inceleyebilirsiniz.`,source:"CAD Analizi",timestamp:new Date})}}}catch(i){}}),"processCADModelRequest"),re=u((e=>{const t=Number(e);return isNaN(t)?"?":`%${(100*t).toFixed(0)}`}),"formatConfidence"),se=u((e=>e>0?"bi-arrow-up-right":e<0?"bi-arrow-down-right":"bi-dash"),"getTrendIcon"),oe=u((e=>e>0?"trend-up":e<0?"trend-down":"trend-neutral"),"getTrendClass"),le=u((e=>{I.value={id:e.id,name:e.name,previewImage:e.image}}),"openModelViewer"),ce=u((()=>{I.value=null}),"closeModelViewer"),de=u((e=>{B.value=e.prediction.predictions,j.value=e.prediction.modelType,U.value=e.prediction.confidence}),"openPredictionDetails"),ue=u((()=>{B.value=null,j.value="",U.value=0}),"closePredictionDetails"),me=u((e=>{V.value=[e]}),"openDocument"),he=u((e=>{V.value=e}),"openDocumentsModal"),pe=u((()=>{V.value=null}),"closeDocumentsModal"),fe=u((e=>{w.value=e}),"setQuickQuestion"),ge=u((()=>{confirm("Gerçekten sohbet geçmişini temizlemek istiyor musunuz?")&&(l(),T.value=!1)}),"handleClearChat"),ye=u((async()=>{await k(),A.value&&(A.value.scrollTop=A.value.scrollHeight)}),"scrollToBottom");return _((()=>n.isVisible),(async e=>{if(e){await k(),await ye();const e=document.querySelector(".ai-chat-input input");e&&e.focus(),S.value=m()}})),_(s,ye,{deep:!0}),b((()=>{S.value=m()})),(t,n)=>(x(),C(R,null,[e.isVisible?(x(),C("div",Au,[E("div",Du,[E("div",Tu,[E("div",Su,[n[10]||(n[10]=E("i",{class:"bi bi-robot me-2"},null,-1)),n[11]||(n[11]=E("h5",{class:"m-0"},"Yapay Zeka Asistanı",-1)),S.value&&S.value.name?(x(),C("span",Cu,O(S.value.name),1)):M("",!0)]),E("div",Eu,[E("button",{class:"btn btn-link",onClick:ee,title:"AI Modeli Değiştir"},n[12]||(n[12]=[E("i",{class:"bi bi-gear"},null,-1)])),E("button",{class:"btn btn-link",onClick:ge,title:"Sohbeti Temizle"},n[13]||(n[13]=[E("i",{class:"bi bi-trash"},null,-1)])),E("button",{class:"btn btn-link",onClick:n[0]||(n[0]=e=>t.$emit("close")),title:"Kapat"},n[14]||(n[14]=[E("i",{class:"bi bi-x-lg"},null,-1)]))])]),D.value?(x(),C("div",Mu,[n[15]||(n[15]=E("h6",null,"AI Modeli Seç",-1)),E("div",Ou,[(x(!0),C(R,null,L(v(c),((e,t)=>(x(),C("div",{key:t,class:z(["model-option",S.value&&S.value.key===t?"active":""]),onClick:u((e=>Z(t)),"onClick")},[E("div",Pu,O(e.name),1),E("div",zu,[(x(!0),C(R,null,L(e.capabilities,((e,t)=>(x(),C("span",{key:t,class:"model-capability"},O(e),1)))),128))])],10,xu)))),128))])])):M("",!0),E("div",{class:"ai-chat-content",ref_key:"chatContent",ref:A},[0===v(s).length?(x(),C("div",Ru,[E("div",Lu,[n[16]||(n[16]=E("p",null,"Merhaba! Size nasıl yardımcı olabilirim?",-1)),n[17]||(n[17]=E("p",{class:"small mb-0"},"Üretim durumları, malzeme stokları veya teknik bilgiler hakkında sorular sorabilirsiniz.",-1)),E("div",Iu,[E("button",{onClick:n[1]||(n[1]=e=>fe("Üretim durumu nedir?")),class:"btn btn-sm btn-outline-primary"},"Üretim durumu"),E("button",{onClick:n[2]||(n[2]=e=>fe("Geciken siparişler hangileri?")),class:"btn btn-sm btn-outline-primary"},"Geciken siparişler"),E("button",{onClick:n[3]||(n[3]=e=>fe("RM 36 CB hücresi 3D modelini göster")),class:"btn btn-sm btn-outline-primary"},"3D Model"),E("button",{onClick:n[4]||(n[4]=e=>fe("Gelecek hafta üretim tahmini")),class:"btn btn-sm btn-outline-primary"},"Üretim tahmini")])])])):M("",!0),(x(!0),C(R,null,L(v(s),((e,t)=>(x(),C("div",{key:t,class:z(["ai-message","user"===e.role?"ai-message-user":"ai-message-bot"])},[E("div",Nu,[e.isSystemMessage?(x(),C("div",Bu,[n[18]||(n[18]=E("i",{class:"bi bi-info-circle me-2"},null,-1)),P(" "+O(e.content),1)])):e.content?(x(),C("p",ju,O(e.content),1)):M("",!0),e.modelPreview?(x(),C("div",$u,[E("div",Uu,[E("span",null,O(e.modelPreview.name),1),E("button",{class:"btn btn-sm btn-primary",onClick:u((t=>le(e.modelPreview)),"onClick")},n[19]||(n[19]=[P(" 3D Görünüm "),E("i",{class:"bi bi-box-arrow-up-right ms-1"},null,-1)]),8,Fu)]),E("div",{class:"preview-image",onClick:u((t=>le(e.modelPreview)),"onClick")},[E("img",{src:e.modelPreview.image||"/assets/images/models/placeholder.png",alt:"CAD Model"},null,8,Wu),n[20]||(n[20]=E("div",{class:"preview-overlay"},[E("span",null,"3D Modeli Görüntüle")],-1))],8,Hu)])):M("",!0),e.prediction&&e.prediction.predictions?(x(),C("div",qu,[E("div",Vu,[E("span",null,O(e.prediction.modelType||"Tahmin Sonuçları"),1),E("span",Gu,"Güven: "+O(re(e.prediction.confidence)),1)]),E("div",Ku,[(x(!0),C(R,null,L(e.prediction.predictions.slice(0,3),((e,t)=>(x(),C("div",{key:t,class:"prediction-item"},[E("div",Yu,O(e.label),1),E("div",Qu,O(e.value),1),e.trend?(x(),C("div",{key:0,class:z(["prediction-trend",oe(e.trend)])},[E("i",{class:z(["bi",se(e.trend)])},null,2),P(" "+O(e.trendValue||""),1)],2)):M("",!0)])))),128)),e.prediction.predictions.length>3?(x(),C("button",{key:0,class:"btn btn-sm btn-outline-primary mt-2",onClick:u((t=>de(e)),"onClick")}," Tüm sonuçları göster ("+O(e.prediction.predictions.length)+") ",9,Ju)):M("",!0),e.prediction.explanation?(x(),C("div",Xu,[E("p",Zu,O(e.prediction.explanation),1)])):M("",!0)])])):M("",!0),e.relatedDocs&&e.relatedDocs.length>0?(x(),C("div",em,[n[22]||(n[22]=E("div",{class:"related-docs-header"},"İlgili Belgeler:",-1)),E("div",tm,[(x(!0),C(R,null,L(e.relatedDocs.slice(0,2),((e,t)=>(x(),C("div",{key:t,class:"related-doc-item",onClick:u((t=>me(e)),"onClick")},[n[21]||(n[21]=E("i",{class:"bi bi-file-earmark-text me-2"},null,-1)),E("span",null,O(e.name),1)],8,nm)))),128)),e.relatedDocs.length>2?(x(),C("button",{key:0,class:"btn btn-sm btn-link",onClick:u((t=>he(e.relatedDocs)),"onClick")}," + "+O(e.relatedDocs.length-2)+" belge daha ",9,im)):M("",!0)])])):M("",!0),e.source&&!e.isSystemMessage?(x(),C("p",am,[E("small",null,"Kaynak: "+O(e.source),1)])):M("",!0)])],2)))),128)),v(o)?(x(),C("div",rm,n[23]||(n[23]=[N('<div class="ai-message-content" data-v-bf2ca2e7><div class="ai-typing" data-v-bf2ca2e7><div class="ai-typing-dot" data-v-bf2ca2e7></div><div class="ai-typing-dot" data-v-bf2ca2e7></div><div class="ai-typing-dot" data-v-bf2ca2e7></div></div></div>',1)]))):M("",!0)],512),E("div",sm,[E("form",{onSubmit:q(ne,["prevent"])},[E("div",om,[E("button",{class:"btn btn-outline-secondary dropdown-toggle",type:"button",onClick:te,title:T.value?"Seçenekleri gizle":"Gelişmiş sorgu seçenekleri"},[E("i",{class:z(["bi",T.value?"bi-caret-up":"bi-caret-down"])},null,2)],8,lm),F(E("input",{type:"text",class:"form-control",placeholder:"Mesajınızı yazın...","onUpdate:modelValue":n[5]||(n[5]=e=>w.value=e),disabled:v(o),onKeypress:G(ne,["enter"])},null,40,cm),[[H,w.value]]),E("button",{class:"btn btn-primary",type:"submit",disabled:v(o)||!w.value.trim()},[E("i",{class:z(["bi",v(o)?"bi-hourglass-split":"bi-send"])},null,2)],8,dm)]),T.value?(x(),C("div",um,[E("div",mm,[E("div",hm,[E("div",pm,[F(E("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":n[6]||(n[6]=e=>Q.value.searchTechnicalDocs=e),id:"technicalDocsOption"},null,512),[[K,Q.value.searchTechnicalDocs]]),n[24]||(n[24]=E("label",{class:"form-check-label",for:"technicalDocsOption"},"Teknik dokümanlarda ara",-1))])]),E("div",fm,[E("div",gm,[F(E("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":n[7]||(n[7]=e=>Q.value.searchCADModels=e),id:"cadModelsOption"},null,512),[[K,Q.value.searchCADModels]]),n[25]||(n[25]=E("label",{class:"form-check-label",for:"cadModelsOption"},"3D modellerde ara",-1))])])]),E("div",ym,[E("div",vm,[F(E("select",{class:"form-select form-select-sm","onUpdate:modelValue":n[8]||(n[8]=e=>Y.value=e),disabled:!Q.value.searchCADModels},n[26]||(n[26]=[E("option",{value:""},"Tüm model tipleri",-1),E("option",{value:"rm36cb"},"RM 36 CB",-1),E("option",{value:"rm36lb"},"RM 36 LB",-1),E("option",{value:"rm36bc"},"RM 36 BC",-1)]),8,bm),[[W,Y.value]])]),E("div",km,[E("div",wm,[E("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:n[9]||(n[9]=(...e)=>v(l)&&v(l)(...e)),title:"Tüm sohbet geçmişini temizle"}," Sohbeti Temizle ")])])])])):M("",!0)],32)])])])):M("",!0),I.value?(x(),$(rc,{key:1,model:I.value,show:!!I.value,onClose:ce},null,8,["model","show"])):M("",!0),B.value?(x(),$(md,{key:2,predictions:B.value,"prediction-type":j.value,confidence:U.value,show:!!B.value,onClose:ue},null,8,["predictions","prediction-type","confidence","show"])):M("",!0),V.value&&V.value.length?(x(),$(_u,{key:3,documents:V.value,show:!!V.value,onClose:pe},null,8,["documents","show"])):M("",!0)],64))}},[["__scopeId","data-v-bf2ca2e7"]]),Am={class:"notifications-container"},Dm=["onClick"],Tm={class:"notification-icon"},Sm={class:"notification-content"},Cm={class:"notification-header"},Em=["onClick"],Mm=["innerHTML"],Om={class:"notification-time"},xm={key:0,class:"modal-wrapper"},Pm={class:"modal-header"},zm={class:"modal-title"},Rm=["innerHTML"],Lm={class:"modal-footer"},Im={__name:"Notifications",setup(e){const t=mn(),n=g((()=>t.notifications)),i=g((()=>t.modal));function a(e){t.removeNotification(e)}function r(){t.closeModal()}function s(){i.value&&"function"==typeof i.value.onConfirm&&i.value.onConfirm(),r()}function o(){i.value&&"function"==typeof i.value.onCancel&&i.value.onCancel(),r()}function l(e){switch(e){case"success":return"bi bi-check-circle-fill";case"error":return"bi bi-x-circle-fill";case"warning":return"bi bi-exclamation-triangle-fill";default:return"bi bi-info-circle-fill"}}function c(e){if(!e)return"";try{return Dt(new Date(e),"HH:mm:ss",{locale:zt})}catch(t){return""}}function d(e){"Escape"===e.key&&i.value&&i.value.showCancel&&o()}return u(a,"removeNotification"),u(r,"closeModal"),u(s,"handleModalConfirm"),u(o,"handleModalCancel"),u(l,"getIconClass"),u(c,"formatTime"),u(d,"handleEscapeKey"),b((()=>{document.addEventListener("keydown",d)})),Y((()=>{document.removeEventListener("keydown",d)})),(e,t)=>(x(),C("div",Am,[B(Q,{name:"notification",tag:"div",class:"notification-list"},{default:U((()=>[(x(!0),C(R,null,L(n.value,(e=>(x(),C("div",{key:e.id,class:z(["notification-toast",e.type]),onClick:u((t=>e.closable&&a(e.id)),"onClick")},[E("div",Tm,[E("i",{class:z(l(e.type))},null,2)]),E("div",Sm,[E("div",Cm,[E("h5",null,O(e.title),1),e.closable?(x(),C("button",{key:0,class:"notification-close",onClick:q((t=>a(e.id)),["stop"])},t[1]||(t[1]=[E("i",{class:"bi bi-x"},null,-1)]),8,Em)):M("",!0)]),E("div",{class:"notification-body",innerHTML:e.message},null,8,Mm),E("div",Om,O(c(e.timestamp)),1)])],10,Dm)))),128))])),_:1}),i.value?(x(),C("div",xm,[E("div",{class:"modal-backdrop",onClick:t[0]||(t[0]=e=>i.value.showCancel&&r())}),E("div",{class:z(["modal-container","modal-"+i.value.size])},[E("div",Pm,[E("h5",zm,O(i.value.title),1),i.value.showCancel?(x(),C("button",{key:0,class:"modal-close",onClick:o},t[2]||(t[2]=[E("i",{class:"bi bi-x-lg"},null,-1)]))):M("",!0)]),E("div",{class:"modal-body",innerHTML:i.value.content},null,8,Rm),E("div",Lm,[i.value.showCancel?(x(),C("button",{key:0,class:"btn btn-secondary",onClick:o},O(i.value.cancelText),1)):M("",!0),E("button",{class:"btn btn-primary",onClick:s},O(i.value.confirmText),1)])],2)])):M("",!0)]))}},Nm={id:"app"},Bm={key:0,class:"app-loading"},jm={class:"loading-text"},$m={__name:"App",setup(e){const t=f(),n=eo(),i=Lt(),{isAuthenticated:a}=J(i),{isAIChatModalOpen:r}=J(n),s=h(!0),o=h("Yükleniyor..."),l=u((()=>{n.setAIChatModalOpen(!1)}),"closeAIChatModal"),c=u((async()=>{if(!a.value&&window.location.search.includes("demo=true")){o.value="Demo hesabı hazırlanıyor...";try{return!!(await i.demoLogin()).success}catch(e){return!1}}return!1}),"autoDemoLogin");return b((async()=>{const e=Date.now(),n=setTimeout((()=>{s.value&&(s.value=!1)}),6e3);try{o.value="Kimlik bilgileri kontrol ediliyor...";(await i.initialize().catch((()=>({success:!1})))).success&&a.value?o.value="Kimlik doğrulama başarılı...":(o.value="Demo moda geçiliyor...",await c())}catch(r){o.value="Bir hata oluştu, demo moda geçiliyor...",await c()}finally{clearTimeout(n);const i=Date.now()-e,r=Math.max(0,800-i);setTimeout((()=>{s.value=!1,"/"===t.currentRoute.value.path&&a.value&&t.push("/")}),r)}})),(e,t)=>{const n=j("router-view");return x(),C("div",Nm,[s.value?(x(),C("div",Bm,[t[0]||(t[0]=E("div",{class:"spinner"},null,-1)),t[1]||(t[1]=E("div",{class:"brand"},"METS",-1)),E("div",jm,O(o.value),1)])):(x(),$(n,{key:1})),v(a)?(x(),$(ao,{key:2})):M("",!0),v(r)?(x(),$(_m,{key:3,onClose:l,isVisible:v(r)},null,8,["isVisible"])):M("",!0),B(Im)])}}},Um=u((function(e,t){return new URL(e,t).href}),"assetsURL"),Fm={},Hm=u((function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),r=(null==a?void 0:a.nonce)||(null==a?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map((t=>{if((t=Um(t,n))in Fm)return;Fm[t]=!0;const i=t.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!n)for(let n=e.length-1;n>=0;n--){const a=e[n];if(a.href===t&&(!i||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${t}"]${a}`))return;const s=document.createElement("link");return s.rel=i?"stylesheet":"modulepreload",i||(s.as="script"),s.crossOrigin="",s.href=t,r&&s.setAttribute("nonce",r),document.head.appendChild(s),i?new Promise(((e,n)=>{s.addEventListener("load",e),s.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0})))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return u(a,"handlePreloadError"),i.then((t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)}))}),"preload"),Wm=u((()=>Hm((()=>import("./NotFound.D0wM8JJ_.js")),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),"NotFound"),qm=u((e=>{try{return import(e).catch((e=>Hm((()=>import("./NotFound.D0wM8JJ_.js")),__vite__mapDeps([0,1,2,3,4]),import.meta.url)))}catch(t){return Hm((()=>import("./NotFound.D0wM8JJ_.js")),__vite__mapDeps([0,1,2,3,4]),import.meta.url)}}),"safeImport"),Vm=[{path:"/",name:"Dashboard",component:u((()=>Hm((()=>import("./DashboardView.k2YoRmP8.js")),__vite__mapDeps([5,1,3,2,6]),import.meta.url)),"component"),meta:{layout:"default",requiresAuth:!0,title:"Dashboard",description:"Ana panel sayfası"}},{path:"/login",name:"Login",component:u((()=>Hm((()=>import("./Login.BTrwCjs2.js")),__vite__mapDeps([7,1,2,3,8]),import.meta.url)),"component"),meta:{layout:"blank",requiresAuth:!1,title:"Giriş",description:"Kullanıcı giriş sayfası"}},{path:"/register",name:"Register",component:u((()=>qm("@/modules/auth/views/Register.vue")),"component"),meta:{layout:"blank",requiresAuth:!1,title:"Kayıt Ol",description:"Yeni kullanıcı kaydı"}},{path:"/orders",name:"Orders",component:u((()=>Hm((()=>import("./OrderListView.DDWP8tlK.js")),__vite__mapDeps([9,1,2,3,10]),import.meta.url)),"component"),meta:{layout:"default",requiresAuth:!0,title:"Siparişler",description:"Sipariş listesi ve yönetimi"}},{path:"/orders/:id",name:"OrderDetail",component:u((()=>Hm((()=>import("./OrderDetailView.TvuJ07ZK.js")),__vite__mapDeps([11,1,2,3,12]),import.meta.url)),"component"),meta:{layout:"default",requiresAuth:!0,title:"Sipariş Detayı",description:"Sipariş detay sayfası"}},{path:"/production",name:"Production",component:u((()=>qm("@/modules/production/views/ProductionDashboard.vue")),"component"),meta:{layout:"default",requiresAuth:!0,title:"Üretim",description:"Üretim paneli ve takibi"}},{path:"/materials",name:"Materials",component:u((()=>qm("@/modules/materials/views/MaterialsList.vue")),"component"),meta:{layout:"default",requiresAuth:!0,title:"Malzemeler",description:"Malzeme listesi ve yönetimi"}},{path:"/materials/:id",name:"MaterialDetail",component:u((()=>qm("@/modules/materials/views/MaterialDetail.vue")),"component"),meta:{layout:"default",requiresAuth:!0,title:"Malzeme Detayı",description:"Malzeme detay sayfası"}},{path:"/inventory",name:"Inventory",component:u((()=>qm("@/modules/inventory/views/InventoryDashboard.vue")),"component"),meta:{layout:"default",requiresAuth:!0,title:"Envanter",description:"Envanter paneli ve takibi"}},{path:"/planning",name:"Planning",component:u((()=>qm("@/modules/planning/views/PlanningDashboard.vue")),"component"),meta:{layout:"default",requiresAuth:!0,title:"Planlama",description:"Üretim planlama paneli"}},{path:"/reports",name:"Reports",component:u((()=>qm("@/views/reports/ReportsDashboard.vue")),"component"),meta:{layout:"default",requiresAuth:!0,title:"Raporlar",description:"Raporlar paneli"}},{path:"/technical",name:"Technical",component:u((()=>qm("@/modules/technical/views/TechnicalDashboard.vue")),"component"),meta:{layout:"default",requiresAuth:!0,title:"Teknik",description:"Teknik dokümanlar ve yönetimi"}},{path:"/settings",name:"Settings",component:u((()=>qm("@/modules/settings/views/SettingsDashboard.vue")),"component"),meta:{layout:"default",requiresAuth:!0,title:"Ayarlar",description:"Sistem ayarları"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:Wm,meta:{layout:"blank",requiresAuth:!1,title:"Sayfa Bulunamadı",description:"404 Hata sayfası"}}],Gm=X({history:Z("./"),routes:Vm,scrollBehavior:(e,t,n)=>n||{top:0}});Gm.beforeEach(((e,t,n)=>{document.title=e.meta.title?`${e.meta.title} - METS`:"METS";const i=Lt();e.matched.some((e=>e.meta.requiresAuth))&&!i.isAuthenticated?n({path:"/login",query:{redirect:e.fullPath}}):n()}));"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;!function(){const e=new Map,t={set(t,n,i){e.has(t)||e.set(t,new Map);const a=e.get(t);(a.has(n)||0===a.size)&&a.set(n,i)},get:u(((t,n)=>e.has(t)&&e.get(t).get(n)||null),"get"),remove(t,n){if(!e.has(t))return;const i=e.get(t);i.delete(n),0===i.size&&e.delete(t)}},n="transitionend",i=u((e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e)),"n"),a=u((e=>{e.dispatchEvent(new Event(n))}),"s"),r=u((e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType)),"o"),s=u((e=>r(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(i(e)):null),"r"),o=u((e=>{if(!r(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t}),"a"),l=u((e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),"l"),c=u((e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?c(e.parentNode):null}),"c"),d=u((()=>{}),"h"),m=u((e=>{e.offsetHeight}),"d"),h=u((()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null),"u"),p=[],f=u((()=>"rtl"===document.documentElement.dir),"p"),g=u((e=>{var t;t=u((()=>{const t=h();if(t){const n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}}),"e"),"loading"===document.readyState?(p.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of p)e()})),p.push(t)):t()}),"m"),y=u(((e,t=[],n=e)=>"function"==typeof e?e.call(...t):n),"g"),v=u(((e,t,i=!0)=>{if(!i)return void y(e);const r=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const i=Number.parseFloat(t),a=Number.parseFloat(n);return i||a?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let s=!1;const o=u((({target:i})=>{i===t&&(s=!0,t.removeEventListener(n,o),y(e))}),"a");t.addEventListener(n,o),setTimeout((()=>{s||a(t)}),r)}),"_"),b=u(((e,t,n,i)=>{const a=e.length;let r=e.indexOf(t);return-1===r?!n&&i?e[a-1]:e[0]:(r+=n?1:-1,i&&(r=(r+a)%a),e[Math.max(0,Math.min(r,a-1))])}),"b"),k=/[^.]*(?=\..*)\.|.*/,w=/\..*/,_=/::\d+$/,A={};let D=1;const T={mouseenter:"mouseover",mouseleave:"mouseout"},S=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function C(e,t){return t&&`${t}::${D++}`||e.uidEvent||D++}function E(e){const t=C(e);return e.uidEvent=t,A[t]=A[t]||{},A[t]}function M(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function O(e,t,n){const i="string"==typeof t,a=i?n:t||n;let r=R(e);return S.has(r)||(r=e),[i,a,r]}function x(e,t,n,i,a){if("string"!=typeof t||!e)return;let[r,s,o]=O(t,n,i);t in T&&(s=u((e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}),"t")(s));const l=E(e),c=l[o]||(l[o]={}),d=M(c,s,r?n:null);if(d)return void(d.oneOff=d.oneOff&&a);const m=C(s,t.replace(k,"")),h=r?function(e,t,n){return u((function i(a){const r=e.querySelectorAll(t);for(let{target:s}=a;s&&s!==this;s=s.parentNode)for(const o of r)if(o===s)return I(a,{delegateTarget:s}),i.oneOff&&L.off(e,a.type,t,n),n.apply(s,[a])}),"n")}(e,n,s):function(e,t){return u((function n(i){return I(i,{delegateTarget:e}),n.oneOff&&L.off(e,i.type,t),t.apply(e,[i])}),"i")}(e,s);h.delegationSelector=r?n:null,h.callable=s,h.oneOff=a,h.uidEvent=m,c[m]=h,e.addEventListener(o,h,r)}function P(e,t,n,i,a){const r=M(t[n],i,a);r&&(e.removeEventListener(n,r,Boolean(a)),delete t[n][r.uidEvent])}function z(e,t,n,i){const a=t[n]||{};for(const[r,s]of Object.entries(a))r.includes(i)&&P(e,t,n,s.callable,s.delegationSelector)}function R(e){return e=e.replace(w,""),T[e]||e}u(C,"O"),u(E,"x"),u(M,"k"),u(O,"L"),u(x,"S"),u(P,"D"),u(z,"$"),u(R,"I");const L={on(e,t,n,i){x(e,t,n,i,!1)},one(e,t,n,i){x(e,t,n,i,!0)},off(e,t,n,i){if("string"!=typeof t||!e)return;const[a,r,s]=O(t,n,i),o=s!==t,l=E(e),c=l[s]||{},d=t.startsWith(".");if(void 0===r){if(d)for(const n of Object.keys(l))z(e,l,n,t.slice(1));for(const[n,i]of Object.entries(c)){const a=n.replace(_,"");o&&!t.includes(a)||P(e,l,s,i.callable,i.delegationSelector)}}else{if(!Object.keys(c).length)return;P(e,l,s,r,a?n:null)}},trigger(e,t,n){if("string"!=typeof t||!e)return null;const i=h();let a=null,r=!0,s=!0,o=!1;t!==R(t)&&i&&(a=i.Event(t,n),i(e).trigger(a),r=!a.isPropagationStopped(),s=!a.isImmediatePropagationStopped(),o=a.isDefaultPrevented());const l=I(new Event(t,{bubbles:r,cancelable:!0}),n);return o&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&a&&a.preventDefault(),l}};function I(e,t={}){for(const[i,a]of Object.entries(t))try{e[i]=a}catch(n){Object.defineProperty(e,i,{configurable:!0,get:u((()=>a),"get")})}return e}function N(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function B(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}u(I,"P"),u(N,"j"),u(B,"M");const j={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${B(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${B(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const i of n){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1),t[n]=N(e.dataset[i])}return t},getDataAttribute:u(((e,t)=>N(e.getAttribute(`data-bs-${B(t)}`))),"getDataAttribute")},$=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=r(t)?j.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...r(t)?j.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[i,a]of Object.entries(t)){const t=e[i],s=r(t)?"element":null==(n=t)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(a).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${a}".`)}var n}};u($,"H");let U=$;const F=class extends U{constructor(e,n){super(),(e=s(e))&&(this._element=e,this._config=this._getConfig(n),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){v(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(s(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.5"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}};u(F,"W");let H=F;const W=u((e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t?t.split(",").map((e=>i(e))).join(","):null}),"B"),q={find:u(((e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e))),"find"),findOne:u(((e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e)),"findOne"),children:u(((e,t)=>[].concat(...e.children).filter((e=>e.matches(t)))),"children"),parents(e,t){const n=[];let i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!l(e)&&o(e)))},getSelectorFromElement(e){const t=W(e);return t&&q.findOne(t)?t:null},getElementFromSelector(e){const t=W(e);return t?q.findOne(t):null},getMultipleElementsFromSelector(e){const t=W(e);return t?q.find(t):[]}},V=u(((e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;L.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),l(this))return;const a=q.getElementFromSelector(this)||this.closest(`.${i}`);e.getOrCreateInstance(a)[t]()}))}),"R"),G=".bs.alert",K=`close${G}`,Y=`closed${G}`,Q=class e extends H{static get NAME(){return"alert"}close(){if(L.trigger(this._element,K).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),L.trigger(this._element,Y),this.dispose()}static jQueryInterface(t){return this.each((function(){const n=e.getOrCreateInstance(this);if("string"==typeof t){if(void 0===n[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);n[t](this)}}))}};u(Q,"Q");let J=Q;V(J,"close"),g(J);const X='[data-bs-toggle="button"]',Z=class e extends H{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const n=e.getOrCreateInstance(this);"toggle"===t&&n[t]()}))}};u(Z,"Y");let ee=Z;L.on(document,"click.bs.button.data-api",X,(e=>{e.preventDefault();const t=e.target.closest(X);ee.getOrCreateInstance(t).toggle()})),g(ee);const te=".bs.swipe",ne=`touchstart${te}`,ie=`touchmove${te}`,ae=`touchend${te}`,re=`pointerdown${te}`,se=`pointerup${te}`,oe={endCallback:null,leftCallback:null,rightCallback:null},le={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},ce=class e extends U{constructor(t,n){super(),this._element=t,t&&e.isSupported()&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return oe}static get DefaultType(){return le}static get NAME(){return"swipe"}dispose(){L.off(this._element,te)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),y(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&y(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(L.on(this._element,re,(e=>this._start(e))),L.on(this._element,se,(e=>this._end(e))),this._element.classList.add("pointer-event")):(L.on(this._element,ne,(e=>this._start(e))),L.on(this._element,ie,(e=>this._move(e))),L.on(this._element,ae,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}};u(ce,"st");let de=ce;const ue=".bs.carousel",me=".data-api",he="ArrowLeft",pe="ArrowRight",fe="next",ge="prev",ye="left",ve="right",be=`slide${ue}`,ke=`slid${ue}`,we=`keydown${ue}`,_e=`mouseenter${ue}`,Ae=`mouseleave${ue}`,De=`dragstart${ue}`,Te=`load${ue}${me}`,Se=`click${ue}${me}`,Ce="carousel",Ee="active",Me=".active",Oe=".carousel-item",xe=Me+Oe,Pe={[he]:ve,[pe]:ye},ze={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Re={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},Le=class e extends H{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ce&&this.cycle()}static get Default(){return ze}static get DefaultType(){return Re}static get NAME(){return"carousel"}next(){this._slide(fe)}nextWhenVisible(){!document.hidden&&o(this._element)&&this.next()}prev(){this._slide(ge)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?L.one(this._element,ke,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void L.one(this._element,ke,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const i=e>n?fe:ge;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&L.on(this._element,we,(e=>this._keydown(e))),"hover"===this._config.pause&&(L.on(this._element,_e,(()=>this.pause())),L.on(this._element,Ae,(()=>this._maybeEnableCycle()))),this._config.touch&&de.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of q.find(".carousel-item img",this._element))L.on(t,De,(e=>e.preventDefault()));const e={leftCallback:u((()=>this._slide(this._directionToOrder(ye))),"leftCallback"),rightCallback:u((()=>this._slide(this._directionToOrder(ve))),"rightCallback"),endCallback:u((()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}),"endCallback")};this._swipeHelper=new de(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Pe[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=q.findOne(Me,this._indicatorsElement);t.classList.remove(Ee),t.removeAttribute("aria-current");const n=q.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(Ee),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),i=e===fe,a=t||b(this._getItems(),n,i,this._config.wrap);if(a===n)return;const r=this._getItemIndex(a),s=u((t=>L.trigger(this._element,t,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:r})),"r");if(s(be).defaultPrevented)return;if(!n||!a)return;const o=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=a;const l=i?"carousel-item-start":"carousel-item-end",c=i?"carousel-item-next":"carousel-item-prev";a.classList.add(c),m(a),n.classList.add(l),a.classList.add(l),this._queueCallback((()=>{a.classList.remove(l,c),a.classList.add(Ee),n.classList.remove(Ee,c,l),this._isSliding=!1,s(ke)}),n,this._isAnimated()),o&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return q.findOne(xe,this._element)}_getItems(){return q.find(Oe,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return f()?e===ye?ge:fe:e===ye?fe:ge}_orderToDirection(e){return f()?e===ge?ye:ve:e===ge?ve:ye}static jQueryInterface(t){return this.each((function(){const n=e.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===n[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);n[t]()}}else n.to(t)}))}};u(Le,"Lt");let Ie=Le;L.on(document,Se,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=q.getElementFromSelector(this);if(!t||!t.classList.contains(Ce))return;e.preventDefault();const n=Ie.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(n.to(i),void n._maybeEnableCycle()):"next"===j.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),L.on(window,Te,(()=>{const e=q.find('[data-bs-ride="carousel"]');for(const t of e)Ie.getOrCreateInstance(t)})),g(Ie);const Ne=".bs.collapse",Be=`show${Ne}`,je=`shown${Ne}`,$e=`hide${Ne}`,Ue=`hidden${Ne}`,Fe=`click${Ne}.data-api`,He="show",We="collapse",qe="collapsing",Ve=`:scope .${We} .${We}`,Ge='[data-bs-toggle="collapse"]',Ke={parent:null,toggle:!0},Ye={parent:"(null|element)",toggle:"boolean"},Qe=class e extends H{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=q.find(Ge);for(const i of n){const e=q.getSelectorFromElement(i),t=q.find(e).filter((e=>e===this._element));null!==e&&t.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ke}static get DefaultType(){return Ye}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((t=>e.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(L.trigger(this._element,Be).defaultPrevented)return;for(const e of t)e.hide();const n=this._getDimension();this._element.classList.remove(We),this._element.classList.add(qe),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(qe),this._element.classList.add(We,He),this._element.style[n]="",L.trigger(this._element,je)}),this._element,!0),this._element.style[n]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(L.trigger(this._element,$e).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,m(this._element),this._element.classList.add(qe),this._element.classList.remove(We,He);for(const t of this._triggerArray){const e=q.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(qe),this._element.classList.add(We),L.trigger(this._element,Ue)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(He)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=s(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Ge);for(const t of e){const e=q.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=q.find(Ve,this._config.parent);return q.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(t){const n={};return"string"==typeof t&&/show|hide/.test(t)&&(n.toggle=!1),this.each((function(){const i=e.getOrCreateInstance(this,n);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}}))}};u(Qe,"Rt");let Je=Qe;L.on(document,Fe,Ge,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of q.getMultipleElementsFromSelector(this))Je.getOrCreateInstance(t,{toggle:!1}).toggle()})),g(Je);var Xe="top",Ze="bottom",et="right",tt="left",nt="auto",it=[Xe,Ze,et,tt],at="start",rt="end",st="clippingParents",ot="viewport",lt="popper",ct="reference",dt=it.reduce((function(e,t){return e.concat([t+"-"+at,t+"-"+rt])}),[]),ut=[].concat(it,[nt]).reduce((function(e,t){return e.concat([t,t+"-"+at,t+"-"+rt])}),[]),mt="beforeRead",ht="read",pt="afterRead",ft="beforeMain",gt="main",yt="afterMain",vt="beforeWrite",bt="write",kt="afterWrite",wt=[mt,ht,pt,ft,gt,yt,vt,bt,kt];function _t(e){return e?(e.nodeName||"").toLowerCase():null}function At(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Dt(e){return e instanceof At(e).Element||e instanceof Element}function Tt(e){return e instanceof At(e).HTMLElement||e instanceof HTMLElement}function St(e){return"undefined"!=typeof ShadowRoot&&(e instanceof At(e).ShadowRoot||e instanceof ShadowRoot)}u(_t,"pe"),u(At,"me"),u(Dt,"ge"),u(Tt,"_e"),u(St,"be");const Ct={name:"applyStyles",enabled:!0,phase:"write",fn:u((function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},a=t.elements[e];Tt(a)&&_t(a)&&(Object.assign(a.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))}),"fn"),effect:u((function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],a=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Tt(i)&&_t(i)&&(Object.assign(i.style,r),Object.keys(a).forEach((function(e){i.removeAttribute(e)})))}))}}),"effect"),requires:["computeStyles"]};function Et(e){return e.split("-")[0]}u(Et,"ye");var Mt=Math.max,Ot=Math.min,xt=Math.round;function Pt(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function zt(){return!/^((?!chrome|android).)*safari/i.test(Pt())}function Rt(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),a=1,r=1;t&&Tt(e)&&(a=e.offsetWidth>0&&xt(i.width)/e.offsetWidth||1,r=e.offsetHeight>0&&xt(i.height)/e.offsetHeight||1);var s=(Dt(e)?At(e):window).visualViewport,o=!zt()&&n,l=(i.left+(o&&s?s.offsetLeft:0))/a,c=(i.top+(o&&s?s.offsetTop:0))/r,d=i.width/a,u=i.height/r;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function Lt(e){var t=Rt(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function It(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&St(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Nt(e){return At(e).getComputedStyle(e)}function Bt(e){return["table","td","th"].indexOf(_t(e))>=0}function jt(e){return((Dt(e)?e.ownerDocument:e.document)||window.document).documentElement}function $t(e){return"html"===_t(e)?e:e.assignedSlot||e.parentNode||(St(e)?e.host:null)||jt(e)}function Ut(e){return Tt(e)&&"fixed"!==Nt(e).position?e.offsetParent:null}function Ft(e){for(var t=At(e),n=Ut(e);n&&Bt(n)&&"static"===Nt(n).position;)n=Ut(n);return n&&("html"===_t(n)||"body"===_t(n)&&"static"===Nt(n).position)?t:n||function(e){var t=/firefox/i.test(Pt());if(/Trident/i.test(Pt())&&Tt(e)&&"fixed"===Nt(e).position)return null;var n=$t(e);for(St(n)&&(n=n.host);Tt(n)&&["html","body"].indexOf(_t(n))<0;){var i=Nt(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}function Ht(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Wt(e,t,n){return Mt(e,Ot(t,n))}function qt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Vt(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}u(Pt,"Te"),u(zt,"Ce"),u(Rt,"Oe"),u(Lt,"xe"),u(It,"ke"),u(Nt,"Le"),u(Bt,"Se"),u(jt,"De"),u($t,"$e"),u(Ut,"Ie"),u(Ft,"Ne"),u(Ht,"Pe"),u(Wt,"je"),u(qt,"Me"),u(Vt,"Fe");const Gt={name:"arrow",enabled:!0,phase:"main",fn:u((function(e){var t,n,i,a=e.state,r=e.name,s=e.options,o=a.elements.arrow,l=a.modifiersData.popperOffsets,c=Et(a.placement),d=Ht(c),u=[tt,et].indexOf(c)>=0?"height":"width";if(o&&l){var m=(n=s.padding,i=a,qt("number"!=typeof(n="function"==typeof n?n(Object.assign({},i.rects,{placement:i.placement})):n)?n:Vt(n,it))),h=Lt(o),p="y"===d?Xe:tt,f="y"===d?Ze:et,g=a.rects.reference[u]+a.rects.reference[d]-l[d]-a.rects.popper[u],y=l[d]-a.rects.reference[d],v=Ft(o),b=v?"y"===d?v.clientHeight||0:v.clientWidth||0:0,k=g/2-y/2,w=m[p],_=b-h[u]-m[f],A=b/2-h[u]/2+k,D=Wt(w,A,_),T=d;a.modifiersData[r]=((t={})[T]=D,t.centerOffset=D-A,t)}}),"fn"),effect:u((function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&It(t.elements.popper,i)&&(t.elements.arrow=i)}),"effect"),requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Kt(e){return e.split("-")[1]}u(Kt,"We");var Yt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qt(e){var t,n=e.popper,i=e.popperRect,a=e.placement,r=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,m=s.x,h=void 0===m?0:m,p=s.y,f=void 0===p?0:p,g="function"==typeof d?d({x:h,y:f}):{x:h,y:f};h=g.x,f=g.y;var y=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),b=tt,k=Xe,w=window;if(c){var _=Ft(n),A="clientHeight",D="clientWidth";_===At(n)&&"static"!==Nt(_=jt(n)).position&&"absolute"===o&&(A="scrollHeight",D="scrollWidth"),(a===Xe||(a===tt||a===et)&&r===rt)&&(k=Ze,f-=(u&&_===w&&w.visualViewport?w.visualViewport.height:_[A])-i.height,f*=l?1:-1),a!==tt&&(a!==Xe&&a!==Ze||r!==rt)||(b=et,h-=(u&&_===w&&w.visualViewport?w.visualViewport.width:_[D])-i.width,h*=l?1:-1)}var T,S,C,E,M,O,x=Object.assign({position:o},c&&Yt),P=!0===d?(S={x:h,y:f},C=At(n),E=S.x,M=S.y,O=C.devicePixelRatio||1,{x:xt(E*O)/O||0,y:xt(M*O)/O||0}):{x:h,y:f};return h=P.x,f=P.y,l?Object.assign({},x,((T={})[k]=v?"0":"",T[b]=y?"0":"",T.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+f+"px)":"translate3d("+h+"px, "+f+"px, 0)",T)):Object.assign({},x,((t={})[k]=v?f+"px":"",t[b]=y?h+"px":"",t.transform="",t))}u(Qt,"ze");const Jt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:u((function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,a=void 0===i||i,r=n.adaptive,s=void 0===r||r,o=n.roundOffsets,l=void 0===o||o,c={placement:Et(t.placement),variation:Kt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Qt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Qt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}),"fn"),data:{}};var Xt={passive:!0};const Zt={name:"eventListeners",enabled:!0,phase:"write",fn:u((function(){}),"fn"),effect:u((function(e){var t=e.state,n=e.instance,i=e.options,a=i.scroll,r=void 0===a||a,s=i.resize,o=void 0===s||s,l=At(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",n.update,Xt)})),o&&l.addEventListener("resize",n.update,Xt),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Xt)})),o&&l.removeEventListener("resize",n.update,Xt)}}),"effect"),data:{}};var en={left:"right",right:"left",bottom:"top",top:"bottom"};function tn(e){return e.replace(/left|right|bottom|top/g,(function(e){return en[e]}))}u(tn,"Qe");var nn={start:"end",end:"start"};function an(e){return e.replace(/start|end/g,(function(e){return nn[e]}))}function rn(e){var t=At(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function sn(e){return Rt(jt(e)).left+rn(e).scrollLeft}function on(e){var t=Nt(e),n=t.overflow,i=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+i)}function ln(e){return["html","body","#document"].indexOf(_t(e))>=0?e.ownerDocument.body:Tt(e)&&on(e)?e:ln($t(e))}function cn(e,t){var n;void 0===t&&(t=[]);var i=ln(e),a=i===(null==(n=e.ownerDocument)?void 0:n.body),r=At(i),s=a?[r].concat(r.visualViewport||[],on(i)?i:[]):i,o=t.concat(s);return a?o:o.concat(cn($t(s)))}function dn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function un(e,t,n){return t===ot?dn(function(e,t){var n=At(e),i=jt(e),a=n.visualViewport,r=i.clientWidth,s=i.clientHeight,o=0,l=0;if(a){r=a.width,s=a.height;var c=zt();(c||!c&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:r,height:s,x:o+sn(e),y:l}}(e,n)):Dt(t)?((a=Rt(i=t,!1,"fixed"===n)).top=a.top+i.clientTop,a.left=a.left+i.clientLeft,a.bottom=a.top+i.clientHeight,a.right=a.left+i.clientWidth,a.width=i.clientWidth,a.height=i.clientHeight,a.x=a.left,a.y=a.top,a):dn(function(e){var t,n=jt(e),i=rn(e),a=null==(t=e.ownerDocument)?void 0:t.body,r=Mt(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Mt(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-i.scrollLeft+sn(e),l=-i.scrollTop;return"rtl"===Nt(a||n).direction&&(o+=Mt(n.clientWidth,a?a.clientWidth:0)-r),{width:r,height:s,x:o,y:l}}(jt(e)));var i,a}function mn(e){var t,n=e.reference,i=e.element,a=e.placement,r=a?Et(a):null,s=a?Kt(a):null,o=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(r){case Xe:t={x:o,y:n.y-i.height};break;case Ze:t={x:o,y:n.y+n.height};break;case et:t={x:n.x+n.width,y:l};break;case tt:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=r?Ht(r):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case at:t[c]=t[c]-(n[d]/2-i[d]/2);break;case rt:t[c]=t[c]+(n[d]/2-i[d]/2)}}return t}function hn(e,t){void 0===t&&(t={});var n,i,a,r,s,o,l,c,d,u,m,h=t,p=h.placement,f=void 0===p?e.placement:p,g=h.strategy,y=void 0===g?e.strategy:g,v=h.boundary,b=void 0===v?st:v,k=h.rootBoundary,w=void 0===k?ot:k,_=h.elementContext,A=void 0===_?lt:_,D=h.altBoundary,T=void 0!==D&&D,S=h.padding,C=void 0===S?0:S,E=qt("number"!=typeof C?C:Vt(C,it)),M=A===lt?ct:lt,O=e.rects.popper,x=e.elements[T?M:A],P=(n=Dt(x)?x:x.contextElement||jt(e.elements.popper),a=w,r=y,c="clippingParents"===(i=b)?(o=cn($t(s=n)),Dt(l=["absolute","fixed"].indexOf(Nt(s).position)>=0&&Tt(s)?Ft(s):s)?o.filter((function(e){return Dt(e)&&It(e,l)&&"body"!==_t(e)})):[]):[].concat(i),d=[].concat(c,[a]),u=d[0],m=d.reduce((function(e,t){var i=un(n,t,r);return e.top=Mt(i.top,e.top),e.right=Ot(i.right,e.right),e.bottom=Ot(i.bottom,e.bottom),e.left=Mt(i.left,e.left),e}),un(n,u,r)),m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m),z=Rt(e.elements.reference),R=mn({reference:z,element:O,placement:f}),L=dn(Object.assign({},O,R)),I=A===lt?L:z,N={top:P.top-I.top+E.top,bottom:I.bottom-P.bottom+E.bottom,left:P.left-I.left+E.left,right:I.right-P.right+E.right},B=e.modifiersData.offset;if(A===lt&&B){var j=B[f];Object.keys(N).forEach((function(e){var t=[et,Ze].indexOf(e)>=0?1:-1,n=[Xe,Ze].indexOf(e)>=0?"y":"x";N[e]+=j[n]*t}))}return N}function pn(e,t){void 0===t&&(t={});var n=t,i=n.placement,a=n.boundary,r=n.rootBoundary,s=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?ut:l,d=Kt(i),u=d?o?dt:dt.filter((function(e){return Kt(e)===d})):it,m=u.filter((function(e){return c.indexOf(e)>=0}));0===m.length&&(m=u);var h=m.reduce((function(t,n){return t[n]=hn(e,{placement:n,boundary:a,rootBoundary:r,padding:s})[Et(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}u(an,"Ye"),u(rn,"Ue"),u(sn,"Ge"),u(on,"Je"),u(ln,"Ze"),u(cn,"ti"),u(dn,"ei"),u(un,"ii"),u(mn,"ni"),u(hn,"si"),u(pn,"oi");const fn={name:"flip",enabled:!0,phase:"main",fn:u((function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var a=n.mainAxis,r=void 0===a||a,s=n.altAxis,o=void 0===s||s,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,m=n.altBoundary,h=n.flipVariations,p=void 0===h||h,f=n.allowedAutoPlacements,g=t.options.placement,y=Et(g),v=l||(y!==g&&p?function(e){if(Et(e)===nt)return[];var t=tn(e);return[an(e),t,an(t)]}(g):[tn(g)]),b=[g].concat(v).reduce((function(e,n){return e.concat(Et(n)===nt?pn(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:p,allowedAutoPlacements:f}):n)}),[]),k=t.rects.reference,w=t.rects.popper,_=new Map,A=!0,D=b[0],T=0;T<b.length;T++){var S=b[T],C=Et(S),E=Kt(S)===at,M=[Xe,Ze].indexOf(C)>=0,O=M?"width":"height",x=hn(t,{placement:S,boundary:d,rootBoundary:u,altBoundary:m,padding:c}),P=M?E?et:tt:E?Ze:Xe;k[O]>w[O]&&(P=tn(P));var z=tn(P),R=[];if(r&&R.push(x[C]<=0),o&&R.push(x[P]<=0,x[z]<=0),R.every((function(e){return e}))){D=S,A=!1;break}_.set(S,R)}if(A)for(var L=function(e){var t=b.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return D=t,"break"},I=p?3:1;I>0&&"break"!==L(I);I--);t.placement!==D&&(t.modifiersData[i]._skip=!0,t.placement=D,t.reset=!0)}}),"fn"),requiresIfExists:["offset"],data:{_skip:!1}};function gn(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function yn(e){return[Xe,et,Ze,tt].some((function(t){return e[t]>=0}))}u(gn,"ai"),u(yn,"li");const vn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:u((function(e){var t=e.state,n=e.name,i=t.rects.reference,a=t.rects.popper,r=t.modifiersData.preventOverflow,s=hn(t,{elementContext:"reference"}),o=hn(t,{altBoundary:!0}),l=gn(s,i),c=gn(o,a,r),d=yn(l),u=yn(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}),"fn")},bn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:u((function(e){var t=e.state,n=e.options,i=e.name,a=n.offset,r=void 0===a?[0,0]:a,s=ut.reduce((function(e,n){return e[n]=(i=n,a=t.rects,s=r,o=Et(i),l=[tt,Xe].indexOf(o)>=0?-1:1,c="function"==typeof s?s(Object.assign({},a,{placement:i})):s,d=c[0],u=c[1],d=d||0,u=(u||0)*l,[tt,et].indexOf(o)>=0?{x:u,y:d}:{x:d,y:u}),e;var i,a,s,o,l,c,d,u}),{}),o=s[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}),"fn")},kn={name:"popperOffsets",enabled:!0,phase:"read",fn:u((function(e){var t=e.state,n=e.name;t.modifiersData[n]=mn({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}),"fn"),data:{}},wn={name:"preventOverflow",enabled:!0,phase:"main",fn:u((function(e){var t,n,i=e.state,a=e.options,r=e.name,s=a.mainAxis,o=void 0===s||s,l=a.altAxis,c=void 0!==l&&l,d=a.boundary,u=a.rootBoundary,m=a.altBoundary,h=a.padding,p=a.tether,f=void 0===p||p,g=a.tetherOffset,y=void 0===g?0:g,v=hn(i,{boundary:d,rootBoundary:u,padding:h,altBoundary:m}),b=Et(i.placement),k=Kt(i.placement),w=!k,_=Ht(b),A="x"===_?"y":"x",D=i.modifiersData.popperOffsets,T=i.rects.reference,S=i.rects.popper,C="function"==typeof y?y(Object.assign({},i.rects,{placement:i.placement})):y,E="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),M=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,O={x:0,y:0};if(D){if(o){var x,P="y"===_?Xe:tt,z="y"===_?Ze:et,R="y"===_?"height":"width",L=D[_],I=L+v[P],N=L-v[z],B=f?-S[R]/2:0,j=k===at?T[R]:S[R],$=k===at?-S[R]:-T[R],U=i.elements.arrow,F=f&&U?Lt(U):{width:0,height:0},H=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=H[P],q=H[z],V=Wt(0,T[R],F[R]),G=w?T[R]/2-B-V-W-E.mainAxis:j-V-W-E.mainAxis,K=w?-T[R]/2+B+V+q+E.mainAxis:$+V+q+E.mainAxis,Y=i.elements.arrow&&Ft(i.elements.arrow),Q=Y?"y"===_?Y.clientTop||0:Y.clientLeft||0:0,J=null!=(x=null==M?void 0:M[_])?x:0,X=L+K-J,Z=Wt(f?Ot(I,L+G-J-Q):I,L,f?Mt(N,X):N);D[_]=Z,O[_]=Z-L}if(c){var ee,te="x"===_?Xe:tt,ne="x"===_?Ze:et,ie=D[A],ae="y"===A?"height":"width",re=ie+v[te],se=ie-v[ne],oe=-1!==[Xe,tt].indexOf(b),le=null!=(ee=null==M?void 0:M[A])?ee:0,ce=oe?re:ie-T[ae]-S[ae]-le+E.altAxis,de=oe?ie+T[ae]+S[ae]-le-E.altAxis:se,ue=f&&oe?(n=Wt(ce,ie,t=de))>t?t:n:Wt(f?ce:re,ie,f?de:se);D[A]=ue,O[A]=ue-ie}i.modifiersData[r]=O}}),"fn"),requiresIfExists:["offset"]};function _n(e,t,n){void 0===n&&(n=!1);var i,a,r,s,o,l,c=Tt(t),d=Tt(t)&&(s=(r=t).getBoundingClientRect(),o=xt(s.width)/r.offsetWidth||1,l=xt(s.height)/r.offsetHeight||1,1!==o||1!==l),u=jt(t),m=Rt(e,d,n),h={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(c||!c&&!n)&&(("body"!==_t(t)||on(u))&&(h=(i=t)!==At(i)&&Tt(i)?{scrollLeft:(a=i).scrollLeft,scrollTop:a.scrollTop}:rn(i)),Tt(t)?((p=Rt(t,!0)).x+=t.clientLeft,p.y+=t.clientTop):u&&(p.x=sn(u))),{x:m.left+h.scrollLeft-p.x,y:m.top+h.scrollTop-p.y,width:m.width,height:m.height}}function An(e){var t=new Map,n=new Set,i=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&a(i)}})),i.push(e)}return u(a,"s"),e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),i}u(_n,"fi"),u(An,"pi");var Dn={placement:"bottom",modifiers:[],strategy:"absolute"};function Tn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Sn(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,a=t.defaultOptions,r=void 0===a?Dn:a;return function(e,t,n){void 0===n&&(n=r);var a,s,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dn,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:o,setOptions:u((function(n){var a="function"==typeof n?n(o.options):n;m(),o.options=Object.assign({},r,o.options,a),o.scrollParents={reference:Dt(e)?cn(e):e.contextElement?cn(e.contextElement):[],popper:cn(t)};var s,c,u,h,p=(s=[].concat(i,o.options.modifiers),c=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),u=Object.keys(c).map((function(e){return c[e]})),h=An(u),wt.reduce((function(e,t){return e.concat(h.filter((function(e){return e.phase===t})))}),[]));return o.orderedModifiers=p.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,a=e.effect;if("function"==typeof a){var r=a({state:o,name:t,instance:d,options:i});l.push(r||function(){})}})),d.update()}),"setOptions"),forceUpdate:u((function(){if(!c){var e=o.elements,t=e.reference,n=e.popper;if(Tn(t,n)){o.rects={reference:_n(t,Ft(n),"fixed"===o.options.strategy),popper:Lt(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<o.orderedModifiers.length;i++)if(!0!==o.reset){var a=o.orderedModifiers[i],r=a.fn,s=a.options,l=void 0===s?{}:s,u=a.name;"function"==typeof r&&(o=r({state:o,options:l,name:u,instance:d})||o)}else o.reset=!1,i=-1}}}),"forceUpdate"),update:(a=u((function(){return new Promise((function(e){d.forceUpdate(),e(o)}))}),"s"),function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(a())}))}))),s}),destroy:u((function(){m(),c=!0}),"destroy")};if(!Tn(e,t))return d;function m(){l.forEach((function(e){return e()})),l=[]}return u(m,"d"),d.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}u(Tn,"gi"),u(Sn,"_i");var Cn=Sn(),En=Sn({defaultModifiers:[Zt,kn,Jt,Ct]}),Mn=Sn({defaultModifiers:[Zt,kn,Jt,Ct,bn,fn,wn,Gt,vn]});const On=Object.freeze(Object.defineProperty({__proto__:null,afterMain:yt,afterRead:pt,afterWrite:kt,applyStyles:Ct,arrow:Gt,auto:nt,basePlacements:it,beforeMain:ft,beforeRead:mt,beforeWrite:vt,bottom:Ze,clippingParents:st,computeStyles:Jt,createPopper:Mn,createPopperBase:Cn,createPopperLite:En,detectOverflow:hn,end:rt,eventListeners:Zt,flip:fn,hide:vn,left:tt,main:gt,modifierPhases:wt,offset:bn,placements:ut,popper:lt,popperGenerator:Sn,popperOffsets:kn,preventOverflow:wn,read:ht,reference:ct,right:et,start:at,top:Xe,variationPlacements:dt,viewport:ot,write:bt},Symbol.toStringTag,{value:"Module"})),xn="dropdown",Pn=".bs.dropdown",zn=".data-api",Rn="ArrowUp",Ln="ArrowDown",In=`hide${Pn}`,Nn=`hidden${Pn}`,Bn=`show${Pn}`,jn=`shown${Pn}`,$n=`click${Pn}${zn}`,Un=`keydown${Pn}${zn}`,Fn=`keyup${Pn}${zn}`,Hn="show",Wn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',qn=`${Wn}.${Hn}`,Vn=".dropdown-menu",Gn=f()?"top-end":"top-start",Kn=f()?"top-start":"top-end",Yn=f()?"bottom-end":"bottom-start",Qn=f()?"bottom-start":"bottom-end",Jn=f()?"left-start":"right-start",Xn=f()?"right-start":"left-start",Zn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ei={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},ti=class e extends H{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=q.next(this._element,Vn)[0]||q.prev(this._element,Vn)[0]||q.findOne(Vn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Zn}static get DefaultType(){return ei}static get NAME(){return xn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!L.trigger(this._element,Bn,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))L.on(e,"mouseover",d);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Hn),this._element.classList.add(Hn),L.trigger(this._element,jn,e)}}hide(){if(l(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!L.trigger(this._element,In,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))L.off(e,"mouseover",d);this._popper&&this._popper.destroy(),this._menu.classList.remove(Hn),this._element.classList.remove(Hn),this._element.setAttribute("aria-expanded","false"),j.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,Nn,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!r(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${xn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===On)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;"parent"===this._config.reference?e=this._parent:r(this._config.reference)?e=s(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Mn(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Hn)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Jn;if(e.classList.contains("dropstart"))return Xn;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Kn:Gn:t?Qn:Yn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(j.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...y(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const n=q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>o(e)));n.length&&b(n,t,e===Ln,!n.includes(t)).focus()}static jQueryInterface(t){return this.each((function(){const n=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const n=q.find(qn);for(const i of n){const n=e.getInstance(i);if(!n||!1===n._config.autoClose)continue;const a=t.composedPath(),r=a.includes(n._menu);if(a.includes(n._element)||"inside"===n._config.autoClose&&!r||"outside"===n._config.autoClose&&r)continue;if(n._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const s={relatedTarget:n._element};"click"===t.type&&(s.clickEvent=t),n._completeHide(s)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,a=[Rn,Ln].includes(t.key);if(!a&&!i)return;if(n&&!i)return;t.preventDefault();const r=this.matches(Wn)?this:q.prev(this,Wn)[0]||q.next(this,Wn)[0]||q.findOne(Wn,t.delegateTarget.parentNode),s=e.getOrCreateInstance(r);if(a)return t.stopPropagation(),s.show(),void s._selectMenuItem(t);s._isShown()&&(t.stopPropagation(),s.hide(),r.focus())}};u(ti,"Ki");let ni=ti;L.on(document,Un,Wn,ni.dataApiKeydownHandler),L.on(document,Un,Vn,ni.dataApiKeydownHandler),L.on(document,$n,ni.clearMenus),L.on(document,Fn,ni.clearMenus),L.on(document,$n,Wn,(function(e){e.preventDefault(),ni.getOrCreateInstance(this).toggle()})),g(ni);const ii="backdrop",ai="show",ri=`mousedown.bs.${ii}`,si={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},oi={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},li=class extends U{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return si}static get DefaultType(){return oi}static get NAME(){return ii}show(e){if(!this._config.isVisible)return void y(e);this._append();const t=this._getElement();this._config.isAnimated&&m(t),t.classList.add(ai),this._emulateAnimation((()=>{y(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(ai),this._emulateAnimation((()=>{this.dispose(),y(e)}))):y(e)}dispose(){this._isAppended&&(L.off(this._element,ri),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=s(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),L.on(e,ri,(()=>{y(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){v(e,this._getElement(),this._config.isAnimated)}};u(li,"Ji");let ci=li;const di=".bs.focustrap",ui=`focusin${di}`,mi=`keydown.tab${di}`,hi="backward",pi={autofocus:!0,trapElement:null},fi={autofocus:"boolean",trapElement:"element"},gi=class extends U{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return pi}static get DefaultType(){return fi}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),L.off(document,di),L.on(document,ui,(e=>this._handleFocusin(e))),L.on(document,mi,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,di))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=q.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===hi?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?hi:"forward")}};u(gi,"rn");let yi=gi;const vi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",bi=".sticky-top",ki="padding-right",wi="margin-right",_i=class{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ki,(t=>t+e)),this._setElementAttributes(vi,ki,(t=>t+e)),this._setElementAttributes(bi,wi,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ki),this._resetElementAttributes(vi,ki),this._resetElementAttributes(bi,wi)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const i=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+i)return;this._saveInitialAttribute(e,t);const a=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(a))}px`)}))}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&j.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=j.getDataAttribute(e,t);null!==n?(j.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(r(e))t(e);else for(const n of q.find(e,this._element))t(n)}};u(_i,"dn");let Ai=_i;const Di=".bs.modal",Ti=`hide${Di}`,Si=`hidePrevented${Di}`,Ci=`hidden${Di}`,Ei=`show${Di}`,Mi=`shown${Di}`,Oi=`resize${Di}`,xi=`click.dismiss${Di}`,Pi=`mousedown.dismiss${Di}`,zi=`keydown.dismiss${Di}`,Ri=`click${Di}.data-api`,Li="modal-open",Ii="show",Ni="modal-static",Bi={backdrop:!0,focus:!0,keyboard:!0},ji={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},$i=class e extends H{constructor(e,t){super(e,t),this._dialog=q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ai,this._addEventListeners()}static get Default(){return Bi}static get DefaultType(){return ji}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||L.trigger(this._element,Ei,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Li),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(L.trigger(this._element,Ti).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ii),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){L.off(window,Di),L.off(this._dialog,Di),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ci({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yi({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=q.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),m(this._element),this._element.classList.add(Ii),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,Mi,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){L.on(this._element,zi,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),L.on(window,Oi,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),L.on(this._element,Pi,(e=>{L.one(this._element,xi,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Li),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,Ci)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(L.trigger(this._element,Si).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Ni)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Ni),this._queueCallback((()=>{this._element.classList.remove(Ni),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=f()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=f()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each((function(){const i=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](n)}}))}};u($i,"kn");let Ui=$i;L.on(document,Ri,'[data-bs-toggle="modal"]',(function(e){const t=q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),L.one(t,Ei,(e=>{e.defaultPrevented||L.one(t,Ci,(()=>{o(this)&&this.focus()}))}));const n=q.findOne(".modal.show");n&&Ui.getInstance(n).hide(),Ui.getOrCreateInstance(t).toggle(this)})),V(Ui),g(Ui);const Fi=".bs.offcanvas",Hi=".data-api",Wi=`load${Fi}${Hi}`,qi="show",Vi="showing",Gi="hiding",Ki=".offcanvas.show",Yi=`show${Fi}`,Qi=`shown${Fi}`,Ji=`hide${Fi}`,Xi=`hidePrevented${Fi}`,Zi=`hidden${Fi}`,ea=`resize${Fi}`,ta=`click${Fi}${Hi}`,na=`keydown.dismiss${Fi}`,ia={backdrop:!0,keyboard:!0,scroll:!1},aa={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},ra=class e extends H{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ia}static get DefaultType(){return aa}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||L.trigger(this._element,Yi,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ai).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Vi),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(qi),this._element.classList.remove(Vi),L.trigger(this._element,Qi,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(L.trigger(this._element,Ji).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Gi),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(qi,Gi),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Ai).reset(),L.trigger(this._element,Zi)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new ci({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():L.trigger(this._element,Xi)}:null})}_initializeFocusTrap(){return new yi({trapElement:this._element})}_addEventListeners(){L.on(this._element,na,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():L.trigger(this._element,Xi))}))}static jQueryInterface(t){return this.each((function(){const n=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);n[t](this)}}))}};u(ra,"Kn");let sa=ra;L.on(document,ta,'[data-bs-toggle="offcanvas"]',(function(e){const t=q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this))return;L.one(t,Zi,(()=>{o(this)&&this.focus()}));const n=q.findOne(Ki);n&&n!==t&&sa.getInstance(n).hide(),sa.getOrCreateInstance(t).toggle(this)})),L.on(window,Wi,(()=>{for(const e of q.find(Ki))sa.getOrCreateInstance(e).show()})),L.on(window,ea,(()=>{for(const e of q.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&sa.getOrCreateInstance(e).hide()})),V(sa),g(sa);const oa={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},la=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ca=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,da=u(((e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!la.has(n)||Boolean(ca.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))}),"Un"),ua={allowList:oa,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ma={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ha={entry:"(string|element|function|null)",selector:"(string|element)"},pa=class extends U{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return ua}static get DefaultType(){return ma}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(e,a,i);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},ha)}_setContent(e,t,n){const i=q.findOne(n,e);i&&((t=this._resolvePossibleFunction(t))?r(t)?this._putElementInTemplate(s(t),i):this._config.html?i.innerHTML=this._maybeSanitize(t):i.textContent=t:i.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const i=(new window.DOMParser).parseFromString(e,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const r of a){const e=r.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){r.remove();continue}const n=[].concat(...r.attributes),i=[].concat(t["*"]||[],t[e]||[]);for(const t of n)da(t,i)||r.removeAttribute(t.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return y(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}};u(pa,"ts");let fa=pa;const ga=new Set(["sanitize","allowList","sanitizeFn"]),ya="fade",va="show",ba=".tooltip-inner",ka=".modal",wa="hide.bs.modal",_a="hover",Aa="focus",Da={AUTO:"auto",TOP:"top",RIGHT:f()?"left":"right",BOTTOM:"bottom",LEFT:f()?"right":"left"},Ta={allowList:oa,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Sa={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Ca=class e extends H{constructor(e,t){if(void 0===On)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ta}static get DefaultType(){return Sa}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(ka),wa,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=L.trigger(this._element,this.constructor.eventName("show")),t=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(n),L.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(va),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))L.on(a,"mouseover",d);this._queueCallback((()=>{L.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!L.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(va),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))L.off(e,"mouseover",d);this._activeTrigger.click=!1,this._activeTrigger[Aa]=!1,this._activeTrigger[_a]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(ya,va),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(ya),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new fa({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ba]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ya)}_isShown(){return this.tip&&this.tip.classList.contains(va)}_createPopper(e){const t=y(this._config.placement,[this,e,this._element]),n=Da[t.toUpperCase()];return Mn(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return y(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:u((e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}),"fn")}]};return{...t,...y(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)L.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===_a?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===_a?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");L.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Aa:_a]=!0,t._enter()})),L.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Aa:_a]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(ka),wa,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=j.getDataAttributes(this._element);for(const n of Object.keys(t))ga.has(n)&&delete t[n];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:s(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const n=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}};u(Ca,"us");let Ea=Ca;g(Ea);const Ma=".popover-header",Oa=".popover-body",xa={...Ea.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Pa={...Ea.DefaultType,content:"(null|string|element|function)"},za=class e extends Ea{static get Default(){return xa}static get DefaultType(){return Pa}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ma]:this._getTitle(),[Oa]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const n=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}};u(za,"_s");let Ra=za;g(Ra);const La=".bs.scrollspy",Ia=`activate${La}`,Na=`click${La}`,Ba=`load${La}.data-api`,ja="active",$a="[href]",Ua=".nav-link",Fa=`${Ua}, .nav-item > ${Ua}, .list-group-item`,Ha={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Wa={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},qa=class e extends H{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ha}static get DefaultType(){return Wa}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=s(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(L.off(this._config.target,Na),L.on(this._config.target,Na,$a,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:i,behavior:"smooth"});n.scrollTop=i}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=u((e=>this._targetLinks.get(`#${e.target.id}`)),"e"),n=u((e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))}),"i"),i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const r of e){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(r));continue}const e=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&e){if(n(r),!i)return}else a||e||n(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=q.find($a,this._config.target);for(const t of e){if(!t.hash||l(t))continue;const e=q.findOne(decodeURI(t.hash),this._element);o(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ja),this._activateParents(e),L.trigger(this._element,Ia,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))q.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(ja);else for(const t of q.parents(e,".nav, .list-group"))for(const e of q.prev(t,Fa))e.classList.add(ja)}_clearActiveClass(e){e.classList.remove(ja);const t=q.find(`${$a}.${ja}`,e);for(const n of t)n.classList.remove(ja)}static jQueryInterface(t){return this.each((function(){const n=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);n[t]()}}))}};u(qa,"ks");let Va=qa;L.on(window,Ba,(()=>{for(const e of q.find('[data-bs-spy="scroll"]'))Va.getOrCreateInstance(e)})),g(Va);const Ga=".bs.tab",Ka=`hide${Ga}`,Ya=`hidden${Ga}`,Qa=`show${Ga}`,Ja=`shown${Ga}`,Xa=`click${Ga}`,Za=`keydown${Ga}`,er=`load${Ga}`,tr="ArrowLeft",nr="ArrowRight",ir="ArrowUp",ar="ArrowDown",rr="Home",sr="End",or="active",lr="fade",cr="show",dr=".dropdown-toggle",ur=`:not(${dr})`,mr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',hr=`.nav-link${ur}, .list-group-item${ur}, [role="tab"]${ur}, ${mr}`,pr=`.${or}[data-bs-toggle="tab"], .${or}[data-bs-toggle="pill"], .${or}[data-bs-toggle="list"]`,fr=class e extends H{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),L.on(this._element,Za,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?L.trigger(t,Ka,{relatedTarget:e}):null;L.trigger(e,Qa,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(or),this._activate(q.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),L.trigger(e,Ja,{relatedTarget:t})):e.classList.add(cr)}),e,e.classList.contains(lr)))}_deactivate(e,t){e&&(e.classList.remove(or),e.blur(),this._deactivate(q.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),L.trigger(e,Ya,{relatedTarget:t})):e.classList.remove(cr)}),e,e.classList.contains(lr)))}_keydown(t){if(![tr,nr,ir,ar,rr,sr].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter((e=>!l(e)));let i;if([rr,sr].includes(t.key))i=n[t.key===rr?0:n.length-1];else{const e=[nr,ar].includes(t.key);i=b(n,t.target,e,!0)}i&&(i.focus({preventScroll:!0}),e.getOrCreateInstance(i).show())}_getChildren(){return q.find(hr,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=q.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;const i=u(((e,i)=>{const a=q.findOne(e,n);a&&a.classList.toggle(i,t)}),"n");i(dr,or),i(".dropdown-menu",cr),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(or)}_getInnerElement(e){return e.matches(hr)?e:q.findOne(hr,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(t){return this.each((function(){const n=e.getOrCreateInstance(this);if("string"==typeof t){if(void 0===n[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);n[t]()}}))}};u(fr,"Gs");let gr=fr;L.on(document,Xa,mr,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this)||gr.getOrCreateInstance(this).show()})),L.on(window,er,(()=>{for(const e of q.find(pr))gr.getOrCreateInstance(e)})),g(gr);const yr=".bs.toast",vr=`mouseover${yr}`,br=`mouseout${yr}`,kr=`focusin${yr}`,wr=`focusout${yr}`,_r=`hide${yr}`,Ar=`hidden${yr}`,Dr=`show${yr}`,Tr=`shown${yr}`,Sr="hide",Cr="show",Er="showing",Mr={animation:"boolean",autohide:"boolean",delay:"number"},Or={animation:!0,autohide:!0,delay:5e3},xr=class e extends H{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Or}static get DefaultType(){return Mr}static get NAME(){return"toast"}show(){L.trigger(this._element,Dr).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Sr),m(this._element),this._element.classList.add(Cr,Er),this._queueCallback((()=>{this._element.classList.remove(Er),L.trigger(this._element,Tr),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(L.trigger(this._element,_r).defaultPrevented||(this._element.classList.add(Er),this._queueCallback((()=>{this._element.classList.add(Sr),this._element.classList.remove(Er,Cr),L.trigger(this._element,Ar)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Cr),super.dispose()}isShown(){return this._element.classList.contains(Cr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,vr,(e=>this._onInteraction(e,!0))),L.on(this._element,br,(e=>this._onInteraction(e,!1))),L.on(this._element,kr,(e=>this._onInteraction(e,!0))),L.on(this._element,wr,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const n=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](this)}}))}};u(xr,"fo");let Pr=xr;V(Pr),g(Pr)}();const Km={template:'\n    <div class="d-flex justify-content-center align-items-center p-3">\n      <div class="spinner-border text-primary" role="status">\n        <span class="visually-hidden">Yükleniyor...</span>\n      </div>\n    </div>\n  '},Ym={template:'\n    <div class="alert alert-danger" role="alert">\n      <i class="bi bi-exclamation-triangle me-2"></i> Bileşen yüklenirken hata oluştu.\n    </div>\n  ',props:["error"]};function Qm(e){try{e.component("Notifications",Im),e.component("AIChatbotButton",ee({loader:u((()=>Hm((()=>Promise.resolve().then((()=>ro))),void 0,import.meta.url).catch((e=>Ym))),"loader"),loadingComponent:Km,errorComponent:Ym}))}catch(t){}}u(Qm,"registerComponents"),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{})).catch((e=>{}))}));const Jm=te($m),Xm=ne();Jm.use(Xm),Jm.use(Gm),Qm(Jm),Jm.config.globalProperties.$eventBus=Gt(),Jm.config.globalProperties.$apiService=jt,Jm.config.globalProperties.$aiService=Zs,Jm.config.errorHandler=(e,t,n)=>{},Jm.mount("#app");export{Pl as C,en as L,to as _,mn as a,Lt as b,co as c,jt as d,Zs as e,Ps as u};
